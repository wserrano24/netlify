{"version":3,"file":"SettingsModel.js","sources":["../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/util/SettingsModel.js"],"sourcesContent":["import oktaUnderscore from './underscore-wrapper.js';\nimport Model from '../models/Model.js';\n\n/**\n * @class SettingsModel\n * @extends {Okta.Model}\n * @private\n */\nconst props = {\n  local: function () {\n    const settings = window.okta && window.okta.settings || {};\n    const theme = window.okta && window.okta.theme || '';\n    return {\n      orgId: ['string', false, settings.orgId],\n      orgName: ['string', false, settings.orgName],\n      serverStatus: ['string', false, settings.serverStatus],\n      persona: ['string', false, settings.persona],\n      isDeveloperConsole: ['boolean', false, settings.isDeveloperConsole],\n      isPreview: ['boolean', false, settings.isPreview],\n      permissions: ['array', true, settings.permissions || []],\n      theme: ['string', false, theme]\n    };\n  },\n  constructor: function () {\n    Model.apply(this, arguments);\n    this.features = window._features || [];\n  },\n\n  /**\n   * Checks if the user have a feature flag enabled (Based of the org level feature flag)\n   * @param  {String}  feature Feature name\n   * @return {Boolean}\n   */\n  hasFeature: function (feature) {\n    return oktaUnderscore.contains(this.features, feature);\n  },\n\n  /**\n   * Checks if any of the given feature flags are enabled (Based of the org level feature flags)\n   * @param  {Array}  featureArray Features names\n   * @return {Boolean} true if any of the give features are enabled. False otherwise\n   */\n  hasAnyFeature: function (featureArray) {\n    return oktaUnderscore.some(featureArray, this.hasFeature, this);\n  },\n\n  /**\n   * Checks if the user have a specific permission (based on data passed from JSP)\n   * @param  {String}  permission Permission name\n   * @return {Boolean}\n   */\n  hasPermission: function (permission) {\n    return oktaUnderscore.contains(this.get('permissions'), permission);\n  },\n\n  /**\n   * Checks if the org has ds theme set\n   * @return {Boolean}\n   */\n  isDsTheme: function () {\n    return this.get('theme') === 'dstheme';\n  }\n};\nvar SettingsModel = Model.extend(props);\n\nexport { SettingsModel as default };\n"],"names":["props","local","settings","window","okta","theme","orgId","orgName","serverStatus","persona","isDeveloperConsole","isPreview","permissions","constructor","Model","apply","arguments","features","_features","hasFeature","feature","oktaUnderscore","contains","hasAnyFeature","featureArray","some","hasPermission","permission","get","isDsTheme","SettingsModel","extend"],"mappings":";;;AAGA;AACA;AACA;AACA;AACA;;AACA,MAAMA,KAAK,GAAG;AACZC,EAAAA,KAAK,EAAE,YAAY;AACjB,IAAA,MAAMC,QAAQ,GAAGC,MAAM,CAACC,IAAP,IAAeD,MAAM,CAACC,IAAP,CAAYF,QAA3B,IAAuC,EAAxD,CAAA;AACA,IAAA,MAAMG,KAAK,GAAGF,MAAM,CAACC,IAAP,IAAeD,MAAM,CAACC,IAAP,CAAYC,KAA3B,IAAoC,EAAlD,CAAA;AACA,IAAO,OAAA;AACLC,MAAAA,KAAK,EAAE,CAAC,QAAD,EAAW,KAAX,EAAkBJ,QAAQ,CAACI,KAA3B,CADF;AAELC,MAAAA,OAAO,EAAE,CAAC,QAAD,EAAW,KAAX,EAAkBL,QAAQ,CAACK,OAA3B,CAFJ;AAGLC,MAAAA,YAAY,EAAE,CAAC,QAAD,EAAW,KAAX,EAAkBN,QAAQ,CAACM,YAA3B,CAHT;AAILC,MAAAA,OAAO,EAAE,CAAC,QAAD,EAAW,KAAX,EAAkBP,QAAQ,CAACO,OAA3B,CAJJ;AAKLC,MAAAA,kBAAkB,EAAE,CAAC,SAAD,EAAY,KAAZ,EAAmBR,QAAQ,CAACQ,kBAA5B,CALf;AAMLC,MAAAA,SAAS,EAAE,CAAC,SAAD,EAAY,KAAZ,EAAmBT,QAAQ,CAACS,SAA5B,CANN;AAOLC,MAAAA,WAAW,EAAE,CAAC,OAAD,EAAU,IAAV,EAAgBV,QAAQ,CAACU,WAAT,IAAwB,EAAxC,CAPR;AAQLP,MAAAA,KAAK,EAAE,CAAC,QAAD,EAAW,KAAX,EAAkBA,KAAlB,CAAA;AARF,KAAP,CAAA;AAUD,GAdW;AAeZQ,EAAAA,WAAW,EAAE,YAAY;AACvBC,IAAAA,KAAK,CAACC,KAAN,CAAY,IAAZ,EAAkBC,SAAlB,CAAA,CAAA;AACA,IAAA,IAAA,CAAKC,QAAL,GAAgBd,MAAM,CAACe,SAAP,IAAoB,EAApC,CAAA;AACD,GAlBW;;AAoBZ;AACF;AACA;AACA;AACA;AACEC,EAAAA,UAAU,EAAE,UAAUC,OAAV,EAAmB;AAC7B,IAAOC,OAAAA,cAAc,CAACC,QAAf,CAAwB,KAAKL,QAA7B,EAAuCG,OAAvC,CAAP,CAAA;AACD,GA3BW;;AA6BZ;AACF;AACA;AACA;AACA;AACEG,EAAAA,aAAa,EAAE,UAAUC,YAAV,EAAwB;AACrC,IAAOH,OAAAA,cAAc,CAACI,IAAf,CAAoBD,YAApB,EAAkC,IAAKL,CAAAA,UAAvC,EAAmD,IAAnD,CAAP,CAAA;AACD,GApCW;;AAsCZ;AACF;AACA;AACA;AACA;AACEO,EAAAA,aAAa,EAAE,UAAUC,UAAV,EAAsB;AACnC,IAAON,OAAAA,cAAc,CAACC,QAAf,CAAwB,IAAA,CAAKM,GAAL,CAAS,aAAT,CAAxB,EAAiDD,UAAjD,CAAP,CAAA;AACD,GA7CW;;AA+CZ;AACF;AACA;AACA;AACEE,EAAAA,SAAS,EAAE,YAAY;AACrB,IAAA,OAAO,IAAKD,CAAAA,GAAL,CAAS,OAAT,MAAsB,SAA7B,CAAA;AACD,GAAA;AArDW,CAAd,CAAA;AAuDA,IAAIE,aAAa,GAAGhB,KAAK,CAACiB,MAAN,CAAa/B,KAAb;;;;"}
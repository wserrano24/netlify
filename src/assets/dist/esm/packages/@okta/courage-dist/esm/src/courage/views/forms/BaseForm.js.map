{"version":3,"file":"BaseForm.js","sources":["../../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/views/forms/BaseForm.js"],"sourcesContent":["import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport StringUtil from '../../util/StringUtil.js';\nimport BaseView from '../BaseView.js';\nimport ReadModeBar from './components/ReadModeBar.js';\nimport Toolbar from './components/Toolbar.js';\nimport ErrorBanner from './helpers/ErrorBanner.js';\nimport ErrorParser from './helpers/ErrorParser.js';\nimport FormUtil from './helpers/FormUtil.js';\nimport InputContainer from './helpers/InputContainer.js';\nimport InputFactory from './helpers/InputFactory.js';\nimport InputLabel from './helpers/InputLabel.js';\nimport InputWrapper from './helpers/InputWrapper.js';\nimport SettingsModel from '../../util/SettingsModel.js';\n\nconst template = _Handlebars2.template({\n  \"1\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h2 class=\\\"o-form-title-bar\\\" data-se=\\\"o-form-title-bar\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 75\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 84\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"3\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return (stack1 = lookupProperty(helpers, \"if\").call(depth0 != null ? depth0 : container.nullContext || {}, depth0 != null ? lookupProperty(depth0, \"title\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(4, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 192\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 288\n        }\n      }\n    })) != null ? stack1 : \"\";\n  },\n  \"4\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h2 data-se=\\\"o-form-head\\\" class=\\\"okta-form-title o-form-head\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 267\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 276\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"6\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<p class=\\\"okta-form-subtitle o-form-explain\\\" data-se=\\\"o-form-explain\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"subtitle\") || (depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"subtitle\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 385\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 397\n        }\n      }\n    }) : helper)) + \"</p>\";\n  },\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"hasReadMode\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(1, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 0\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 96\n        }\n      }\n    })) != null ? stack1 : \"\") + \"<div data-se=\\\"o-form-content\\\" class=\\\"o-form-content \" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"layout\") || (depth0 != null ? lookupProperty(depth0, \"layout\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(alias1, {\n      \"name\": \"layout\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 148\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 158\n        }\n      }\n    }) : helper)) + \" clearfix\\\">\" + ((stack1 = lookupProperty(helpers, \"unless\").call(alias1, depth0 != null ? lookupProperty(depth0, \"hasReadMode\") : depth0, {\n      \"name\": \"unless\",\n      \"hash\": {},\n      \"fn\": container.program(3, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 169\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 299\n        }\n      }\n    })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(6, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 299\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 408\n        }\n      }\n    })) != null ? stack1 : \"\") + \"<div class=\\\"o-form-error-container\\\" data-se=\\\"o-form-error-container\\\"></div><div class=\\\"o-form-fieldset-container\\\" data-se=\\\"o-form-fieldset-container\\\"></div></div>\";\n  },\n  \"useData\": true\n});\n\nconst sectionTitleTemplate = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h2 class=\\\"o-form-head\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 24\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 33\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"useData\": true\n});\n\nconst pointerEventsSupported = oktaJQueryStatic('<div>').css({\n  'pointer-events': 'auto'\n})[0].style.pointerEvents === 'auto'; // polyfill for `pointer-events: none;` in IE < 11\n// Logic borrowed from https://github.com/kmewhort/pointer_events_polyfill (BSD)\n\nfunction pointerEventsPolyfill(e) {\n  if (!pointerEventsSupported && this.$el.hasClass('o-form-saving')) {\n    const $el = oktaJQueryStatic(e.currentTarget);\n    $el.css('display', 'none');\n    const underneathElem = document.elementFromPoint(e.clientX, e.clientY);\n    $el.css('display', 'block');\n    e.target = underneathElem;\n    oktaJQueryStatic(underneathElem).trigger(e);\n    return false;\n  }\n}\n\nconst events = {\n  submit: function (e) {\n    e.preventDefault();\n\n    this.__save();\n  }\n};\n\noktaUnderscore.each(['click', 'dblclick', 'mousedown', 'mouseup'], function (event) {\n  events[event + ' .o-form-input'] = pointerEventsPolyfill;\n});\n\nconst attributes = function (model) {\n  model || (model = {});\n  const collection = model && model.collection || {};\n  return {\n    method: 'POST',\n    action: oktaUnderscore.result(model, 'urlRoot') || oktaUnderscore.result(collection, 'url') || window.location.pathname,\n    'data-se': 'o-form',\n    slot: 'content'\n  };\n};\n\nconst convertSavingState = function (rawSavingStateEvent, defaultEvent) {\n  rawSavingStateEvent || (rawSavingStateEvent = '');\n  let savingStateEvent = [];\n\n  if (oktaUnderscore.isString(rawSavingStateEvent)) {\n    savingStateEvent = rawSavingStateEvent.split(' ');\n  }\n\n  savingStateEvent = oktaUnderscore.union(savingStateEvent, defaultEvent);\n  return savingStateEvent.join(' ');\n};\n\nconst getErrorSummary = function (responseJSON = {}) {\n  if (Array.isArray(responseJSON.errorCauses) && responseJSON.errorCauses.length > 0) {\n    //set errorSummary from first errorCause which is not field specific error\n    return responseJSON.errorCauses[0].errorSummary;\n  } else {\n    //set errorSummary from top level errorSummary\n    return responseJSON.errorSummary;\n  }\n};\n/**\n * A Form utility framework\n *\n * Okta.Form is a form that operates on one flat model\n * It exposes one main factory method, {@link module:Okta.Form#addInput|addInput}, which add inputs to the form,\n * and each input operates on one field in the model, identified by the `name` field.\n *\n * See:\n * [Basic O-Form Tutorial](https://github.com/okta/courage/wiki/Basic-O-Form)\n *\n * @class module:Okta.Form\n * @extends module:Okta.View\n * @param {Object} options options hash (See {@link module:Okta.View|View})\n * @param {Object} options.model the model this form operates on\n * @param {Boolean} [options.label-top=false] position label on top of inputs\n * @param {Boolean} [options.wide=false] Use a wide input layout for all input\n */\n\n/**\n * Fired when the \"Save\" button is clicked\n * @event module:Okta.Form#save\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired after the model is successfully saved - applies when {@link module:Okta.Form#autoSave|autoSave}\n * is set to true\n * @event module:Okta.Form#saved\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the model fires an invalid event or an error event;\n * @event module:Okta.Form#error\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the form layout is likely to be resized\n * @event module:Okta.Form#resize\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the \"Cancel\" button is clicked\n * @event module:Okta.Form#cancel\n */\n\n\nvar BaseForm = BaseView.extend(\n/** @lends module:Okta.Form.prototype */\n{\n  /**\n   * Specifies how to validate form:\n   * - In case \"local\" string provided as a value of the property,\n   * the form will validate only fields added as inputs to the form;\n   * - In case array is provided, the validation will be performed only for fields specified in array;\n   * - In case function is provided, provided function will be used as a validation function,\n   * it must return an error object with the format {fieldName: 'error text'} with as many fields as you need.\n   * @name validate\n   * @memberof module:Okta.Form\n   * @type {String|Array|Function}\n   * @instance\n   */\n  constructor: function (options) {\n    /* eslint max-statements: 0, complexity: 0 */\n    options || (options = {});\n    this.options = options;\n\n    if (options.settings) {\n      this.settings = options.settings;\n    } else {\n      this.settings = options.settings = new SettingsModel();\n    }\n\n    this.id = oktaUnderscore.uniqueId('form');\n    this.tagName = 'form';\n\n    oktaUnderscore.defaults(this.events, events);\n\n    oktaUnderscore.defaults(this.attributes, attributes(options.model));\n\n    this.__buttons = [];\n    this.__errorFields = {};\n\n    this.__saveModelState(options.model);\n\n    const step = oktaUnderscore.result(this, 'step');\n\n    if (step) {\n      // checking exists of `this.save` hence don't have to change to\n      // `_.result(this, 'save')` which will execute the function and\n      // is not the intent.\n      if (!this.save) {\n        const totalStep = oktaUnderscore.result(this, 'totalSteps');\n\n        this.save = !totalStep || step === totalStep ? StringUtil.localize('oform.button.finish', 'courage') : StringUtil.localize('oform.button.next', 'courage');\n      }\n\n      this.className = oktaUnderscore.result(this, 'className') + ' wizard';\n    }\n\n    this.className = oktaUnderscore.result(this, 'className') + ' o-form';\n    this.__toolbar = this.__createToolbar(options);\n    BaseView.call(this, options);\n\n    oktaUnderscore.each(oktaUnderscore.result(this, 'inputs') || [], function (input) {\n      // to ingore extra argumests from `each` iteratee function\n      // http://underscorejs.org/#each\n      this.__addLayoutItem(input);\n    }, this);\n\n    this.add(this.__toolbar, ''); // NOTES: this.model shall be initialized after calling\n    // super (BaseView.call(this, options)) above.\n    //\n\n    this.listenTo(this.model, 'change:__edit__', this.__applyMode);\n    this.listenTo(this.model, 'invalid error', oktaUnderscore.throttle(function (model, resp, showBanner) {\n      this.__showErrors(model, resp, showBanner !== false);\n    }, 100, {\n      trailing: false\n    }));\n    this.listenTo(this.model, 'form:resize', function () {\n      this.trigger('resize');\n    });\n    this.listenTo(this.model, 'form:cancel', oktaUnderscore.throttle(this.__cancel, 100, {\n      trailing: false\n    }));\n    this.listenTo(this.model, 'form:previous', oktaUnderscore.throttle(this.__previous, 100, {\n      trailing: false\n    }));\n    this.__save = oktaUnderscore.throttle(this.__save, 200, {\n      trailing: false\n    });\n    this.listenTo(this.model, 'form:save', function () {\n      this.$el.submit();\n    });\n    this.listenTo(this.model, 'sync', function () {\n      if (this.model.get('__edit__')) {\n        this.model.set('__edit__', false, {\n          silent: true\n        });\n      }\n\n      this.__saveModelState(this.model);\n\n      this.render();\n    });\n    let hasSavingState = this.getAttribute('hasSavingState');\n\n    if (this.getAttribute('autoSave')) {\n      this.listenTo(this, 'save', function (model) {\n        const xhr = model.save();\n\n        if (xhr && xhr.done) {\n          xhr.done(() => {\n            this.trigger('saved', model);\n          });\n        }\n      });\n\n      if (oktaUnderscore.isUndefined(hasSavingState)) {\n        hasSavingState = true;\n      }\n    }\n    /*\n    * Attach model event listeners\n    * by default, model's request event starts the form saving state,\n    * error and sync event stops it\n    * you can define customized saving start and stop state, like\n    * customSavingState: {start: 'requestingAdditionalInfo', stop: 'retrievedAdditionalInfo'}\n    * doing this does not override the default events\n    */\n\n\n    if (hasSavingState) {\n      const customSavingState = this.getAttribute('customSavingState', {});\n      this.listenTo(this.model, convertSavingState(customSavingState.start || '', ['request']), this.__setSavingState);\n      this.listenTo(this.model, convertSavingState(customSavingState.stop || '', ['error', 'sync']), this.__clearSavingState);\n    }\n  },\n\n  /**\n   * Create the bottom button bar\n   * @param  {Object} options options h\n   * @return {Okta.View} The toolbar\n   * @private\n   */\n  __createToolbar: function (options) {\n    const danger = this.getAttribute('danger');\n    const saveBtnClassName = danger === true ? 'button-error' : 'button-primary';\n\n    const step = oktaUnderscore.result(this, 'step');\n\n    const toolbar = new Toolbar(oktaUnderscore.extend({\n      save: this.save || StringUtil.localize('oform.save', 'courage'),\n      saveId: this.saveId,\n      saveClassName: saveBtnClassName,\n      cancel: this.cancel || StringUtil.localize('oform.cancel', 'courage'),\n      noCancelButton: this.noCancelButton || false,\n      noSubmitButton: this.noSubmitButton || false,\n      buttonOrder: this.buttonOrder,\n      hasPrevStep: step && step > 1\n    }, options || this.options));\n\n    oktaUnderscore.each(this.__buttons, function (args) {\n      toolbar.addButton.apply(toolbar, args);\n    });\n\n    return toolbar;\n  },\n  className: '',\n  attributes: {},\n  events: {},\n\n  /**\n   * An array of input configurations to render in the form\n   * @type {Array}\n   */\n  inputs: [],\n  template: null,\n\n  /**\n   * Does the form support read/edit toggle.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  read: false,\n\n  /**\n   * Is the form in readOnly mode.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  readOnly: false,\n\n  /**\n   * Should we not render the button bar\n   * @type {Boolean|Function}\n   * @default false\n   */\n  noButtonBar: false,\n\n  /**\n   * Should we not render a cancel button\n   * @type {Boolean|Function}\n   * @default false\n   */\n  noCancelButton: false,\n\n  /**\n   * Should we not render a save button\n   * @type {Boolean}\n   * @default false\n   */\n  noSubmitButton: false,\n\n  /**\n   * Set the order of the save, cancel and previous buttons (left to right).\n   * @type {Array.<string>}\n   * @default ['previous', 'save', 'cancel']\n   */\n  buttonOrder: ['previous', 'save', 'cancel'],\n\n  /**\n   * The text on the save button\n   * @type {String}\n   * @default \"Save\"\n   */\n  save: null,\n\n  /**\n   * The text on the cancel button\n   * @type {String}\n   * @default \"Cancel\"\n   */\n  cancel: null,\n\n  /**\n   * To use button-error to style the submit button instead of button-primary.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  danger: false,\n\n  /**\n   * A layout CSS class to add to the form\n   * @type {String|Function}\n   * @default \"\"\n   */\n  layout: '',\n\n  /**\n   * The step this form is in the context of a wizard\n   * @type {Number}\n   */\n  step: undefined,\n\n  /**\n   * The total numbers of steps the wizard this form is a part of has\n   * @type {Number}\n   */\n  totalSteps: undefined,\n\n  /**\n   * The form's title\n   * @type {String|Function}\n   */\n  title: null,\n\n  /**\n   * The form's subtitle\n   * @type {String|Function}\n   */\n  subtitle: null,\n\n  /**\n   * Auto-save the model when hitting save. Triggers a `saved` event when done\n   * @type {Boolean}\n   * @default false\n   */\n  autoSave: false,\n\n  /**\n   * Scroll to the top of the form on error\n   * @type {Boolean|Function}\n   * @default true\n   */\n  scrollOnError: true,\n\n  /**\n   * Show the error banner upon error\n   * @type {Boolean|Function}\n   * @default true\n   */\n  showErrors: true,\n\n  /**\n   * The form's scrollable area\n   * @type {String}\n   * @default \".o-form-content\"\n   */\n  resizeSelector: '.o-form-content',\n\n  /**\n   * Sets whether or not the form shows the saving state when\n   * the model is saved.  Has no effect on setSavingState and clearSavingState as those are manual calls\n   * to trigger/clear the saving state.\n   * @name hasSavingState\n   * @memberof module:Okta.Form\n   * @type {Boolean}\n   * @default false\n   * @instance\n   */\n\n  /**\n   * Get an attribute value from options or instance.\n   * Prefer options value over instance value\n   * @param  {String} name Name of the attribute\n   * @param  {Object} defaultValue the default value to return if the attribute is not found\n   * @return {Object} The value\n   */\n  getAttribute: function (name, defaultValue) {\n    let value = oktaUnderscore.resultCtx(this.options, name, this);\n\n    if (oktaUnderscore.isUndefined(value)) {\n      value = oktaUnderscore.result(this, name);\n    }\n\n    return !oktaUnderscore.isUndefined(value) ? value : defaultValue;\n  },\n\n  /**\n   * Does this form have a \"read\" mode\n   * @return {Boolean}\n   */\n  hasReadMode: function () {\n    return !!this.getAttribute('read');\n  },\n\n  /**\n   * Is this form in \"read only\" mode\n   * @return {Boolean}\n   */\n  isReadOnly: function () {\n    return !!this.getAttribute('readOnly');\n  },\n\n  /**\n   * Does this form have a button bar\n   * @return {Boolean}\n   */\n  hasButtonBar: function () {\n    return !(this.getAttribute('noButtonBar') || this.isReadOnly());\n  },\n  render: function () {\n    this.__readModeBar && this.__readModeBar.remove();\n\n    if (this.hasReadMode() && !this.isReadOnly()) {\n      const readModeBar = ReadModeBar.extend({\n        formTitle: this.getAttribute('title', '')\n      });\n      this.__readModeBar = this.add(readModeBar, '.o-form-title-bar').last();\n    }\n\n    const html = template({\n      layout: this.getAttribute('layout', ''),\n      title: this.getAttribute('title', '', true),\n      subtitle: this.getAttribute('subtitle', '', true),\n      hasReadMode: this.hasReadMode()\n    });\n    this.$el.html(html);\n    delete this.template;\n    BaseView.prototype.render.apply(this, arguments);\n\n    this.__applyMode();\n\n    return this;\n  },\n\n  /**\n   * Changes form UI to indicate saving.  Disables all inputs and buttons.  Use this function if you have set\n   * hasSavingState to false on the the form\n   * @private\n   */\n  __setSavingState: function () {\n    this.model.trigger('form:set-saving-state');\n    this.$el.addClass('o-form-saving');\n  },\n\n  /**\n   * Changes form UI back to normal from the saving state.  Use this function if you are have set hasSavingState\n   * to false on the form\n   * @private\n   */\n  __clearSavingState: function () {\n    this.model.trigger('form:clear-saving-state');\n    this.$el.removeClass('o-form-saving');\n  },\n\n  /**\n   * Toggles the visibility of the bottom button bar\n   * @private\n   */\n  __toggleToolbar: function () {\n    this.__toolbar && this.__toolbar.remove();\n\n    if (this.hasButtonBar() && this._editMode()) {\n      this.__toolbar = this.__createToolbar();\n      this.add(this.__toolbar, '');\n    }\n\n    this.trigger('resize');\n  },\n\n  /**\n   * Cancels this form\n   * - Reset the model to the previous state\n   * - Clears all errors\n   * - Triggers a `cancel` event\n   * - Sets the model to read mode (if applicable)\n   * @private\n   * @fires cancel\n   */\n  __cancel: function () {\n    const edit = this.model.get('__edit__');\n    /* eslint max-statements: [2, 12] */\n\n    this.model.clear({\n      silent: true\n    });\n    let data;\n\n    if (this.model.sanitizeAttributes) {\n      data = this.model.sanitizeAttributes(this.__originalModel);\n    } else {\n      data = oktaUnderscore.clone(this.__originalModel);\n    }\n\n    this.model.set(data, {\n      silent: true\n    });\n    this.trigger('cancel', this.model);\n    this.model.trigger('cache:clear');\n\n    if (edit) {\n      this.model.set('__edit__', false, {\n        silent: true\n      });\n      this.model.trigger('change:__edit__', this.model, false);\n    }\n\n    this.clearErrors();\n  },\n\n  /**\n   * Runs {@link module:Okta.Form#validate|validate} to check the model state.\n   * Triggers an \"invalid\" event on the model if validation fails\n   * @returns {Boolean}\n   */\n  isValid: function () {\n    let res;\n    const self = this;\n\n    function validateArray(arr) {\n      return oktaUnderscore.reduce(arr, function (memo, fieldName) {\n        return oktaUnderscore.extend(memo, self.model.validateField(fieldName));\n      }, {});\n    }\n\n    if (oktaUnderscore.isUndefined(this.validate)) {\n      return this.model.isValid();\n    } else if (oktaUnderscore.isFunction(this.validate)) {\n      res = this.validate();\n    } else if (oktaUnderscore.isArray(this.validate)) {\n      res = validateArray(this.validate);\n    } else if (this.validate === 'local') {\n      res = validateArray(this.getInputs().map(function (input) {\n        return input.options.name;\n      }));\n    }\n\n    if (!oktaUnderscore.isEmpty(res)) {\n      this.model.trigger('invalid', this.model, res);\n      return false;\n    } else {\n      return true;\n    }\n  },\n\n  /**\n   * A throttled function that saves the form not more than once every 100 ms\n   * Basically all this method does is trigger a `save` event\n   * @fires save\n   * @private\n   */\n  __save: function () {\n    this.clearErrors();\n\n    if (this.isValid()) {\n      this.trigger('save', this.model);\n    }\n  },\n\n  /**\n   * In the context of a wizard, go to previous state\n   * Technically all this method does is trigger a `previous` event\n   * @param  {Event} e\n   * @private\n   */\n  __previous: function () {\n    this.trigger('previous', this.model);\n  },\n\n  /**\n   * Renders the form in the correct mode based on the model.\n   * @private\n   */\n  __applyMode: function () {\n    this.clearErrors();\n\n    this.__toggleToolbar();\n\n    if (this._editMode()) {\n      this.$el.addClass('o-form-edit-mode');\n      this.$el.removeClass('o-form-read-mode');\n      this.$('.o-form-content').removeClass('rounded-btm-4');\n      this.focus();\n    } else {\n      this.$el.removeClass('o-form-edit-mode');\n      this.$el.addClass('o-form-read-mode');\n      this.$('.o-form-content').addClass('rounded-btm-4');\n    }\n  },\n\n  /**\n   * Is the form in edit mode\n   * @return {Boolean}\n   * @private\n   */\n  _editMode: function () {\n    return this.model.get('__edit__') || !this.hasReadMode();\n  },\n\n  /**\n   * Function can be overridden to alter top level error summary.\n   * @param {Object} responseJSON\n   *\n   * @example\n   * // responseJSON object\n   * {\n   *  errorCauses: [{errorSummary: \"At least one of Proxy Status, Location, or ASN should be configured.\"}]\n   *  errorSummary: \"At least one of Proxy Status, Location, or ASN should be configured.\"\n   *  errorCode: \"E0000001\"\n   *  errorId: \"oaepsrTCHrhT-eIi8XTm6KWWg\"\n   *  errorLink: \"E0000001\"\n   *  errorSummary: \"Api validation failed: networkZone\"\n   * }\n   *\n   * @method\n   * @default _.identity\n   */\n  parseErrorMessage: oktaUnderscore.identity,\n  _handleErrorScroll: function () {\n    if (!this.getAttribute('scrollOnError')) {\n      return;\n    }\n\n    const $el = oktaJQueryStatic('#' + this.id + ' .o-form-error-container');\n\n    if ($el.length) {\n      let $scrollContext = $el.scrollParent();\n      let scrollTop; // scrollParent was almost awesome...\n      // but it returns document if there are no other scrollable parents\n      // document does not have offset, so here we have to replace with html, body\n      // Additionally when the scroll context is html, body, $el.offset().top is fixed\n      // versus when it has a different scroll context it's dynamic and requires the\n      // calculation below.\n\n      if ($scrollContext[0] === document) {\n        $scrollContext = oktaJQueryStatic('html, body');\n        scrollTop = $el.offset().top;\n      } else {\n        scrollTop = $scrollContext.scrollTop() + $el.offset().top - $scrollContext.offset().top;\n      }\n\n      $scrollContext.animate({\n        scrollTop: scrollTop\n      }, 400);\n    }\n  },\n\n  /**\n   * Show an error message based on an XHR error\n   * @param  {Okta.BaseModel} model the model\n   * @param  {jqXHR} xhr The jQuery XmlHttpRequest Object\n   * @private\n   */\n  __showErrors: function (model, resp, showBanner) {\n    this.trigger('error', model);\n    /* eslint max-statements: 0 */\n\n    if (!this.getAttribute('showErrors')) {\n      return;\n    }\n\n    let errorSummary;\n    let responseJSON = ErrorParser.getResponseJSON(resp);\n    const validationErrors = ErrorParser.parseFieldErrors(resp); // trigger events for field validation errors\n\n    if (oktaUnderscore.size(validationErrors)) {\n      oktaUnderscore.each(validationErrors, function (errors, field) {\n        this.model.trigger('form:field-error', this.__errorFields[field] || field, oktaUnderscore.map(errors, function (error) {\n          return /^model\\.validation/.test(error) ? StringUtil.localize(error, 'courage') : error;\n        }));\n      }, this);\n    } else {\n      responseJSON = this.parseErrorMessage(responseJSON);\n      errorSummary = getErrorSummary(responseJSON);\n    } // show the error message\n\n\n    if (showBanner) {\n      this.$('.o-form-error-container').addClass('o-form-has-errors');\n      this.add(ErrorBanner, '.o-form-error-container', {\n        options: {\n          errorSummary: errorSummary\n        }\n      });\n    } // slide to and focus on the error message\n\n\n    this._handleErrorScroll();\n\n    this.model.trigger('form:resize');\n  },\n\n  /**\n   * Clears the error banner\n   * @private\n   */\n  clearErrors: function () {\n    this.$('.o-form-error-container').removeClass('o-form-has-errors');\n    this.model.trigger('form:clear-errors');\n    this.model.trigger('form:resize');\n  },\n\n  /**\n   * Toggles between edit and read mode\n   */\n  toggle: function () {\n    this.model.set('__edit__', !this.hasReadMode() || !this.model.get('__edit__'));\n    return this;\n  },\n  __addLayoutItem: function (input) {\n    if (InputFactory.supports(input)) {\n      this.addInput(input);\n    } else {\n      this.__addNonInputLayoutItem(input);\n    }\n  },\n  __addNonInputLayoutItem: function (item) {\n    const itemOptions = oktaUnderscore.omit(item, 'type');\n\n    switch (item.type) {\n      case 'sectionTitle':\n        this.addSectionTitle(item.title, oktaUnderscore.omit(itemOptions, 'title'));\n        break;\n\n      case 'divider':\n        this.addDivider(itemOptions);\n        break;\n\n      default:\n        throw new Error('unknown input: ' + item.type);\n    }\n  },\n\n  /**\n   * Adds a view to the buttons tool bar\n   * @param {Object} params parameterized button options\n   * @param {Object} options options to send to {@link module:Okta.View#add|View.add}\n   */\n  addButton: function (params, options) {\n    this.__toolbar && this.__toolbar.addButton(params, options);\n\n    this.__buttons.push([params, options]);\n  },\n\n  /**\n   * Adds a divider\n   */\n  addDivider: function (options) {\n    this.add('<div class=\"okta-form-divider form-divider\"></div>');\n    FormUtil.applyShowWhen(this.last(), options && options.showWhen);\n    FormUtil.applyToggleWhen(this.last(), options && options.toggleWhen);\n    return this;\n  },\n\n  /**\n   * Adds section header\n   * @param {String} title\n   */\n  addSectionTitle: function (title, options) {\n    this.add(sectionTitleTemplate({\n      title: title\n    }));\n    FormUtil.applyShowWhen(this.last(), options && options.showWhen);\n    FormUtil.applyToggleWhen(this.last(), options && options.toggleWhen);\n    return this;\n  },\n\n  /**\n   * Add a form input\n   * @param {Object} options Options to describe the input\n   * @param {String} options.type The input type.\n   * The options are: `text`, `textarea`, `select`, `checkbox`, `radio`, `switch`,\n   * `password`, `number`, `textselect`, `date`, `grouppicker`, `admingrouppicker`, `su-orgspicker`\n   * `file/image`, `file/cert`, `checkboxset`, `list`, `group`, `zonepicker`\n   * @param {String} options.name The name of the model field this input mutates\n   * @param {String|Function} [options.label]\n   * The input label text.\n   * When passed as a function, will invoke the function (in the context of the {@link InputLabel})\n   * on render time, and use the returned value.\n   * @param {String} [options.sublabel] The input sub label text\n   * @param {String} [options.tooltip] A popover tooltip to be displayed next to the label\n   * @param {String} [options.placeholder] Placeholder text.\n   * @param {String} [options.explain] Explanation text to render below the input\n   * @param {Okta.View} [options.customExplain] A custom view to render below the input (deprecated)\n   * @param {Boolean} [options.disabled=false] Make this input disabled\n   * @param {Boolean} [options.wide=false] Use a wide input layout\n   * @param {Boolean} [options.label-top=false] position label on top of an input\n   * @param {Boolean} [options.explain-top=false] position explain on top of an input (requires label-top=true)\n   * @param {Number} [options.multi] have multiple in-line inputs. useful when `input` is passed as an array of inputs\n   * @param {String} [options.errorField] The API error field here that maps to this input\n   * @param {Boolean} [options.inlineValidation=true] Validate input on focusout\n   * @param {String} [options.ariaLabel] Used to add aria-label attribute to the input when label is not present.\n   * @param {Boolean} [options.group=false] Grouping set of inputs using fieldset and legend. Mainly for radio\n   * @param {Object} [options.options]\n   * In the context of `radio` and `select`, a key/value set of options\n   *\n   * @param {Object} [options.params]\n   * Widget specific parameters. Varies per input.\n   *\n   * @param {BaseInput|Object[]} [options.input]\n   * - A custom input \"class\" or instance - preferably a **class**, so we can automagically assign the right\n   * parameters when initializing it\n   * - An array of input definition object literals (such as this one)\n   *\n   * @param {Object} [options.showWhen]\n   * Setting to define when to show (or hide) the input. The input is visible by default.\n   *\n   * @param {Object} [options.bindings]\n   * Bind a certain model attribute to a callback function, so the function is being called on render,\n   * and any time this model field changes.\n   * This is similar to `showWhen` but is not limited to toggling.\n   *\n   * @param {Function} [options.render]\n   * A post-render hook that will run upon render on InputWrapper\n   *\n   * @param {String|Function} className   A className to apply on the {@link InputWrapper}\n   *\n   * @param {Function} [options.initialize]\n   * An `initialize` function to run when initializing the {@link InputWrapper}\n   * Useful for state mutation on start time, and complex state logic\n   *\n   * @example\n   * // showhen: the field will be visible when `advanced` is set to `true`\n   * // and `mode` is set to `\"ON\"`.\n   * showWhen: {\n   *   'advanced': true,\n   *   'mode': function (value) {\n   *     return value == 'ON'; // this is identical to this.model.get('mode') == 'ON'\n   *   }\n   * }\n   *\n   * @example\n   * // bindings\n   * bindings: {\n   *   'status mode': function (status, mode) {\n   *      var labelView = this.getLabel();\n   *      if (status == 1) {\n   *        labelView.options.label = 'Something';\n   *      }\n   *      else {\n   *        labelView.options.label = mode;\n   *      }\n   *      labelView.render();\n   *   }\n   * }\n   */\n  addInput: function (_options) {\n    _options = oktaUnderscore.clone(_options);\n    FormUtil.validateInput(_options, this.model);\n    const inputsOptions = FormUtil.generateInputOptions(_options, this, this.__createInput).reverse(); // We need a local variable here to keep track\n    // as addInput can be called either directy or through the inputs array.\n\n    if (oktaUnderscore.isEmpty(this.getInputs().toArray())) {\n      oktaUnderscore.extend(inputsOptions[0], {\n        validateOnlyIfDirty: true\n      });\n    }\n\n    const inputs = oktaUnderscore.map(inputsOptions, this.__createInput, this);\n\n    oktaUnderscore.each(inputsOptions, function (input) {\n      if (input.errorField) {\n        this.__errorFields[input.errorField] = input.name;\n      }\n    }, this);\n\n    const options = {\n      inputId: oktaUnderscore.last(inputs).options.inputId,\n      input: inputs,\n      multi: inputsOptions.length > 1 ? inputsOptions.length : undefined\n    };\n\n    oktaUnderscore.extend(options, oktaUnderscore.omit(this.options, 'input'), oktaUnderscore.omit(_options, 'input'));\n\n    const inputWrapper = this.__createWrapper(options);\n\n    if (options.label !== false) {\n      inputWrapper.add(this.__createLabel(options));\n    }\n\n    inputWrapper.add(this._createContainer(options)); // TODO: there may be a bug here.\n    // options.input will always be an array, so options.input.type will always be undefined\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    /// @ts-ignore\n\n    inputWrapper.type = options.type || options.input.type || 'custom';\n    const args = [inputWrapper].concat(oktaUnderscore.rest(arguments));\n    return this.add.apply(this, args);\n  },\n\n  /**\n   * @private\n   */\n  __createInput: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.INPUT_OPTIONS);\n    return InputFactory.create(options);\n  },\n\n  /**\n   * @private\n   */\n  __createWrapper: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.WRAPPER_OPTIONS);\n    return new InputWrapper(options);\n  },\n\n  /**\n   * @private\n   */\n  __createLabel: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.LABEL_OPTIONS);\n    return new InputLabel(options);\n  },\n\n  /**\n   * @private\n   */\n  _createContainer: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.CONTAINER_OPTIONS);\n    return new InputContainer(options);\n  },\n\n  /**\n   * Stores the current attributes of the model to a private property\n   * @param  {Okta.BaseModel} model The model\n   * @private\n   */\n  __saveModelState: function (model) {\n    this.__originalModel = oktaJQueryStatic.extend(true, {}, model.attributes);\n  },\n\n  /**\n   * @override\n   * @ignore\n   */\n  add: function (...args) {\n    // sets a default element selector\n    typeof args[1] === 'undefined' && (args[1] = '> div.o-form-content > .o-form-fieldset-container');\n    return BaseView.prototype.add.apply(this, args);\n  },\n\n  /**\n   * Set the focus on the first input in the form\n   */\n  focus: function () {\n    const first = this.getInputs().first();\n\n    if (first && first.focus) {\n      first.focus();\n    }\n\n    return this;\n  },\n\n  /**\n   * Disable all inputs in the form\n   * @deprecated not currently in use\n   */\n  disable: function () {\n    this.invoke('disable');\n    return this;\n  },\n\n  /**\n   * Enable all inputs in the form\n   * @deprecated not currently in use\n   */\n  enable: function () {\n    this.invoke('enable');\n  },\n\n  /**\n   * Set the max-height for o-form-content class container within the form if a height is provided,\n   * otherwise, get its computed inner height\n   * @param {Number} the height in pixel to set for class o-form-content\n   * @return {Number}\n   */\n  contentHeight: function (height) {\n    const content = this.$('.o-form-content');\n\n    if (oktaUnderscore.isNumber(height)) {\n      content.css('max-height', height);\n    } else {\n      return content.height();\n    }\n  },\n\n  /**\n   * Get only the input children\n   * @return {InputWrapper[]} An underscore wrapped array of {@link InputWrapper} instances\n   */\n  getInputs: function () {\n    return oktaUnderscore(this.filter(function (view) {\n      return view instanceof InputWrapper;\n    }));\n  }\n});\n\nexport { BaseForm as default };\n"],"names":["template","_Handlebars2","container","depth0","helpers","partials","data","helper","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","undefined","escapeExpression","hooks","helperMissing","nullContext","stack1","program","noop","alias1","sectionTitleTemplate","pointerEventsSupported","oktaJQueryStatic","css","style","pointerEvents","pointerEventsPolyfill","e","$el","hasClass","currentTarget","underneathElem","document","elementFromPoint","clientX","clientY","target","trigger","events","submit","preventDefault","__save","oktaUnderscore","each","event","attributes","model","collection","method","action","result","window","location","pathname","slot","convertSavingState","rawSavingStateEvent","defaultEvent","savingStateEvent","isString","split","union","join","getErrorSummary","responseJSON","Array","isArray","errorCauses","length","errorSummary","BaseForm","BaseView","extend","constructor","options","settings","SettingsModel","id","uniqueId","tagName","defaults","__buttons","__errorFields","__saveModelState","step","save","totalStep","StringUtil","localize","className","__toolbar","__createToolbar","input","__addLayoutItem","add","listenTo","__applyMode","throttle","resp","showBanner","__showErrors","trailing","__cancel","__previous","get","set","silent","render","hasSavingState","getAttribute","xhr","done","isUndefined","customSavingState","start","__setSavingState","stop","__clearSavingState","danger","saveBtnClassName","toolbar","Toolbar","saveId","saveClassName","cancel","noCancelButton","noSubmitButton","buttonOrder","hasPrevStep","args","addButton","apply","inputs","read","readOnly","noButtonBar","layout","totalSteps","title","subtitle","autoSave","scrollOnError","showErrors","resizeSelector","name","defaultValue","value","resultCtx","hasReadMode","isReadOnly","hasButtonBar","__readModeBar","remove","readModeBar","ReadModeBar","formTitle","last","html","arguments","addClass","removeClass","__toggleToolbar","_editMode","edit","clear","sanitizeAttributes","__originalModel","clone","clearErrors","isValid","res","self","validateArray","arr","reduce","memo","fieldName","validateField","validate","isFunction","getInputs","map","isEmpty","$","focus","parseErrorMessage","identity","_handleErrorScroll","$scrollContext","scrollParent","scrollTop","offset","top","animate","ErrorParser","getResponseJSON","validationErrors","parseFieldErrors","size","errors","field","error","test","ErrorBanner","toggle","InputFactory","supports","addInput","__addNonInputLayoutItem","item","itemOptions","omit","type","addSectionTitle","addDivider","Error","params","push","FormUtil","applyShowWhen","showWhen","applyToggleWhen","toggleWhen","_options","validateInput","inputsOptions","generateInputOptions","__createInput","reverse","toArray","validateOnlyIfDirty","errorField","inputId","multi","inputWrapper","__createWrapper","label","__createLabel","_createContainer","concat","rest","pick","INPUT_OPTIONS","create","WRAPPER_OPTIONS","InputWrapper","LABEL_OPTIONS","InputLabel","CONTAINER_OPTIONS","InputContainer","first","disable","invoke","enable","contentHeight","height","content","isNumber","filter","view"],"mappings":"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"}
{"version":3,"file":"ButtonFactory.js","sources":["../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/util/ButtonFactory.js"],"sourcesContent":["import oktaUnderscore from './underscore-wrapper.js';\nimport BaseButtonLink from '../views/components/BaseButtonLink.js';\n\n/* eslint '@okta/okta-ui/no-deprecated-methods': [0, [{ name: 'BaseButtonLink.extend', use: 'Okta.createButton'}, ]] */\n/**\n * A factory method wrapper for {@link BaseButtonLink} creation\n * @class module:Okta.internal.util.ButtonFactory\n */\n\nfunction normalizeEvents(options) {\n  const events = oktaUnderscore.extend(options.click ? {\n    click: options.click\n  } : {}, options.events || {});\n\n  const target = {};\n\n  oktaUnderscore.each(events, function (fn, eventName) {\n    target[eventName] = function (e) {\n      if (!options.href) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n\n      if (!(this.disabled && eventName === 'click')) {\n        fn.apply(this, arguments);\n      }\n    };\n  });\n\n  return target;\n}\n\nvar ButtonFactory = /** @lends module:Okta.internal.util.ButtonFactory */\n{\n  /**\n   * Creates a {@link module:Okta.internal.views.components.BaseButtonLink|BaseButtonLink}.\n   * @param  {Object} options Options hash\n   * @param  {String} [options.title] The button text\n   * @param  {String} [options.icon]\n   * CSS class for the icon to display. See [Style guide](http://rain.okta1.com:1802/su/dev/style-guide#icons)\n   * @param {String} [options.href] The button link\n   * @param {Function} [options.click] On click callback\n   * @param {Object} [options.events] a [Backbone events](http://backbonejs.org/#View-delegateEvents) hash\n   * @returns {module:Okta.internal.views.components.BaseButtonLink} BaseButtonLink prototype (\"class\")\n   */\n  create: function (options) {\n    options = oktaUnderscore.clone(options);\n    options.attrs = options.attributes;\n    delete options.attributes;\n    return BaseButtonLink.extend(oktaUnderscore.extend(options, {\n      events: normalizeEvents(options)\n    }));\n  }\n};\n\nexport { ButtonFactory as default };\n"],"names":["normalizeEvents","options","events","oktaUnderscore","extend","click","target","each","fn","eventName","e","href","preventDefault","stopPropagation","disabled","apply","arguments","ButtonFactory","create","clone","attrs","attributes","BaseButtonLink"],"mappings":";;;AAGA;;AACA;AACA;AACA;AACA;;AAEA,SAASA,eAAT,CAAyBC,OAAzB,EAAkC;AAChC,EAAMC,MAAAA,MAAM,GAAGC,cAAc,CAACC,MAAf,CAAsBH,OAAO,CAACI,KAAR,GAAgB;AACnDA,IAAAA,KAAK,EAAEJ,OAAO,CAACI,KAAAA;AADoC,GAAhB,GAEjC,EAFW,EAEPJ,OAAO,CAACC,MAAR,IAAkB,EAFX,CAAf,CAAA;AAIA,EAAMI,MAAAA,MAAM,GAAG,EAAf,CAAA;AAEAH,EAAAA,cAAc,CAACI,IAAf,CAAoBL,MAApB,EAA4B,UAAUM,EAAV,EAAcC,SAAd,EAAyB;AACnDH,IAAAA,MAAM,CAACG,SAAD,CAAN,GAAoB,UAAUC,CAAV,EAAa;AAC/B,MAAA,IAAI,CAACT,OAAO,CAACU,IAAb,EAAmB;AACjBD,QAAAA,CAAC,CAACE,cAAF,EAAA,CAAA;AACAF,QAAAA,CAAC,CAACG,eAAF,EAAA,CAAA;AACD,OAAA;;AAED,MAAI,IAAA,EAAE,KAAKC,QAAL,IAAiBL,SAAS,KAAK,OAAjC,CAAJ,EAA+C;AAC7CD,QAAAA,EAAE,CAACO,KAAH,CAAS,IAAT,EAAeC,SAAf,CAAA,CAAA;AACD,OAAA;AACF,KATD,CAAA;AAUD,GAXD,CAAA,CAAA;AAaA,EAAA,OAAOV,MAAP,CAAA;AACD,CAAA;;AAED,IAAIW,aAAa;AAAG;AACpB;AACE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,EAAAA,MAAM,EAAE,UAAUjB,OAAV,EAAmB;AACzBA,IAAAA,OAAO,GAAGE,cAAc,CAACgB,KAAf,CAAqBlB,OAArB,CAAV,CAAA;AACAA,IAAAA,OAAO,CAACmB,KAAR,GAAgBnB,OAAO,CAACoB,UAAxB,CAAA;AACA,IAAOpB,OAAAA,OAAO,CAACoB,UAAf,CAAA;AACA,IAAOC,OAAAA,cAAc,CAAClB,MAAf,CAAsBD,cAAc,CAACC,MAAf,CAAsBH,OAAtB,EAA+B;AAC1DC,MAAAA,MAAM,EAAEF,eAAe,CAACC,OAAD,CAAA;AADmC,KAA/B,CAAtB,CAAP,CAAA;AAGD,GAAA;AAnBH;;;;"}
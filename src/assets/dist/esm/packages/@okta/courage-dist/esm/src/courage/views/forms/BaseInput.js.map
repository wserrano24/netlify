{"version":3,"file":"BaseInput.js","sources":["../../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/views/forms/BaseInput.js"],"sourcesContent":["import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport ButtonFactory from '../../util/ButtonFactory.js';\nimport StringUtil from '../../util/StringUtil.js';\nimport BaseView from '../BaseView.js';\nimport Callout from '../components/Callout.js';\nimport Keys from '../../util/Keys.js';\n\nconst props = {\n  tagName: 'span',\n  attributes: function () {\n    return {\n      'data-se': 'o-form-input-' + this.getNameString()\n    };\n  },\n\n  /**\n   * default placeholder text when options.placeholder is not defined\n   */\n  defaultPlaceholder: '',\n  constructor: function (options) {\n    /* eslint complexity: [2, 9] */\n    options = oktaUnderscore.defaults(options || {}, {\n      inputId: options.id || oktaUnderscore.uniqueId('input'),\n      placeholder: this.defaultPlaceholder,\n      inlineValidation: true,\n      validateOnlyIfDirty: false\n    });\n    delete options.id; // decorate the `enable` and `disable` and toggle the `o-form-disabled` class.\n    // so we wont need to worry about this when overriding the methods\n\n    const self = this;\n\n    oktaUnderscore.each({\n      enable: 'removeClass',\n      disable: 'addClass'\n    }, function (method, action) {\n      self[action] = oktaUnderscore.wrap(self[action], function (fn) {\n        fn.apply(self, arguments);\n        self.$el[method]('o-form-disabled');\n      });\n    });\n\n    BaseView.call(this, options);\n\n    if (oktaUnderscore.result(options, 'readOnly') !== true && oktaUnderscore.result(options, 'read') === true) {\n      this.listenTo(this.model, 'change:__edit__', this.render);\n    }\n\n    if (oktaUnderscore.isFunction(this.focus)) {\n      this.focus = oktaUnderscore.debounce(oktaUnderscore.bind(this.focus, this), 50);\n    } // Enable inline validation if this is not the first field in the form.\n\n\n    if (!oktaUnderscore.result(options, 'validateOnlyIfDirty')) {\n      this.addInlineValidation();\n    }\n\n    this.addModelListeners();\n    this.$el.addClass('o-form-input-name-' + this.getNameString());\n  },\n  addAriaLabel: function () {\n    const ariaLabel = this.options.ariaLabel;\n\n    if (ariaLabel) {\n      this.$(':input').attr('aria-label', ariaLabel);\n    }\n  },\n  addInlineValidation: function () {\n    if (oktaUnderscore.result(this.options, 'inlineValidation')) {\n      this.$el.on('focusout', ':input', oktaUnderscore.bind(this.validate, this));\n    }\n  },\n  toModelValue: function () {\n    let value = this.val();\n\n    if (oktaUnderscore.isFunction(this.to)) {\n      value = this.to.call(this, value);\n    }\n\n    if (oktaUnderscore.isFunction(this.options.to)) {\n      value = this.options.to.call(this, value);\n    }\n\n    return value;\n  },\n  __getDependencyCalloutBtn: function (btnConfig) {\n    const self = this;\n\n    const btnOptions = oktaUnderscore.clone(btnConfig);\n\n    const originalClick = btnOptions.click || function () {}; // add onfocus listener to re-evaluate depedency when callout button is clicked\n\n\n    btnOptions.click = function () {\n      oktaJQueryStatic(window).one('focus.dependency', function () {\n        self.__showInputDependencies();\n      });\n      originalClick.call(self);\n    };\n\n    const BaseInputCalloutBtn = BaseView.extend({\n      children: [ButtonFactory.create(btnOptions)]\n    });\n    return new BaseInputCalloutBtn();\n  },\n  getCalloutParent: function () {\n    return this.$('input[value=\"' + this.getModelValue() + '\"]').parent();\n  },\n  __getCalloutMsgContainer: function (calloutMsg) {\n    return BaseView.extend({\n      template: _Handlebars2.template({\n        \"compiler\": [8, \">= 4.3.0\"],\n        \"main\": function (container, depth0, helpers, partials, data) {\n          var helper,\n              lookupProperty = container.lookupProperty || function (parent, propertyName) {\n            if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n              return parent[propertyName];\n            }\n\n            return undefined;\n          };\n\n          return \"<span class=\\\"o-form-explain\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"msg\") || (depth0 != null ? lookupProperty(depth0, \"msg\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n            \"name\": \"msg\",\n            \"hash\": {},\n            \"data\": data,\n            \"loc\": {\n              \"start\": {\n                \"line\": 1,\n                \"column\": 29\n              },\n              \"end\": {\n                \"line\": 1,\n                \"column\": 36\n              }\n            }\n          }) : helper)) + \"</span>\";\n        },\n        \"useData\": true\n      }),\n      getTemplateData: function () {\n        return {\n          msg: calloutMsg\n        };\n      }\n    });\n  },\n  showCallout: function (calloutConfig, dependencyResolved) {\n    const callout = oktaUnderscore.clone(calloutConfig);\n\n    callout.className = 'dependency-callout';\n\n    if (callout.btn) {\n      callout.content = this.__getDependencyCalloutBtn(callout.btn);\n      delete callout.btn;\n    }\n\n    const dependencyCallout = Callout.create(callout);\n\n    if (!dependencyResolved) {\n      dependencyCallout.add(this.__getCalloutMsgContainer(StringUtil.localize('dependency.callout.msg', 'courage')));\n    }\n\n    const calloutParent = this.getCalloutParent();\n    calloutParent.append(dependencyCallout.render().el);\n\n    if (callout.type === 'success') {\n      oktaUnderscore.delay(function () {\n        // fade out success callout\n        dependencyCallout.$el.fadeOut(800);\n      }, 1000);\n    }\n  },\n  removeCallout: function () {\n    this.$el.find('.dependency-callout').remove();\n  },\n  __evaluateCalloutObject: function (dependencyResolved, calloutTitle) {\n    let defaultCallout;\n\n    if (dependencyResolved) {\n      defaultCallout = {\n        title: StringUtil.localize('dependency.action.completed', 'courage'),\n        size: 'large',\n        type: 'success'\n      };\n    } else {\n      defaultCallout = {\n        title: StringUtil.localize('dependency.action.required', 'courage', [calloutTitle]),\n        size: 'large',\n        type: 'warning'\n      };\n    }\n\n    return defaultCallout;\n  },\n  __handleDependency: function (result, callout) {\n    const self = this;\n    const calloutConfig = oktaUnderscore.isFunction(callout) ? callout(result) : oktaUnderscore.extend({}, callout, self.__evaluateCalloutObject(result.resolved, callout.title)); // remove existing callouts if any\n\n    self.removeCallout();\n    self.showCallout(calloutConfig, result.resolved);\n  },\n  __showInputDependencies: function () {\n    const self = this;\n    const fieldDependency = self.options.deps[self.getModelValue()];\n\n    if (fieldDependency && oktaUnderscore.isFunction(fieldDependency.func)) {\n      fieldDependency.func().done(function (data) {\n        self.__handleDependency({\n          resolved: true,\n          data: data\n        }, fieldDependency.callout);\n      }).fail(function (data) {\n        self.__handleDependency({\n          resolved: false,\n          data: data\n        }, fieldDependency.callout);\n      });\n    } else {\n      self.removeCallout();\n    }\n  },\n  _isEdited: false,\n  hasIMESupport: false,\n\n  /**\n   * updates the model with the input's value\n   */\n  update: function (e) {\n    if (!this._isEdited && oktaUnderscore.result(this.options, 'validateOnlyIfDirty')) {\n      this._isEdited = true;\n      this.addInlineValidation();\n    }\n\n    this.model.set(this.options.name, this.toModelValue());\n\n    if (this.options.deps) {\n      // check for dependencies\n      this.__showInputDependencies();\n    }\n    /*\n      To add IME support for more components\n      - Add hasIMESupport boolean flag and compositionend and compositionstart event listeners to the component\n      - Supported components: TextBox.js, TextSelect.js\n      - Additionally window.okta.enableIMESupport is an org level FF to toggle IME support\n    */\n\n\n    if (this.hasIMESupport && window?.okta?.enableIMESupport) {\n      if (this.isComposing) {\n        return;\n      }\n\n      if (e && Keys.isEnter(e)) {\n        this.model.trigger('form:save');\n      }\n    }\n  },\n\n  /**\n   * Is the input in edit mode\n   * @return {Boolean}\n   */\n  isEditMode: function () {\n    const ret = !oktaUnderscore.result(this.options, 'readOnly') && (oktaUnderscore.result(this.options, 'read') !== true || this.model.get('__edit__') === true);\n    return ret;\n  },\n\n  /**\n   * Renders the input\n   * @readonly\n   */\n  render: function () {\n    this.preRender();\n    const params = this.options.params;\n    this.options.params = oktaUnderscore.resultCtx(this.options, 'params', this);\n\n    if (this.isEditMode()) {\n      this.editMode();\n\n      if (oktaUnderscore.resultCtx(this.options, 'disabled', this)) {\n        this.disable();\n      } else {\n        this.enable();\n      }\n    } else {\n      this.readMode();\n    }\n\n    this.options.params = params;\n    this.addAriaLabel();\n    this.postRender();\n    return this;\n  },\n\n  /**\n   * checks if the current value in the model is valid for this field\n   */\n  validate: function () {\n    if (!this.model.get('__pending__') && this.isEditMode() && oktaUnderscore.isFunction(this.model.validateField)) {\n      const validationError = this.model.validateField(this.options.name);\n\n      if (validationError) {\n        oktaUnderscore.delay(function () {\n          this.model.trigger('form:clear-error:' + this.options.name);\n          this.model.trigger('invalid', this.model, validationError, false);\n        }.bind(this), 100);\n      }\n    }\n  },\n\n  /**\n   * Add model event listeners\n   */\n  addModelListeners: function () {\n    this.listenTo(this.model, 'form:field-error', function (name) {\n      if (this.options.name === name) {\n        this.__markError();\n      }\n    });\n    this.listenTo(this.model, 'form:clear-errors change:' + this.options.name, this.__clearError);\n    this.listenTo(this.model, 'form:clear-error:' + this.options.name, this.__clearError);\n  },\n\n  /**\n   * The value of the input\n   * @return {Mixed}\n   */\n  val: function () {\n    throw new Error('val() is an abstract method');\n  },\n\n  /**\n   * Set focus on the input\n   */\n  focus: function () {\n    throw new Error('focus() is an abstract method');\n  },\n\n  /**\n   * Default value in read mode\n   * When model has no value for the field\n   */\n  defaultValue: function () {\n    return '';\n  },\n\n  /**\n   * Renders the input in edit mode\n   */\n  editMode: function () {\n    const options = oktaUnderscore.extend({}, this.options, {\n      value: this.getModelValue()\n    });\n\n    this.$el.html(this.template(options));\n    this.options.multi && this.$el.removeClass('margin-r');\n    return this;\n  },\n\n  /**\n   * Renders the readable value of the input in read mode\n   */\n  readMode: function () {\n    this.$el.text(this.getReadModeString());\n    this.$el.removeClass('error-field');\n    this.options.multi && this.$el.addClass('margin-r');\n    return this;\n  },\n  getReadModeString: function () {\n    const readModeStr = oktaUnderscore.resultCtx(this.options, 'readModeString', this);\n\n    if (readModeStr) {\n      return readModeStr;\n    }\n\n    return this.toStringValue();\n  },\n\n  /**\n   * The model value off the field associated with the input\n   * @return {Mixed}\n   */\n  getModelValue: function () {\n    let value = this.model.get(this.options.name);\n\n    if (oktaUnderscore.isFunction(this.from)) {\n      value = this.from.call(this, value);\n    }\n\n    if (oktaUnderscore.isFunction(this.options.from)) {\n      value = this.options.from.call(this, value);\n    }\n\n    return value;\n  },\n\n  /*\n  * convenience method to get the textual value from the model\n  * will return the textual label rather than value in case of select/radio\n  * @return {String}\n  */\n  toStringValue: function () {\n    let value = this.getModelValue();\n\n    if (this.options.options) {\n      // dropdown or radio\n      value = this.options.options[value];\n    }\n\n    if (Number.isInteger(value) || typeof value === 'boolean') {\n      value = String(value);\n    }\n\n    return value || this.defaultValue();\n  },\n\n  /**\n   * Triggers a form:resize event in order to tell dialogs content size has changed\n   */\n  resize: function () {\n    this.model.trigger('form:resize');\n  },\n\n  /**\n   * Disable the input\n   */\n  disable: function () {\n    this.$(':input').prop('disabled', true);\n  },\n\n  /**\n   * Enable the input\n   */\n  enable: function () {\n    this.$(':input').prop('disabled', false);\n  },\n\n  /**\n   * Change the type of the input field. (e.g., text <--> password)\n   * @param type\n   */\n  changeType: function (type) {\n    this.$(':input').prop('type', type); // Update the options so that it keeps the uptodate state\n\n    this.options.type = type;\n  },\n  getNameString: function () {\n    if (oktaUnderscore.isArray(this.options.name)) {\n      return this.options.name.join('-');\n    }\n\n    return this.options.name;\n  },\n\n  /**\n   * Get parameters, computing _.result\n   * @param  {[type]} options alternative options\n   * @return {Object} the params\n   */\n  getParams: function (options) {\n    const opts = options || this.options || {};\n    return oktaUnderscore.clone(oktaUnderscore.resultCtx(opts, 'params', this) || {});\n  },\n\n  /**\n   * get a parameter from options.params, compute _.result when needed.\n   * @param  {String} key\n   * @param  {Object} defaultValue\n   * @return {Object} the params\n   */\n  getParam: function (key, defaultValue) {\n    const result = oktaUnderscore.resultCtx(this.getParams(), key, this);\n\n    return !oktaUnderscore.isUndefined(result) ? result : defaultValue;\n  },\n\n  /**\n   * Get a parameter from options.params or if empty, object attribute.\n   *\n   * @param  {String} key\n   * @return {Object} the param or attribute\n   */\n  getParamOrAttribute: function (key) {\n    return this.getParam(key) || oktaUnderscore.result(this, key);\n  },\n  __markError: function () {\n    this.$el.addClass('o-form-has-errors');\n  },\n  __clearError: function () {\n    this.$el.removeClass('o-form-has-errors');\n  }\n};\n/**\n * @class BaseInput\n * @private\n * An abstract object that defines an input for {@link Okta.Form}\n *\n * BaseInputs are typically not created directly, but being passed to {@link Okta.Form#addInput}\n * @extends Okta.View\n */\n\nvar BaseInput = BaseView.extend(props);\n\nexport { BaseInput as default };\n"],"names":["props","tagName","attributes","getNameString","defaultPlaceholder","constructor","options","oktaUnderscore","defaults","inputId","id","uniqueId","placeholder","inlineValidation","validateOnlyIfDirty","self","each","enable","disable","method","action","wrap","fn","apply","arguments","$el","BaseView","call","result","listenTo","model","render","isFunction","focus","debounce","bind","addInlineValidation","addModelListeners","addClass","addAriaLabel","ariaLabel","$","attr","on","validate","toModelValue","value","val","to","__getDependencyCalloutBtn","btnConfig","btnOptions","clone","originalClick","click","oktaJQueryStatic","window","one","__showInputDependencies","BaseInputCalloutBtn","extend","children","ButtonFactory","create","getCalloutParent","getModelValue","parent","__getCalloutMsgContainer","calloutMsg","template","_Handlebars2","container","depth0","helpers","partials","data","helper","lookupProperty","propertyName","Object","prototype","hasOwnProperty","undefined","escapeExpression","hooks","helperMissing","nullContext","getTemplateData","msg","showCallout","calloutConfig","dependencyResolved","callout","className","btn","content","dependencyCallout","Callout","add","StringUtil","localize","calloutParent","append","el","type","delay","fadeOut","removeCallout","find","remove","__evaluateCalloutObject","calloutTitle","defaultCallout","title","size","__handleDependency","resolved","fieldDependency","deps","func","done","fail","_isEdited","hasIMESupport","update","e","set","name","okta","enableIMESupport","isComposing","Keys","isEnter","trigger","isEditMode","ret","get","preRender","params","resultCtx","editMode","readMode","postRender","validateField","validationError","__markError","__clearError","Error","defaultValue","html","multi","removeClass","text","getReadModeString","readModeStr","toStringValue","from","Number","isInteger","String","resize","prop","changeType","isArray","join","getParams","opts","getParam","key","isUndefined","getParamOrAttribute","BaseInput"],"mappings":"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"}
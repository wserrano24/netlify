{"version":3,"file":"PasswordBox.js","sources":["../../../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/PasswordBox.js"],"sourcesContent":["import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport TextBox from './TextBox.js';\n\nconst toggleTemplate = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    return \"<span class=\\\"password-toggle\\\"><span class=\\\"eyeicon visibility-16 button-show\\\"></span><span class=\\\"eyeicon visibility-off-16 button-hide\\\"></span></span>\";\n  },\n  \"useData\": true\n});\n\nconst toggleTimeout = 30000;\nvar PasswordBox = TextBox.extend({\n  initialize: function () {\n    if (this.__showPasswordToggle()) {\n      this.events['click .password-toggle .button-show'] = '__showPassword';\n      this.events['click .password-toggle .button-hide'] = '__hidePassword';\n    }\n\n    this.delegateEvents();\n  },\n  postRender: function () {\n    if (this.isEditMode() && this.__showPasswordToggle()) {\n      this.$el.append(toggleTemplate);\n      this.$el.find('input[type=\"password\"]').addClass('password-with-toggle');\n    }\n\n    TextBox.prototype.postRender.apply(this, arguments);\n  },\n  __showPasswordToggle: function () {\n    return this.options.params && this.options.params.showPasswordToggle;\n  },\n  __showPassword: function () {\n    TextBox.prototype.changeType.apply(this, ['text']);\n    this.$('.password-toggle .button-show').hide();\n    this.$('.password-toggle .button-hide').show();\n    this.passwordToggleTimer = oktaUnderscore.delay(() => {\n      this.__hidePassword();\n    }, toggleTimeout);\n  },\n  __hidePassword: function () {\n    TextBox.prototype.changeType.apply(this, ['password']);\n    this.$('.password-toggle .button-show').show();\n    this.$('.password-toggle .button-hide').hide(); // clear timeout\n\n    if (this.passwordToggleTimer) {\n      clearTimeout(this.passwordToggleTimer);\n    }\n  }\n});\n\nexport { PasswordBox as default };\n"],"names":["toggleTemplate","_Handlebars2","template","container","depth0","helpers","partials","data","toggleTimeout","PasswordBox","TextBox","extend","initialize","__showPasswordToggle","events","delegateEvents","postRender","isEditMode","$el","append","find","addClass","prototype","apply","arguments","options","params","showPasswordToggle","__showPassword","changeType","$","hide","show","passwordToggleTimer","oktaUnderscore","delay","__hidePassword","clearTimeout"],"mappings":";;;;AAIA,MAAMA,cAAc,GAAGC,YAAY,CAACC,QAAb,CAAsB;AAC3C,EAAA,UAAA,EAAY,CAAC,CAAD,EAAI,UAAJ,CAD+B;AAE3C,EAAQ,MAAA,EAAA,UAAUC,SAAV,EAAqBC,MAArB,EAA6BC,OAA7B,EAAsCC,QAAtC,EAAgDC,IAAhD,EAAsD;AAC5D,IAAA,OAAO,+JAAP,CAAA;AACD,GAJ0C;AAK3C,EAAW,SAAA,EAAA,IAAA;AALgC,CAAtB,CAAvB,CAAA;;AAQA,MAAMC,aAAa,GAAG,KAAtB,CAAA;AACA,IAAIC,WAAW,GAAGC,OAAO,CAACC,MAAR,CAAe;AAC/BC,EAAAA,UAAU,EAAE,YAAY;AACtB,IAAI,IAAA,IAAA,CAAKC,oBAAL,EAAJ,EAAiC;AAC/B,MAAA,IAAA,CAAKC,MAAL,CAAY,qCAAZ,CAAA,GAAqD,gBAArD,CAAA;AACA,MAAA,IAAA,CAAKA,MAAL,CAAY,qCAAZ,CAAA,GAAqD,gBAArD,CAAA;AACD,KAAA;;AAED,IAAA,IAAA,CAAKC,cAAL,EAAA,CAAA;AACD,GAR8B;AAS/BC,EAAAA,UAAU,EAAE,YAAY;AACtB,IAAA,IAAI,KAAKC,UAAL,EAAA,IAAqB,IAAKJ,CAAAA,oBAAL,EAAzB,EAAsD;AACpD,MAAA,IAAA,CAAKK,GAAL,CAASC,MAAT,CAAgBnB,cAAhB,CAAA,CAAA;AACA,MAAKkB,IAAAA,CAAAA,GAAL,CAASE,IAAT,CAAc,wBAAd,CAAwCC,CAAAA,QAAxC,CAAiD,sBAAjD,CAAA,CAAA;AACD,KAAA;;AAEDX,IAAAA,OAAO,CAACY,SAAR,CAAkBN,UAAlB,CAA6BO,KAA7B,CAAmC,IAAnC,EAAyCC,SAAzC,CAAA,CAAA;AACD,GAhB8B;AAiB/BX,EAAAA,oBAAoB,EAAE,YAAY;AAChC,IAAO,OAAA,IAAA,CAAKY,OAAL,CAAaC,MAAb,IAAuB,KAAKD,OAAL,CAAaC,MAAb,CAAoBC,kBAAlD,CAAA;AACD,GAnB8B;AAoB/BC,EAAAA,cAAc,EAAE,YAAY;AAC1BlB,IAAAA,OAAO,CAACY,SAAR,CAAkBO,UAAlB,CAA6BN,KAA7B,CAAmC,IAAnC,EAAyC,CAAC,MAAD,CAAzC,CAAA,CAAA;AACA,IAAA,IAAA,CAAKO,CAAL,CAAO,+BAAP,CAAA,CAAwCC,IAAxC,EAAA,CAAA;AACA,IAAA,IAAA,CAAKD,CAAL,CAAO,+BAAP,CAAA,CAAwCE,IAAxC,EAAA,CAAA;AACA,IAAA,IAAA,CAAKC,mBAAL,GAA2BC,cAAc,CAACC,KAAf,CAAqB,MAAM;AACpD,MAAA,IAAA,CAAKC,cAAL,EAAA,CAAA;AACD,KAF0B,EAExB5B,aAFwB,CAA3B,CAAA;AAGD,GA3B8B;AA4B/B4B,EAAAA,cAAc,EAAE,YAAY;AAC1B1B,IAAAA,OAAO,CAACY,SAAR,CAAkBO,UAAlB,CAA6BN,KAA7B,CAAmC,IAAnC,EAAyC,CAAC,UAAD,CAAzC,CAAA,CAAA;AACA,IAAA,IAAA,CAAKO,CAAL,CAAO,+BAAP,CAAA,CAAwCE,IAAxC,EAAA,CAAA;AACA,IAAA,IAAA,CAAKF,CAAL,CAAO,+BAAP,CAAwCC,CAAAA,IAAxC,GAH0B;;AAK1B,IAAI,IAAA,IAAA,CAAKE,mBAAT,EAA8B;AAC5BI,MAAAA,YAAY,CAAC,IAAKJ,CAAAA,mBAAN,CAAZ,CAAA;AACD,KAAA;AACF,GAAA;AApC8B,CAAf;;;;"}
{"version":3,"file":"StringUtil.js","sources":["../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/util/StringUtil.js"],"sourcesContent":["import oktaJQueryStatic from './jquery-wrapper.js';\nimport oktaUnderscore from './underscore-wrapper.js';\nimport Bundles from 'okta-i18n-bundles';\n\nconst entityMap = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': '\\'',\n  '&#039;': '\\'',\n  '&#x2F;': '/'\n};\nconst emailValidator = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@(?!-)((\\[?[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\]?)|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n/**\n* Converts the locale code identifier from \"${languageCode}-${countryCode}\" to \"${languageCode}_${countryCode}\"\n* Follows the ISO-639-1 language code and 2-letter ISO-3166-1-alpha-2 country code structure.\n* @param {String} locale code identifier\n* @return {String} converted locale code identifier\n*/\n\nconst parseLocale = locale => {\n  if (/-/.test(locale)) {\n    const parts = locale.split('-');\n    parts[1] = parts[1].toUpperCase();\n    return parts.join('_');\n  }\n\n  return locale;\n};\n/* eslint max-len: 0*/\n\n/**\n * Returns the language bundle based on the current locale.\n * - If a locale is not provided, default to English ('en')\n * - Legacy Support: If the named language bundle does not exist, fall back to the default named bundle.\n *\n * @param {*} bundleName\n */\n\n\nfunction getBundle(bundleName) {\n  if (!bundleName) {\n    return Bundles[oktaUnderscore.keys(Bundles)[0]];\n  }\n\n  const locale = parseLocale(window && window.okta && window.okta.locale) || 'en';\n  return Bundles[`${bundleName}_${locale}`] || Bundles[bundleName];\n}\n/**\n *\n * CustomEvent polyfill for IE\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#polyfill\n */\n\n\nfunction IECustomEvent(event, params) {\n  params = params || {\n    bubbles: false,\n    cancelable: false,\n    detail: null\n  };\n  var evt = document.createEvent('CustomEvent');\n  evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n  return evt;\n}\n/**\n * Call the window.okta.emitL10nError function if it is defined\n * @param {String} key The i18n key\n * @param {String} bundleName The i18n bundle name\n * @param {String} reason Could be 'bundle' (Bundle not found), 'key' (Key not found) or 'parameters' (Parameters mismatch).\n */\n\n\nfunction emitL10nError(key, bundleName, reason) {\n  // CustomEvent polyfill for IE\n  if (!window.CustomEvent) {\n    window.CustomEvent = IECustomEvent;\n  } // dispatchEvent for sentry\n\n\n  if (typeof window.CustomEvent === 'function') {\n    const event = new CustomEvent('okta-i18n-error', {\n      detail: {\n        type: 'l10n-error',\n        key: key,\n        bundleName: bundleName,\n        reason: reason\n      }\n    });\n    document.dispatchEvent(event);\n  }\n}\n\nconst StringUtil =\n/** @lends module:Okta.internal.util.StringUtil */\n{\n  /** @static */\n  sprintf: function () {\n    const args = Array.prototype.slice.apply(arguments);\n    let value = args.shift();\n    let oldValue = value;\n    /* eslint max-statements: [2, 15] */\n\n    function triggerError() {\n      throw new Error('Mismatch number of variables: ' + arguments[0] + ', ' + JSON.stringify(args));\n    }\n\n    for (var i = 0, l = args.length; i < l; i++) {\n      const entity = args[i];\n      const regex = new RegExp('\\\\{' + i + '\\\\}', 'g');\n      value = value.replace(regex, entity);\n\n      if (entity === undefined || entity === null || value === oldValue) {\n        triggerError();\n      }\n\n      oldValue = value;\n    }\n\n    if (/\\{[\\d+]\\}/.test(value)) {\n      triggerError();\n    }\n\n    return value;\n  },\n\n  /**\n   * Converts a URI encoded query string into a hash map\n   * @param  {String} query The query string\n   * @return {Object} The map\n   * @static\n   * @example\n   * StringUtil.parseQuery('foo=bar&baz=qux') // {foo: 'bar', baz: 'qux'}\n   */\n  parseQuery: function (query) {\n    const params = {};\n    const pairs = decodeURIComponent(query.replace(/\\+/g, ' ')).split('&');\n\n    for (var i = 0; i < pairs.length; i++) {\n      const pair = pairs[i];\n      const data = pair.split('=');\n      params[data.shift()] = data.join('=');\n    }\n\n    return params;\n  },\n\n  /** @static */\n  encodeJSObject: function (jsObj) {\n    return encodeURIComponent(JSON.stringify(jsObj));\n  },\n\n  /** @static */\n  decodeJSObject: function (jsObj) {\n    try {\n      return JSON.parse(decodeURIComponent(jsObj));\n    } catch (e) {\n      return null;\n    }\n  },\n\n  /** @static */\n  unescapeHtml: function (string) {\n    return String(string).replace(/&[\\w#\\d]{2,};/g, function (s) {\n      return entityMap[s] || s;\n    });\n  },\n\n  /**\n   * Get the original i18n template directly without string format with parameters\n   * @param {String} key The key\n   * @param {String} bundle=\"messages\"] The name of the i18n bundle. Defaults to the first bundle in the list.\n   */\n  getTemplate: function (key, bundleName) {\n    const bundle = getBundle(bundleName);\n\n    if (!bundle) {\n      emitL10nError(key, bundleName, 'bundle');\n      return 'L10N_ERROR[' + bundleName + ']';\n    }\n\n    if (bundle[key]) {\n      return bundle[key];\n    } else {\n      emitL10nError(key, bundleName, 'key');\n      return 'L10N_ERROR[' + key + ']';\n    }\n  },\n\n  /**\n   * Translate a key to the localized value\n   * @static\n   * @param  {String} key The key\n   * @param  {String} [bundle=\"messages\"] The name of the i18n bundle. Defaults to the first bundle in the list.\n   * @param  {Array} [params] A list of parameters to apply as tokens to the i18n value\n   * @return {String} The localized value\n   */\n  localize: function (key, bundleName, params) {\n    const bundle = getBundle(bundleName);\n    /* eslint complexity: [2, 6] */\n\n    if (!bundle) {\n      emitL10nError(key, bundleName, 'bundle');\n      return 'L10N_ERROR[' + bundleName + ']';\n    }\n\n    let value = bundle[key];\n\n    try {\n      params = params && params.slice ? params.slice(0) : [];\n      params.unshift(value);\n      value = StringUtil.sprintf.apply(null, params);\n\n      if (value) {\n        return value;\n      } else {\n        emitL10nError(key, bundleName, 'key');\n        return 'L10N_ERROR[' + key + ']';\n      }\n    } catch (e) {\n      emitL10nError(key, bundleName, 'parameters');\n      return 'L10N_ERROR[' + key + ']';\n    }\n  },\n\n  /**\n   * Convert a string to a float if valid, otherwise return the string.\n   * Valid numbers may contain a negative sign and a decimal point.\n   * @static\n   * @param {String} string The string to convert to a number\n   * @return {String|Number} Returns a number if the string can be casted, otherwise returns the original string\n   */\n  parseFloat: function (string) {\n    const number = +string;\n    return typeof string === 'string' && number === parseFloat(string) ? number : string;\n  },\n\n  /**\n   * Convert a string to an integer if valid, otherwise return the string\n   * @static\n   * @param {String} string The string to convert to an integer\n   * @return {String|integer} Returns an integer if the string can be casted, otherwise, returns the original string\n   */\n  parseInt: function (string) {\n    const int = +string;\n    return oktaUnderscore.isString(string) && int === parseInt(string, 10) ? int : string;\n  },\n\n  /**\n   * Convert a string to an object if valid, otherwise return the string\n   * @static\n   * @param {String} string The string to convert to an object\n   * @return {String|object} Returns an object if the string can be casted, otherwise, returns the original string\n   */\n  parseObject: function (string) {\n    if (!oktaUnderscore.isString(string)) {\n      return string;\n    }\n\n    try {\n      const object = JSON.parse(string);\n      return oktaJQueryStatic.isPlainObject(object) ? object : string;\n    } catch (e) {\n      return string;\n    }\n  },\n\n  /**\n   * Returns a random string from [a-z][A-Z][0-9] of a given length\n   * @static\n   * @param {Number} length The length of the random string.\n   * @return {String} Returns a random string from [a-z][A-Z][0-9] of a given length\n   */\n  randomString: function (length) {\n    const characters = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';\n\n    if (length === undefined) {\n      length = oktaUnderscore.random(characters.length);\n    } else if (length === 0) {\n      return '';\n    }\n\n    const stringArray = [];\n\n    while (length--) {\n      stringArray.push(characters[oktaUnderscore.random(characters.length - 1)]);\n    }\n\n    return stringArray.join('');\n  },\n\n  /**\n   * Returns if a str ends with another string\n   * @static\n   * @param {String} str The string to search\n   * @param {String} ends The string it should end with\n   *\n   * @return {Boolean} Returns if the str ends with ends\n   */\n  endsWith: function (str, ends) {\n    str += '';\n    ends += '';\n    return str.length >= ends.length && str.substring(str.length - ends.length) === ends;\n  },\n\n  /** @static */\n  isEmail: function (str) {\n    const target = oktaJQueryStatic.trim(str);\n    return !oktaUnderscore.isEmpty(target) && emailValidator.test(target);\n  }\n};\n\nexport { StringUtil as default };\n"],"names":["entityMap","emailValidator","parseLocale","locale","test","parts","split","toUpperCase","join","getBundle","bundleName","Bundles","oktaUnderscore","keys","window","okta","IECustomEvent","event","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","emitL10nError","key","reason","CustomEvent","type","dispatchEvent","StringUtil","sprintf","args","Array","prototype","slice","apply","arguments","value","shift","oldValue","triggerError","Error","JSON","stringify","i","l","length","entity","regex","RegExp","replace","undefined","parseQuery","query","pairs","decodeURIComponent","pair","data","encodeJSObject","jsObj","encodeURIComponent","decodeJSObject","parse","e","unescapeHtml","string","String","s","getTemplate","bundle","localize","unshift","parseFloat","number","parseInt","int","isString","parseObject","object","oktaJQueryStatic","isPlainObject","randomString","characters","random","stringArray","push","endsWith","str","ends","substring","isEmail","target","trim","isEmpty"],"mappings":"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"}
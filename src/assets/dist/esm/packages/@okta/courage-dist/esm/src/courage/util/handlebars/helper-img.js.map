{"version":3,"file":"helper-img.js","sources":["../../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js"],"sourcesContent":["import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nexport { default } from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../underscore-wrapper.js';\n\n/* eslint @okta/okta-ui/no-specific-modules: 0 */\nconst CACHE_BUST_URL_PREFIX = '/assets';\n\nfunction prependCachebustPrefix(path) {\n  if (path.indexOf(CACHE_BUST_URL_PREFIX) === 0) {\n    return path;\n  }\n\n  return CACHE_BUST_URL_PREFIX + path;\n}\n\n_Handlebars2.registerHelper('img', function img(options) {\n  const cdn = typeof okta !== 'undefined' && okta.cdnUrlHostname || '';\n\n  const hash = oktaUnderscore.pick(options.hash, ['src', 'alt', 'width', 'height', 'class', 'title']);\n\n  hash.src = `${cdn}${prependCachebustPrefix(hash.src)}`;\n\n  const attrs = oktaUnderscore.map(hash, (value, attr) => {\n    const encodedValue = attr === 'src' ? encodeURI(value) : _Handlebars2.Utils.escapeExpression(value);\n    return `${attr}=\"${encodedValue}\"`;\n  });\n\n  return new _Handlebars2.SafeString(`<img ${attrs.join(' ')}/>`);\n});\n"],"names":["CACHE_BUST_URL_PREFIX","prependCachebustPrefix","path","indexOf","_Handlebars2","registerHelper","img","options","cdn","okta","cdnUrlHostname","hash","oktaUnderscore","pick","src","attrs","map","value","attr","encodedValue","encodeURI","Utils","escapeExpression","SafeString","join"],"mappings":";;;;AAIA;;AACA,MAAMA,qBAAqB,GAAG,SAA9B,CAAA;;AAEA,SAASC,sBAAT,CAAgCC,IAAhC,EAAsC;AACpC,EAAA,IAAIA,IAAI,CAACC,OAAL,CAAaH,qBAAb,CAAA,KAAwC,CAA5C,EAA+C;AAC7C,IAAA,OAAOE,IAAP,CAAA;AACD,GAAA;;AAED,EAAOF,OAAAA,qBAAqB,GAAGE,IAA/B,CAAA;AACD,CAAA;;AAEDE,YAAY,CAACC,cAAb,CAA4B,KAA5B,EAAmC,SAASC,GAAT,CAAaC,OAAb,EAAsB;AACvD,EAAMC,MAAAA,GAAG,GAAG,OAAOC,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,CAACC,cAApC,IAAsD,EAAlE,CAAA;AAEA,EAAMC,MAAAA,IAAI,GAAGC,cAAc,CAACC,IAAf,CAAoBN,OAAO,CAACI,IAA5B,EAAkC,CAAC,KAAD,EAAQ,KAAR,EAAe,OAAf,EAAwB,QAAxB,EAAkC,OAAlC,EAA2C,OAA3C,CAAlC,CAAb,CAAA;AAEAA,EAAAA,IAAI,CAACG,GAAL,GAAY,CAAEN,EAAAA,GAAI,CAAEP,EAAAA,sBAAsB,CAACU,IAAI,CAACG,GAAN,CAAW,CAArD,CAAA,CAAA;AAEA,EAAA,MAAMC,KAAK,GAAGH,cAAc,CAACI,GAAf,CAAmBL,IAAnB,EAAyB,CAACM,KAAD,EAAQC,IAAR,KAAiB;AACtD,IAAA,MAAMC,YAAY,GAAGD,IAAI,KAAK,KAAT,GAAiBE,SAAS,CAACH,KAAD,CAA1B,GAAoCb,YAAY,CAACiB,KAAb,CAAmBC,gBAAnB,CAAoCL,KAApC,CAAzD,CAAA;AACA,IAAA,OAAQ,CAAEC,EAAAA,IAAK,CAAIC,EAAAA,EAAAA,YAAa,CAAhC,CAAA,CAAA,CAAA;AACD,GAHa,CAAd,CAAA;AAKA,EAAA,OAAO,IAAIf,YAAY,CAACmB,UAAjB,CAA6B,CAAA,KAAA,EAAOR,KAAK,CAACS,IAAN,CAAW,GAAX,CAAgB,IAApD,CAAP,CAAA;AACD,CAbD,CAAA"}
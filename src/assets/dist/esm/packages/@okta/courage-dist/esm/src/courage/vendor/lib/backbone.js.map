{"version":3,"file":"backbone.js","sources":["../../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js"],"sourcesContent":["import { commonjsGlobal } from '../../../../_virtual/_commonjsHelpers.js';\nimport { b as backbone } from '../../../../_virtual/backbone.js';\nimport './jquery-1.12.4.js';\nimport '../../../../lib/underscore/underscore-min.js';\nimport { j as jquery1_12_4 } from '../../../../_virtual/jquery-1.12.4.js';\nimport { u as underscoreMin } from '../../../../_virtual/underscore-min.js';\n\n(function (module, exports) {\n//     Backbone.js 1.4.0\n//     (c) 2010-2019 Jeremy Ashkenas and DocumentCloud\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\nconst jQuery = jquery1_12_4.exports;\n(function (factory) {\n  // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\n  // We use `self` instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self || typeof commonjsGlobal == 'object' && commonjsGlobal.global === commonjsGlobal && commonjsGlobal; // Set up Backbone appropriately for the environment. Start with AMD.\n\n  {\n    var _ = underscoreMin.exports,\n        $;\n\n    try {\n      $ = jQuery;\n    } catch (e) {}\n\n    factory(root, exports, _, $); // Finally, as a browser global.\n  }\n})(function (root, Backbone, _, $) {\n  // Initial Setup\n  // -------------\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone; // Create a local reference to a common array method we'll want to use later.\n\n  var slice = Array.prototype.slice; // Current version of the library. Keep in sync with `package.json`.\n\n  Backbone.VERSION = '1.4.0'; // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n\n  Backbone.$ = $; // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n\n  Backbone.noConflict = function () {\n    root.Backbone = previousBackbone;\n    return this;\n  }; // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n\n\n  Backbone.emulateHTTP = false; // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... this will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n\n  Backbone.emulateJSON = false; // Backbone.Events\n  // ---------------\n  // A module that can be mixed in to *any object* in order to provide it with\n  // a custom event channel. You may bind a callback to an event with `on` or\n  // remove with `off`; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n\n  var Events = Backbone.Events = {}; // Regular expression used to split event strings.\n\n  var eventSplitter = /\\s+/; // A private global variable to share between listeners and listenees.\n\n  var _listening; // Iterates over the standard `event, callback` (as well as the fancy multiple\n  // space-separated events `\"change blur\", callback` and jQuery-style event\n  // maps `{event: callback}`).\n\n\n  var eventsApi = function (iteratee, events, name, callback, opts) {\n    var i = 0,\n        names;\n\n    if (name && typeof name === 'object') {\n      // Handle event maps.\n      if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n\n      for (names = _.keys(name); i < names.length; i++) {\n        events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n      }\n    } else if (name && eventSplitter.test(name)) {\n      // Handle space-separated event names by delegating them individually.\n      for (names = name.split(eventSplitter); i < names.length; i++) {\n        events = iteratee(events, names[i], callback, opts);\n      }\n    } else {\n      // Finally, standard events.\n      events = iteratee(events, name, callback, opts);\n    }\n\n    return events;\n  }; // Bind an event to a `callback` function. Passing `\"all\"` will bind\n  // the callback to all events fired.\n\n\n  Events.on = function (name, callback, context) {\n    this._events = eventsApi(onApi, this._events || {}, name, callback, {\n      context: context,\n      ctx: this,\n      listening: _listening\n    });\n\n    if (_listening) {\n      var listeners = this._listeners || (this._listeners = {});\n      listeners[_listening.id] = _listening; // Allow the listening to use a counter, instead of tracking\n      // callbacks for library interop\n\n      _listening.interop = false;\n    }\n\n    return this;\n  }; // Inversion-of-control versions of `on`. Tell *this* object to listen to\n  // an event in another object... keeping track of what it's listening to\n  // for easier unbinding later.\n\n\n  Events.listenTo = function (obj, name, callback) {\n    if (!obj) return this;\n\n    var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n\n    var listeningTo = this._listeningTo || (this._listeningTo = {});\n    var listening = _listening = listeningTo[id]; // This object is not listening to any other events on `obj` yet.\n    // Setup the necessary references to track the listening callbacks.\n\n    if (!listening) {\n      this._listenId || (this._listenId = _.uniqueId('l'));\n      listening = _listening = listeningTo[id] = new Listening(this, obj);\n    } // Bind callbacks on obj.\n\n\n    var error = tryCatchOn(obj, name, callback, this);\n    _listening = void 0;\n    if (error) throw error; // If the target obj is not Backbone.Events, track events manually.\n\n    if (listening.interop) listening.on(name, callback);\n    return this;\n  }; // The reducing API that adds a callback to the `events` object.\n\n\n  var onApi = function (events, name, callback, options) {\n    if (callback) {\n      var handlers = events[name] || (events[name] = []);\n      var context = options.context,\n          ctx = options.ctx,\n          listening = options.listening;\n      if (listening) listening.count++;\n      handlers.push({\n        callback: callback,\n        context: context,\n        ctx: context || ctx,\n        listening: listening\n      });\n    }\n\n    return events;\n  }; // An try-catch guarded #on function, to prevent poisoning the global\n  // `_listening` variable.\n\n\n  var tryCatchOn = function (obj, name, callback, context) {\n    try {\n      obj.on(name, callback, context);\n    } catch (e) {\n      return e;\n    }\n  }; // Remove one or many callbacks. If `context` is null, removes all\n  // callbacks with that function. If `callback` is null, removes all\n  // callbacks for the event. If `name` is null, removes all bound\n  // callbacks for all events.\n\n\n  Events.off = function (name, callback, context) {\n    if (!this._events) return this;\n    this._events = eventsApi(offApi, this._events, name, callback, {\n      context: context,\n      listeners: this._listeners\n    });\n    return this;\n  }; // Tell this object to stop listening to either specific events ... or\n  // to every object it's currently listening to.\n\n\n  Events.stopListening = function (obj, name, callback) {\n    var listeningTo = this._listeningTo;\n    if (!listeningTo) return this;\n    var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n\n    for (var i = 0; i < ids.length; i++) {\n      var listening = listeningTo[ids[i]]; // If listening doesn't exist, this object is not currently\n      // listening to obj. Break out early.\n\n      if (!listening) break;\n      listening.obj.off(name, callback, this);\n      if (listening.interop) listening.off(name, callback);\n    }\n\n    if (_.isEmpty(listeningTo)) this._listeningTo = void 0;\n    return this;\n  }; // The reducing API that removes a callback from the `events` object.\n\n\n  var offApi = function (events, name, callback, options) {\n    if (!events) return;\n    var context = options.context,\n        listeners = options.listeners;\n    var i = 0,\n        names; // Delete all event listeners and \"drop\" events.\n\n    if (!name && !context && !callback) {\n      for (names = _.keys(listeners); i < names.length; i++) {\n        listeners[names[i]].cleanup();\n      }\n\n      return;\n    }\n\n    names = name ? [name] : _.keys(events);\n\n    for (; i < names.length; i++) {\n      name = names[i];\n      var handlers = events[name]; // Bail out if there are no events stored.\n\n      if (!handlers) break; // Find any remaining events.\n\n      var remaining = [];\n\n      for (var j = 0; j < handlers.length; j++) {\n        var handler = handlers[j];\n\n        if (callback && callback !== handler.callback && callback !== handler.callback._callback || context && context !== handler.context) {\n          remaining.push(handler);\n        } else {\n          var listening = handler.listening;\n          if (listening) listening.off(name, callback);\n        }\n      } // Replace events if there are any remaining.  Otherwise, clean up.\n\n\n      if (remaining.length) {\n        events[name] = remaining;\n      } else {\n        delete events[name];\n      }\n    }\n\n    return events;\n  }; // Bind an event to only be triggered a single time. After the first time\n  // the callback is invoked, its listener will be removed. If multiple events\n  // are passed in using the space-separated syntax, the handler will fire\n  // once for each event, not once for a combination of all events.\n\n\n  Events.once = function (name, callback, context) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.off.bind(this));\n    if (typeof name === 'string' && context == null) callback = void 0;\n    return this.on(events, callback, context);\n  }; // Inversion-of-control versions of `once`.\n\n\n  Events.listenToOnce = function (obj, name, callback) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.stopListening.bind(this, obj));\n    return this.listenTo(obj, events);\n  }; // Reduces the event callbacks into a map of `{event: onceWrapper}`.\n  // `offer` unbinds the `onceWrapper` after it has been called.\n\n\n  var onceMap = function (map, name, callback, offer) {\n    if (callback) {\n      var once = map[name] = _.once(function () {\n        offer(name, once);\n        callback.apply(this, arguments);\n      });\n\n      once._callback = callback;\n    }\n\n    return map;\n  }; // Trigger one or many events, firing all bound callbacks. Callbacks are\n  // passed the same arguments as `trigger` is, apart from the event name\n  // (unless you're listening on `\"all\"`, which will cause your callback to\n  // receive the true name of the event as the first argument).\n\n\n  Events.trigger = function (name) {\n    if (!this._events) return this;\n    var length = Math.max(0, arguments.length - 1);\n    var args = Array(length);\n\n    for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n    eventsApi(triggerApi, this._events, name, void 0, args);\n    return this;\n  }; // Handles triggering the appropriate event callbacks.\n\n\n  var triggerApi = function (objEvents, name, callback, args) {\n    if (objEvents) {\n      var events = objEvents[name];\n      var allEvents = objEvents.all;\n      if (events && allEvents) allEvents = allEvents.slice();\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, [name].concat(args));\n    }\n\n    return objEvents;\n  }; // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n\n\n  var triggerEvents = function (events, args) {\n    var ev,\n        i = -1,\n        l = events.length,\n        a1 = args[0],\n        a2 = args[1],\n        a3 = args[2];\n\n    switch (args.length) {\n      case 0:\n        while (++i < l) (ev = events[i]).callback.call(ev.ctx);\n\n        return;\n\n      case 1:\n        while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1);\n\n        return;\n\n      case 2:\n        while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2);\n\n        return;\n\n      case 3:\n        while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3);\n\n        return;\n\n      default:\n        while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n\n        return;\n    }\n  }; // A listening class that tracks and cleans up memory bindings\n  // when all callbacks have been offed.\n\n\n  var Listening = function (listener, obj) {\n    this.id = listener._listenId;\n    this.listener = listener;\n    this.obj = obj;\n    this.interop = true;\n    this.count = 0;\n    this._events = void 0;\n  };\n\n  Listening.prototype.on = Events.on; // Offs a callback (or several).\n  // Uses an optimized counter if the listenee uses Backbone.Events.\n  // Otherwise, falls back to manual tracking to support events\n  // library interop.\n\n  Listening.prototype.off = function (name, callback) {\n    var cleanup;\n\n    if (this.interop) {\n      this._events = eventsApi(offApi, this._events, name, callback, {\n        context: void 0,\n        listeners: void 0\n      });\n      cleanup = !this._events;\n    } else {\n      this.count--;\n      cleanup = this.count === 0;\n    }\n\n    if (cleanup) this.cleanup();\n  }; // Cleans up memory bindings between the listener and the listenee.\n\n\n  Listening.prototype.cleanup = function () {\n    delete this.listener._listeningTo[this.obj._listenId];\n    if (!this.interop) delete this.obj._listeners[this.id];\n  }; // Aliases for backwards compatibility.\n\n\n  Events.bind = Events.on;\n  Events.unbind = Events.off; // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global \"pubsub\" in a convenient place.\n\n  _.extend(Backbone, Events); // Backbone.Model\n  // --------------\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n\n\n  var Model = Backbone.Model = function (attributes, options) {\n    var attrs = attributes || {};\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    this.cid = _.uniqueId(this.cidPrefix);\n    this.attributes = {};\n    if (options.collection) this.collection = options.collection;\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n\n    var defaults = _.result(this, 'defaults');\n\n    attrs = _.defaults(_.extend({}, defaults, attrs), defaults);\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize.apply(this, arguments);\n  }; // Attach all inheritable methods to the Model prototype.\n\n\n  _.extend(Model.prototype, Events, {\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n    // The value returned during the last failed validation.\n    validationError: null,\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n    idAttribute: 'id',\n    // The prefix is used to create the client id which is used to identify models locally.\n    // You may want to override this if you're experiencing name clashes with model ids.\n    cidPrefix: 'c',\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Model.\n    preinitialize: function () {},\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function () {},\n    // Return a copy of the model's `attributes` object.\n    toJSON: function (options) {\n      return _.clone(this.attributes);\n    },\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n    sync: function () {\n      return Backbone.sync.apply(this, arguments);\n    },\n    // Get the value of an attribute.\n    get: function (attr) {\n      return this.attributes[attr];\n    },\n    // Get the HTML-escaped value of an attribute.\n    escape: function (attr) {\n      return _.escape(this.get(attr));\n    },\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function (attr) {\n      return this.get(attr) != null;\n    },\n    // Special-cased proxy to underscore's `_.matches` method.\n    matches: function (attrs) {\n      return !!_.iteratee(attrs, this)(this.attributes);\n    },\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n    set: function (key, val, options) {\n      if (key == null) return this; // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\n      var attrs;\n\n      if (typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options || (options = {}); // Run validation.\n\n      if (!this._validate(attrs, options)) return false; // Extract attributes and options.\n\n      var unset = options.unset;\n      var silent = options.silent;\n      var changes = [];\n      var changing = this._changing;\n      this._changing = true;\n\n      if (!changing) {\n        this._previousAttributes = _.clone(this.attributes);\n        this.changed = {};\n      }\n\n      var current = this.attributes;\n      var changed = this.changed;\n      var prev = this._previousAttributes; // For each `set` attribute, update or delete the current value.\n\n      for (var attr in attrs) {\n        val = attrs[attr];\n        if (!_.isEqual(current[attr], val)) changes.push(attr);\n\n        if (!_.isEqual(prev[attr], val)) {\n          changed[attr] = val;\n        } else {\n          delete changed[attr];\n        }\n\n        unset ? delete current[attr] : current[attr] = val;\n      } // Update the `id`.\n\n\n      if (this.idAttribute in attrs) this.id = this.get(this.idAttribute); // Trigger all relevant attribute changes.\n\n      if (!silent) {\n        if (changes.length) this._pending = options;\n\n        for (var i = 0; i < changes.length; i++) {\n          this.trigger('change:' + changes[i], this, current[changes[i]], options);\n        }\n      } // You might be wondering why there's a `while` loop here. Changes can\n      // be recursively nested within `\"change\"` events.\n\n\n      if (changing) return this;\n\n      if (!silent) {\n        while (this._pending) {\n          options = this._pending;\n          this._pending = false;\n          this.trigger('change', this, options);\n        }\n      }\n\n      this._pending = false;\n      this._changing = false;\n      return this;\n    },\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n    unset: function (attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {\n        unset: true\n      }));\n    },\n    // Clear all attributes on the model, firing `\"change\"`.\n    clear: function (options) {\n      var attrs = {};\n\n      for (var key in this.attributes) attrs[key] = void 0;\n\n      return this.set(attrs, _.extend({}, options, {\n        unset: true\n      }));\n    },\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function (attr) {\n      if (attr == null) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function (diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var old = this._changing ? this._previousAttributes : this.attributes;\n      var changed = {};\n      var hasChanged;\n\n      for (var attr in diff) {\n        var val = diff[attr];\n        if (_.isEqual(old[attr], val)) continue;\n        changed[attr] = val;\n        hasChanged = true;\n      }\n\n      return hasChanged ? changed : false;\n    },\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n    previous: function (attr) {\n      if (attr == null || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n    previousAttributes: function () {\n      return _.clone(this._previousAttributes);\n    },\n    // Fetch the model from the server, merging the response with the model's\n    // local attributes. Any changed attributes will trigger a \"change\" event.\n    fetch: function (options) {\n      options = _.extend({\n        parse: true\n      }, options);\n      var model = this;\n      var success = options.success;\n\n      options.success = function (resp) {\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (!model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n    save: function (key, val, options) {\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n\n      if (key == null || typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options = _.extend({\n        validate: true,\n        parse: true\n      }, options);\n      var wait = options.wait; // If we're not waiting and attributes exist, save acts as\n      // `set(attr).save(null, opts)` with validation. Otherwise, check if\n      // the model will be valid when the attributes, if any, are set.\n\n      if (attrs && !wait) {\n        if (!this.set(attrs, options)) return false;\n      } else if (!this._validate(attrs, options)) {\n        return false;\n      } // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n\n\n      var model = this;\n      var success = options.success;\n      var attributes = this.attributes;\n\n      options.success = function (resp) {\n        // Ensure attributes are restored during synchronous saves.\n        model.attributes = attributes;\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);\n        if (serverAttrs && !model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n\n      wrapError(this, options); // Set temporary attributes if `{wait: true}` to properly find new ids.\n\n      if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);\n      var method = this.isNew() ? 'create' : options.patch ? 'patch' : 'update';\n      if (method === 'patch' && !options.attrs) options.attrs = attrs;\n      var xhr = this.sync(method, this, options); // Restore attributes.\n\n      this.attributes = attributes;\n      return xhr;\n    },\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function (options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n      var wait = options.wait;\n\n      var destroy = function () {\n        model.stopListening();\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      options.success = function (resp) {\n        if (wait) destroy();\n        if (success) success.call(options.context, model, resp, options);\n        if (!model.isNew()) model.trigger('sync', model, resp, options);\n      };\n\n      var xhr = false;\n\n      if (this.isNew()) {\n        _.defer(options.success);\n      } else {\n        wrapError(this, options);\n        xhr = this.sync('delete', this, options);\n      }\n\n      if (!wait) destroy();\n      return xhr;\n    },\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n    url: function () {\n      var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url') || urlError();\n      if (this.isNew()) return base;\n      var id = this.get(this.idAttribute);\n      return base.replace(/[^\\/]$/, '$&/') + encodeURIComponent(id);\n    },\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function (resp, options) {\n      return resp;\n    },\n    // Create a new model with identical attributes to this one.\n    clone: function () {\n      return new this.constructor(this.attributes);\n    },\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function () {\n      return !this.has(this.idAttribute);\n    },\n    // Check if the model is currently in a valid state.\n    isValid: function (options) {\n      return this._validate({}, _.extend({}, options, {\n        validate: true\n      }));\n    },\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n    _validate: function (attrs, options) {\n      if (!options.validate || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validationError = this.validate(attrs, options) || null;\n      if (!error) return true;\n      this.trigger('invalid', this, error, _.extend(options, {\n        validationError: error\n      }));\n      return false;\n    }\n  }); // Backbone.Collection\n  // -------------------\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analogous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n\n\n  var Collection = Backbone.Collection = function (models, options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.model) this.model = options.model;\n    if (options.comparator !== void 0) this.comparator = options.comparator;\n\n    this._reset();\n\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, _.extend({\n      silent: true\n    }, options));\n  }; // Default options for `Collection#set`.\n\n\n  var setOptions = {\n    add: true,\n    remove: true,\n    merge: true\n  };\n  var addOptions = {\n    add: true,\n    remove: false\n  }; // Splices `insert` into `array` at index `at`.\n\n  var splice = function (array, insert, at) {\n    at = Math.min(Math.max(at, 0), array.length);\n    var tail = Array(array.length - at);\n    var length = insert.length;\n    var i;\n\n    for (i = 0; i < tail.length; i++) tail[i] = array[i + at];\n\n    for (i = 0; i < length; i++) array[i + at] = insert[i];\n\n    for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];\n  }; // Define the Collection's inheritable methods.\n\n\n  _.extend(Collection.prototype, Events, {\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Collection.\n    preinitialize: function () {},\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function () {},\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n    toJSON: function (options) {\n      return this.map(function (model) {\n        return model.toJSON(options);\n      });\n    },\n    // Proxy `Backbone.sync` by default.\n    sync: function () {\n      return Backbone.sync.apply(this, arguments);\n    },\n    // Add a model, or list of models to the set. `models` may be Backbone\n    // Models or raw JavaScript objects to be converted to Models, or any\n    // combination of the two.\n    add: function (models, options) {\n      return this.set(models, _.extend({\n        merge: false\n      }, options, addOptions));\n    },\n    // Remove a model, or a list of models from the set.\n    remove: function (models, options) {\n      options = _.extend({}, options);\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n\n      var removed = this._removeModels(models, options);\n\n      if (!options.silent && removed.length) {\n        options.changes = {\n          added: [],\n          merged: [],\n          removed: removed\n        };\n        this.trigger('update', this, options);\n      }\n\n      return singular ? removed[0] : removed;\n    },\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n    set: function (models, options) {\n      if (models == null) return;\n      options = _.extend({}, setOptions, options);\n\n      if (options.parse && !this._isModel(models)) {\n        models = this.parse(models, options) || [];\n      }\n\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n      var at = options.at;\n      if (at != null) at = +at;\n      if (at > this.length) at = this.length;\n      if (at < 0) at += this.length + 1;\n      var set = [];\n      var toAdd = [];\n      var toMerge = [];\n      var toRemove = [];\n      var modelMap = {};\n      var add = options.add;\n      var merge = options.merge;\n      var remove = options.remove;\n      var sort = false;\n      var sortable = this.comparator && at == null && options.sort !== false;\n      var sortAttr = _.isString(this.comparator) ? this.comparator : null; // Turn bare objects into model references, and prevent invalid models\n      // from being added.\n\n      var model, i;\n\n      for (i = 0; i < models.length; i++) {\n        model = models[i]; // If a duplicate is found, prevent it from being added and\n        // optionally merge it into the existing model.\n\n        var existing = this.get(model);\n\n        if (existing) {\n          if (merge && model !== existing) {\n            var attrs = this._isModel(model) ? model.attributes : model;\n            if (options.parse) attrs = existing.parse(attrs, options);\n            existing.set(attrs, options);\n            toMerge.push(existing);\n            if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n          }\n\n          if (!modelMap[existing.cid]) {\n            modelMap[existing.cid] = true;\n            set.push(existing);\n          }\n\n          models[i] = existing; // If this is a new, valid model, push it to the `toAdd` list.\n        } else if (add) {\n          model = models[i] = this._prepareModel(model, options);\n\n          if (model) {\n            toAdd.push(model);\n\n            this._addReference(model, options);\n\n            modelMap[model.cid] = true;\n            set.push(model);\n          }\n        }\n      } // Remove stale models.\n\n\n      if (remove) {\n        for (i = 0; i < this.length; i++) {\n          model = this.models[i];\n          if (!modelMap[model.cid]) toRemove.push(model);\n        }\n\n        if (toRemove.length) this._removeModels(toRemove, options);\n      } // See if sorting is needed, update `length` and splice in new models.\n\n\n      var orderChanged = false;\n      var replace = !sortable && add && remove;\n\n      if (set.length && replace) {\n        orderChanged = this.length !== set.length || _.some(this.models, function (m, index) {\n          return m !== set[index];\n        });\n        this.models.length = 0;\n        splice(this.models, set, 0);\n        this.length = this.models.length;\n      } else if (toAdd.length) {\n        if (sortable) sort = true;\n        splice(this.models, toAdd, at == null ? this.length : at);\n        this.length = this.models.length;\n      } // Silently sort the collection if appropriate.\n\n\n      if (sort) this.sort({\n        silent: true\n      }); // Unless silenced, it's time to fire all appropriate add/sort/update events.\n\n      if (!options.silent) {\n        for (i = 0; i < toAdd.length; i++) {\n          if (at != null) options.index = at + i;\n          model = toAdd[i];\n          model.trigger('add', model, this, options);\n        }\n\n        if (sort || orderChanged) this.trigger('sort', this, options);\n\n        if (toAdd.length || toRemove.length || toMerge.length) {\n          options.changes = {\n            added: toAdd,\n            removed: toRemove,\n            merged: toMerge\n          };\n          this.trigger('update', this, options);\n        }\n      } // Return the added (or merged) model (or models).\n\n\n      return singular ? models[0] : models;\n    },\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n    reset: function (models, options) {\n      options = options ? _.clone(options) : {};\n\n      for (var i = 0; i < this.models.length; i++) {\n        this._removeReference(this.models[i], options);\n      }\n\n      options.previousModels = this.models;\n\n      this._reset();\n\n      models = this.add(models, _.extend({\n        silent: true\n      }, options));\n      if (!options.silent) this.trigger('reset', this, options);\n      return models;\n    },\n    // Add a model to the end of the collection.\n    push: function (model, options) {\n      return this.add(model, _.extend({\n        at: this.length\n      }, options));\n    },\n    // Remove a model from the end of the collection.\n    pop: function (options) {\n      var model = this.at(this.length - 1);\n      return this.remove(model, options);\n    },\n    // Add a model to the beginning of the collection.\n    unshift: function (model, options) {\n      return this.add(model, _.extend({\n        at: 0\n      }, options));\n    },\n    // Remove a model from the beginning of the collection.\n    shift: function (options) {\n      var model = this.at(0);\n      return this.remove(model, options);\n    },\n    // Slice out a sub-array of models from the collection.\n    slice: function () {\n      return slice.apply(this.models, arguments);\n    },\n    // Get a model from the set by id, cid, model object with id or cid\n    // properties, or an attributes object that is transformed through modelId.\n    get: function (obj) {\n      if (obj == null) return void 0;\n      return this._byId[obj] || this._byId[this.modelId(this._isModel(obj) ? obj.attributes : obj)] || obj.cid && this._byId[obj.cid];\n    },\n    // Returns `true` if the model is in the collection.\n    has: function (obj) {\n      return this.get(obj) != null;\n    },\n    // Get the model at the given index.\n    at: function (index) {\n      if (index < 0) index += this.length;\n      return this.models[index];\n    },\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n    where: function (attrs, first) {\n      return this[first ? 'find' : 'filter'](attrs);\n    },\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n    findWhere: function (attrs) {\n      return this.where(attrs, true);\n    },\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function (options) {\n      var comparator = this.comparator;\n      if (!comparator) throw new Error('Cannot sort a set without a comparator');\n      options || (options = {});\n      var length = comparator.length;\n      if (_.isFunction(comparator)) comparator = comparator.bind(this); // Run sort based on type of `comparator`.\n\n      if (length === 1 || _.isString(comparator)) {\n        this.models = this.sortBy(comparator);\n      } else {\n        this.models.sort(comparator);\n      }\n\n      if (!options.silent) this.trigger('sort', this, options);\n      return this;\n    },\n    // Pluck an attribute from each model in the collection.\n    pluck: function (attr) {\n      return this.map(attr + '');\n    },\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n    fetch: function (options) {\n      options = _.extend({\n        parse: true\n      }, options);\n      var success = options.success;\n      var collection = this;\n\n      options.success = function (resp) {\n        var method = options.reset ? 'reset' : 'set';\n        collection[method](resp, options);\n        if (success) success.call(options.context, collection, resp, options);\n        collection.trigger('sync', collection, resp, options);\n      };\n\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function (model, options) {\n      options = options ? _.clone(options) : {};\n      var wait = options.wait;\n      model = this._prepareModel(model, options);\n      if (!model) return false;\n      if (!wait) this.add(model, options);\n      var collection = this;\n      var success = options.success;\n\n      options.success = function (m, resp, callbackOpts) {\n        if (wait) collection.add(m, callbackOpts);\n        if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\n      };\n\n      model.save(null, options);\n      return model;\n    },\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function (resp, options) {\n      return resp;\n    },\n    // Create a new collection with an identical list of models as this one.\n    clone: function () {\n      return new this.constructor(this.models, {\n        model: this.model,\n        comparator: this.comparator\n      });\n    },\n    // Define how to uniquely identify models in the collection.\n    modelId: function (attrs) {\n      return attrs[this.model.prototype.idAttribute || 'id'];\n    },\n    // Get an iterator of all models in this collection.\n    values: function () {\n      return new CollectionIterator(this, ITERATOR_VALUES);\n    },\n    // Get an iterator of all model IDs in this collection.\n    keys: function () {\n      return new CollectionIterator(this, ITERATOR_KEYS);\n    },\n    // Get an iterator of all [ID, model] tuples in this collection.\n    entries: function () {\n      return new CollectionIterator(this, ITERATOR_KEYSVALUES);\n    },\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n    _reset: function () {\n      this.length = 0;\n      this.models = [];\n      this._byId = {};\n    },\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n    _prepareModel: function (attrs, options) {\n      if (this._isModel(attrs)) {\n        if (!attrs.collection) attrs.collection = this;\n        return attrs;\n      }\n\n      options = options ? _.clone(options) : {};\n      options.collection = this;\n      var model = new this.model(attrs, options);\n      if (!model.validationError) return model;\n      this.trigger('invalid', this, model.validationError, options);\n      return false;\n    },\n    // Internal method called by both remove and set.\n    _removeModels: function (models, options) {\n      var removed = [];\n\n      for (var i = 0; i < models.length; i++) {\n        var model = this.get(models[i]);\n        if (!model) continue;\n        var index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--; // Remove references before triggering 'remove' event to prevent an\n        // infinite loop. #3693\n\n        delete this._byId[model.cid];\n        var id = this.modelId(model.attributes);\n        if (id != null) delete this._byId[id];\n\n        if (!options.silent) {\n          options.index = index;\n          model.trigger('remove', model, this, options);\n        }\n\n        removed.push(model);\n\n        this._removeReference(model, options);\n      }\n\n      return removed;\n    },\n    // Method for checking whether an object should be considered a model for\n    // the purposes of adding to the collection.\n    _isModel: function (model) {\n      return model instanceof Model;\n    },\n    // Internal method to create a model's ties to a collection.\n    _addReference: function (model, options) {\n      this._byId[model.cid] = model;\n      var id = this.modelId(model.attributes);\n      if (id != null) this._byId[id] = model;\n      model.on('all', this._onModelEvent, this);\n    },\n    // Internal method to sever a model's ties to a collection.\n    _removeReference: function (model, options) {\n      delete this._byId[model.cid];\n      var id = this.modelId(model.attributes);\n      if (id != null) delete this._byId[id];\n      if (this === model.collection) delete model.collection;\n      model.off('all', this._onModelEvent, this);\n    },\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function (event, model, collection, options) {\n      if (model) {\n        if ((event === 'add' || event === 'remove') && collection !== this) return;\n        if (event === 'destroy') this.remove(model, options);\n\n        if (event === 'change') {\n          var prevId = this.modelId(model.previousAttributes());\n          var id = this.modelId(model.attributes);\n\n          if (prevId !== id) {\n            if (prevId != null) delete this._byId[prevId];\n            if (id != null) this._byId[id] = model;\n          }\n        }\n      }\n\n      this.trigger.apply(this, arguments);\n    }\n  }); // Defining an @@iterator method implements JavaScript's Iterable protocol.\n  // In modern ES2015 browsers, this value is found at Symbol.iterator.\n\n  /* global Symbol */\n\n\n  var $$iterator = typeof Symbol === 'function' && Symbol.iterator;\n\n  if ($$iterator) {\n    Collection.prototype[$$iterator] = Collection.prototype.values;\n  } // CollectionIterator\n  // ------------------\n  // A CollectionIterator implements JavaScript's Iterator protocol, allowing the\n  // use of `for of` loops in modern browsers and interoperation between\n  // Backbone.Collection and other JavaScript functions and third-party libraries\n  // which can operate on Iterables.\n\n\n  var CollectionIterator = function (collection, kind) {\n    this._collection = collection;\n    this._kind = kind;\n    this._index = 0;\n  }; // This \"enum\" defines the three possible kinds of values which can be emitted\n  // by a CollectionIterator that correspond to the values(), keys() and entries()\n  // methods on Collection, respectively.\n\n\n  var ITERATOR_VALUES = 1;\n  var ITERATOR_KEYS = 2;\n  var ITERATOR_KEYSVALUES = 3; // All Iterators should themselves be Iterable.\n\n  if ($$iterator) {\n    CollectionIterator.prototype[$$iterator] = function () {\n      return this;\n    };\n  }\n\n  CollectionIterator.prototype.next = function () {\n    if (this._collection) {\n      // Only continue iterating if the iterated collection is long enough.\n      if (this._index < this._collection.length) {\n        var model = this._collection.at(this._index);\n\n        this._index++; // Construct a value depending on what kind of values should be iterated.\n\n        var value;\n\n        if (this._kind === ITERATOR_VALUES) {\n          value = model;\n        } else {\n          var id = this._collection.modelId(model.attributes);\n\n          if (this._kind === ITERATOR_KEYS) {\n            value = id;\n          } else {\n            // ITERATOR_KEYSVALUES\n            value = [id, model];\n          }\n        }\n\n        return {\n          value: value,\n          done: false\n        };\n      } // Once exhausted, remove the reference to the collection so future\n      // calls to the next method always return done.\n\n\n      this._collection = void 0;\n    }\n\n    return {\n      value: void 0,\n      done: true\n    };\n  }; // Backbone.View\n  // -------------\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n\n\n  var View = Backbone.View = function (options) {\n    this.cid = _.uniqueId('view');\n    this.preinitialize.apply(this, arguments);\n\n    _.extend(this, _.pick(options, viewOptions));\n\n    this._ensureElement();\n\n    this.initialize.apply(this, arguments);\n  }; // Cached regex to split keys for `delegate`.\n\n\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/; // List of view options to be set as properties.\n\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events']; // Set up all inheritable **Backbone.View** properties and methods.\n\n  _.extend(View.prototype, Events, {\n    // The default `tagName` of a View's element is `\"div\"`.\n    tagName: 'div',\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be preferred to global lookups where possible.\n    $: function (selector) {\n      return this.$el.find(selector);\n    },\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the View\n    preinitialize: function () {},\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function () {},\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function () {\n      return this;\n    },\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n    remove: function () {\n      this._removeElement();\n\n      this.stopListening();\n      return this;\n    },\n    // Remove this view's element from the document and all event listeners\n    // attached to it. Exposed for subclasses using an alternative DOM\n    // manipulation API.\n    _removeElement: function () {\n      this.$el.remove();\n    },\n    // Change the view's element (`this.el` property) and re-delegate the\n    // view's events on the new element.\n    setElement: function (element) {\n      this.undelegateEvents();\n\n      this._setElement(element);\n\n      this.delegateEvents();\n      return this;\n    },\n    // Creates the `this.el` and `this.$el` references for this view using the\n    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n    // context or an element. Subclasses can override this to utilize an\n    // alternative DOM manipulation API and are only required to set the\n    // `this.el` property.\n    _setElement: function (el) {\n      this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n      this.el = this.$el[0];\n    },\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save',\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    delegateEvents: function (events) {\n      events || (events = _.result(this, 'events'));\n      if (!events) return this;\n      this.undelegateEvents();\n\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[method];\n        if (!method) continue;\n        var match = key.match(delegateEventSplitter);\n        this.delegate(match[1], match[2], method.bind(this));\n      }\n\n      return this;\n    },\n    // Add a single event listener to the view's element (or a child element\n    // using `selector`). This only works for delegate-able events: not `focus`,\n    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n    delegate: function (eventName, selector, listener) {\n      this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n    // Clears all callbacks previously bound to the view by `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function () {\n      if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    },\n    // A finer-grained `undelegateEvents` for removing a single delegated event.\n    // `selector` and `listener` are both optional.\n    undelegate: function (eventName, selector, listener) {\n      this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n    // Produces a DOM element to be assigned to your view. Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _createElement: function (tagName) {\n      return document.createElement(tagName);\n    },\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function () {\n      if (!this.el) {\n        var attrs = _.extend({}, _.result(this, 'attributes'));\n\n        if (this.id) attrs.id = _.result(this, 'id');\n        if (this.className) attrs['class'] = _.result(this, 'className');\n        this.setElement(this._createElement(_.result(this, 'tagName')));\n\n        this._setAttributes(attrs);\n      } else {\n        this.setElement(_.result(this, 'el'));\n      }\n    },\n    // Set attributes from a hash on this view's element.  Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _setAttributes: function (attributes) {\n      this.$el.attr(attributes);\n    }\n  }); // Proxy Backbone class methods to Underscore functions, wrapping the model's\n  // `attributes` object or collection's `models` array behind the scenes.\n  //\n  // collection.filter(function(model) { return model.get('age') > 10 });\n  // collection.each(this.addView);\n  //\n  // `Function#apply` can be slow so we use the method's arg count, if we know it.\n\n\n  var addMethod = function (base, length, method, attribute) {\n    switch (length) {\n      case 1:\n        return function () {\n          return base[method](this[attribute]);\n        };\n\n      case 2:\n        return function (value) {\n          return base[method](this[attribute], value);\n        };\n\n      case 3:\n        return function (iteratee, context) {\n          return base[method](this[attribute], cb(iteratee, this), context);\n        };\n\n      case 4:\n        return function (iteratee, defaultVal, context) {\n          return base[method](this[attribute], cb(iteratee, this), defaultVal, context);\n        };\n\n      default:\n        return function () {\n          var args = slice.call(arguments);\n          args.unshift(this[attribute]);\n          return base[method].apply(base, args);\n        };\n    }\n  };\n\n  var addUnderscoreMethods = function (Class, base, methods, attribute) {\n    _.each(methods, function (length, method) {\n      if (base[method]) Class.prototype[method] = addMethod(base, length, method, attribute);\n    });\n  }; // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\n\n\n  var cb = function (iteratee, instance) {\n    if (_.isFunction(iteratee)) return iteratee;\n    if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\n    if (_.isString(iteratee)) return function (model) {\n      return model.get(iteratee);\n    };\n    return iteratee;\n  };\n\n  var modelMatcher = function (attrs) {\n    var matcher = _.matches(attrs);\n\n    return function (model) {\n      return matcher(model.attributes);\n    };\n  }; // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n\n\n  var collectionMethods = {\n    forEach: 3,\n    each: 3,\n    map: 3,\n    collect: 3,\n    reduce: 0,\n    foldl: 0,\n    inject: 0,\n    reduceRight: 0,\n    foldr: 0,\n    find: 3,\n    detect: 3,\n    filter: 3,\n    select: 3,\n    reject: 3,\n    every: 3,\n    all: 3,\n    some: 3,\n    any: 3,\n    include: 3,\n    includes: 3,\n    contains: 3,\n    invoke: 0,\n    max: 3,\n    min: 3,\n    toArray: 1,\n    size: 1,\n    first: 3,\n    head: 3,\n    take: 3,\n    initial: 3,\n    rest: 3,\n    tail: 3,\n    drop: 3,\n    last: 3,\n    without: 0,\n    difference: 0,\n    indexOf: 3,\n    shuffle: 1,\n    lastIndexOf: 3,\n    isEmpty: 1,\n    chain: 1,\n    sample: 3,\n    partition: 3,\n    groupBy: 3,\n    countBy: 3,\n    sortBy: 3,\n    indexBy: 3,\n    findIndex: 3,\n    findLastIndex: 3\n  }; // Underscore methods that we want to implement on the Model, mapped to the\n  // number of arguments they take.\n\n  var modelMethods = {\n    keys: 1,\n    values: 1,\n    pairs: 1,\n    invert: 1,\n    pick: 0,\n    omit: 0,\n    chain: 1,\n    isEmpty: 1\n  }; // Mix in each Underscore method as a proxy to `Collection#models`.\n\n  _.each([[Collection, collectionMethods, 'models'], [Model, modelMethods, 'attributes']], function (config) {\n    var Base = config[0],\n        methods = config[1],\n        attribute = config[2];\n\n    Base.mixin = function (obj) {\n      var mappings = _.reduce(_.functions(obj), function (memo, name) {\n        memo[name] = 0;\n        return memo;\n      }, {});\n\n      addUnderscoreMethods(Base, obj, mappings, attribute);\n    };\n\n    addUnderscoreMethods(Base, _, methods, attribute);\n  }); // Backbone.sync\n  // -------------\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n\n\n  Backbone.sync = function (method, model, options) {\n    var type = methodMap[method]; // Default options, unless specified.\n\n    _.defaults(options || (options = {}), {\n      emulateHTTP: Backbone.emulateHTTP,\n      emulateJSON: Backbone.emulateJSON\n    }); // Default JSON-request options.\n\n\n    var params = {\n      type: type,\n      dataType: 'json'\n    }; // Ensure that we have a URL.\n\n    if (!options.url) {\n      params.url = _.result(model, 'url') || urlError();\n    } // Ensure that we have the appropriate request data.\n\n\n    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n      params.contentType = 'application/json';\n      params.data = JSON.stringify(options.attrs || model.toJSON(options));\n    } // For older servers, emulate JSON by encoding the request into an HTML-form.\n\n\n    if (options.emulateJSON) {\n      params.contentType = 'application/x-www-form-urlencoded';\n      params.data = params.data ? {\n        model: params.data\n      } : {};\n    } // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n\n\n    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n      params.type = 'POST';\n      if (options.emulateJSON) params.data._method = type;\n      var beforeSend = options.beforeSend;\n\n      options.beforeSend = function (xhr) {\n        xhr.setRequestHeader('X-HTTP-Method-Override', type);\n        if (beforeSend) return beforeSend.apply(this, arguments);\n      };\n    } // Don't process data on a non-GET request.\n\n\n    if (params.type !== 'GET' && !options.emulateJSON) {\n      params.processData = false;\n    } // Pass along `textStatus` and `errorThrown` from jQuery.\n\n\n    var error = options.error;\n\n    options.error = function (xhr, textStatus, errorThrown) {\n      options.textStatus = textStatus;\n      options.errorThrown = errorThrown;\n      if (error) error.call(options.context, xhr, textStatus, errorThrown);\n    }; // Make the request, allowing the user to override any Ajax options.\n\n\n    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n    model.trigger('request', model, xhr, options);\n    return xhr;\n  }; // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n\n\n  var methodMap = {\n    create: 'POST',\n    update: 'PUT',\n    patch: 'PATCH',\n    delete: 'DELETE',\n    read: 'GET'\n  }; // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you'd like to use a different library.\n\n  Backbone.ajax = function () {\n    return Backbone.$.ajax.apply(Backbone.$, arguments);\n  }; // Backbone.Router\n  // ---------------\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n\n\n  var Router = Backbone.Router = function (options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.routes) this.routes = options.routes;\n\n    this._bindRoutes();\n\n    this.initialize.apply(this, arguments);\n  }; // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n\n\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam = /(\\(\\?)?:\\w+/g;\n  var splatParam = /\\*\\w+/g;\n  var escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g; // Set up all inheritable **Backbone.Router** properties and methods.\n\n  _.extend(Router.prototype, Events, {\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Router.\n    preinitialize: function () {},\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function () {},\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route('search/:query/p:num', 'search', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function (route, name, callback) {\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n\n      if (_.isFunction(name)) {\n        callback = name;\n        name = '';\n      }\n\n      if (!callback) callback = this[name];\n      var router = this;\n      Backbone.history.route(route, function (fragment) {\n        var args = router._extractParameters(route, fragment);\n\n        if (router.execute(callback, args, name) !== false) {\n          router.trigger.apply(router, ['route:' + name].concat(args));\n          router.trigger('route', name, args);\n          Backbone.history.trigger('route', router, name, args);\n        }\n      });\n      return this;\n    },\n    // Execute a route handler with the provided parameters.  This is an\n    // excellent place to do pre-route setup or post-route cleanup.\n    execute: function (callback, args, name) {\n      if (callback) callback.apply(this, args);\n    },\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function (fragment, options) {\n      Backbone.history.navigate(fragment, options);\n      return this;\n    },\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function () {\n      if (!this.routes) return;\n      this.routes = _.result(this, 'routes');\n\n      var route,\n          routes = _.keys(this.routes);\n\n      while ((route = routes.pop()) != null) {\n        this.route(route, this.routes[route]);\n      }\n    },\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function (route) {\n      route = route.replace(escapeRegExp, '\\\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function (match, optional) {\n        return optional ? match : '([^/?]+)';\n      }).replace(splatParam, '([^?]*?)');\n      return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n    },\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted decoded parameters. Empty or unmatched parameters will be\n    // treated as `null` to normalize cross-browser behavior.\n    _extractParameters: function (route, fragment) {\n      var params = route.exec(fragment).slice(1);\n      return _.map(params, function (param, i) {\n        // Don't decode the search params.\n        if (i === params.length - 1) return param || null;\n        return param ? decodeURIComponent(param) : null;\n      });\n    }\n  }); // Backbone.History\n  // ----------------\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n\n\n  var History = Backbone.History = function () {\n    this.handlers = [];\n    this.checkUrl = this.checkUrl.bind(this); // Ensure that `History` can be used outside of the browser.\n\n    if (typeof window !== 'undefined') {\n      this.location = window.location;\n      this.history = window.history;\n    }\n  }; // Cached regex for stripping a leading hash/slash and trailing space.\n\n\n  var routeStripper = /^[#\\/]|\\s+$/g; // Cached regex for stripping leading and trailing slashes.\n\n  var rootStripper = /^\\/+|\\/+$/g; // Cached regex for stripping urls of hash.\n\n  var pathStripper = /#.*$/; // Has the history handling already been started?\n\n  History.started = false; // Set up all inheritable **Backbone.History** properties and methods.\n\n  _.extend(History.prototype, Events, {\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n    // Are we at the app root?\n    atRoot: function () {\n      var path = this.location.pathname.replace(/[^\\/]$/, '$&/');\n      return path === this.root && !this.getSearch();\n    },\n    // Does the pathname match the root?\n    matchRoot: function () {\n      var path = this.decodeFragment(this.location.pathname);\n      var rootPath = path.slice(0, this.root.length - 1) + '/';\n      return rootPath === this.root;\n    },\n    // Unicode characters in `location.pathname` are percent encoded so they're\n    // decoded for comparison. `%25` should not be decoded since it may be part\n    // of an encoded parameter.\n    decodeFragment: function (fragment) {\n      return decodeURI(fragment.replace(/%25/g, '%2525'));\n    },\n    // In IE6, the hash fragment and search params are incorrect if the\n    // fragment contains `?`.\n    getSearch: function () {\n      var match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\n      return match ? match[0] : '';\n    },\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function (window) {\n      var match = (window || this).location.href.match(/#(.*)$/);\n      return match ? match[1] : '';\n    },\n    // Get the pathname and search params, without the root.\n    getPath: function () {\n      var path = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);\n      return path.charAt(0) === '/' ? path.slice(1) : path;\n    },\n    // Get the cross-browser normalized URL fragment from the path or hash.\n    getFragment: function (fragment) {\n      if (fragment == null) {\n        if (this._usePushState || !this._wantsHashChange) {\n          fragment = this.getPath();\n        } else {\n          fragment = this.getHash();\n        }\n      }\n\n      return fragment.replace(routeStripper, '');\n    },\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function (options) {\n      if (History.started) throw new Error('Backbone.history has already been started');\n      History.started = true; // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n\n      this.options = _.extend({\n        root: '/'\n      }, this.options, options);\n      this.root = this.options.root;\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._hasHashChange = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\n      this._useHashChange = this._wantsHashChange && this._hasHashChange;\n      this._wantsPushState = !!this.options.pushState;\n      this._hasPushState = !!(this.history && this.history.pushState);\n      this._usePushState = this._wantsPushState && this._hasPushState;\n      this.fragment = this.getFragment(); // Normalize root to always include a leading and trailing slash.\n\n      this.root = ('/' + this.root + '/').replace(rootStripper, '/'); // Transition from hashChange to pushState or vice versa if both are\n      // requested.\n\n      if (this._wantsHashChange && this._wantsPushState) {\n        // If we've started off with a route from a `pushState`-enabled\n        // browser, but we're currently in a browser that doesn't support it...\n        if (!this._hasPushState && !this.atRoot()) {\n          var rootPath = this.root.slice(0, -1) || '/';\n          this.location.replace(rootPath + '#' + this.getPath()); // Return immediately as browser will do redirect to new url\n\n          return true; // Or if we've started out with a hash-based route, but we're currently\n          // in a browser where it could be `pushState`-based instead...\n        } else if (this._hasPushState && this.atRoot()) {\n          this.navigate(this.getHash(), {\n            replace: true\n          });\n        }\n      } // Proxy an iframe to handle location events if the browser doesn't\n      // support the `hashchange` event, HTML5 history, or the user wants\n      // `hashChange` but not `pushState`.\n\n\n      if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\n        this.iframe = document.createElement('iframe');\n        this.iframe.src = 'javascript:0';\n        this.iframe.style.display = 'none';\n        this.iframe.tabIndex = -1;\n        var body = document.body; // Using `appendChild` will throw on IE < 9 if the document is not ready.\n\n        var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\n        iWindow.document.open();\n        iWindow.document.close();\n        iWindow.location.hash = '#' + this.fragment;\n      } // Add a cross-platform `addEventListener` shim for older browsers.\n\n\n      var addEventListener = window.addEventListener || function (eventName, listener) {\n        return attachEvent('on' + eventName, listener);\n      }; // Depending on whether we're using pushState or hashes, and whether\n      // 'onhashchange' is supported, determine how we check the URL state.\n\n\n      if (this._usePushState) {\n        addEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        addEventListener('hashchange', this.checkUrl, false);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      if (!this.options.silent) return this.loadUrl();\n    },\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function () {\n      // Add a cross-platform `removeEventListener` shim for older browsers.\n      var removeEventListener = window.removeEventListener || function (eventName, listener) {\n        return detachEvent('on' + eventName, listener);\n      }; // Remove window listeners.\n\n\n      if (this._usePushState) {\n        removeEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        removeEventListener('hashchange', this.checkUrl, false);\n      } // Clean up the iframe if necessary.\n\n\n      if (this.iframe) {\n        document.body.removeChild(this.iframe);\n        this.iframe = null;\n      } // Some environments will throw when clearing an undefined interval.\n\n\n      if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function (route, callback) {\n      this.handlers.unshift({\n        route: route,\n        callback: callback\n      });\n    },\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function (e) {\n      var current = this.getFragment(); // If the user pressed the back button, the iframe's hash will have\n      // changed and we should use that for comparison.\n\n      if (current === this.fragment && this.iframe) {\n        current = this.getHash(this.iframe.contentWindow);\n      }\n\n      if (current === this.fragment) return false;\n      if (this.iframe) this.navigate(current);\n      this.loadUrl();\n    },\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function (fragment) {\n      // If the root doesn't match, no routes can match either.\n      if (!this.matchRoot()) return false;\n      fragment = this.fragment = this.getFragment(fragment);\n      return _.some(this.handlers, function (handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      });\n    },\n    // Save a fragment into the hash history, or replace the URL state if the\n    // 'replace' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function (fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {\n        trigger: !!options\n      }; // Normalize the fragment.\n\n      fragment = this.getFragment(fragment || ''); // Don't include a trailing slash on the root.\n\n      var rootPath = this.root;\n\n      if (fragment === '' || fragment.charAt(0) === '?') {\n        rootPath = rootPath.slice(0, -1) || '/';\n      }\n\n      var url = rootPath + fragment; // Strip the fragment of the query and hash for matching.\n\n      fragment = fragment.replace(pathStripper, ''); // Decode for matching.\n\n      var decodedFragment = this.decodeFragment(fragment);\n      if (this.fragment === decodedFragment) return;\n      this.fragment = decodedFragment; // If pushState is available, we use it to set the fragment as a real URL.\n\n      if (this._usePushState) {\n        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url); // If hash changes haven't been explicitly disabled, update the hash\n        // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this._updateHash(this.location, fragment, options.replace);\n\n        if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {\n          var iWindow = this.iframe.contentWindow; // Opening and closing the iframe tricks IE7 and earlier to push a\n          // history entry on hash-tag change.  When replace is true, we don't\n          // want this.\n\n          if (!options.replace) {\n            iWindow.document.open();\n            iWindow.document.close();\n          }\n\n          this._updateHash(iWindow.location, fragment, options.replace);\n        } // If you've told us that you explicitly don't want fallback hashchange-\n        // based history, then `navigate` becomes a page refresh.\n\n      } else {\n        return this.location.assign(url);\n      }\n\n      if (options.trigger) return this.loadUrl(fragment);\n    },\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function (location, fragment, replace) {\n      if (replace) {\n        var href = location.href.replace(/(javascript:|#).*$/, '');\n        location.replace(href + '#' + fragment);\n      } else {\n        // Some browsers require that `hash` contains a leading #.\n        location.hash = '#' + fragment;\n      }\n    }\n  }); // Create the default Backbone.history.\n\n\n  Backbone.history = new History(); // Helpers\n  // -------\n  // Helper function to correctly set up the prototype chain for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n\n  var extend = function (protoProps, staticProps) {\n    var parent = this;\n    var child; // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent constructor.\n\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function () {\n        return parent.apply(this, arguments);\n      };\n    } // Add static properties to the constructor function, if supplied.\n\n\n    _.extend(child, parent, staticProps); // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function and add the prototype properties.\n\n\n    child.prototype = _.create(parent.prototype, protoProps);\n    child.prototype.constructor = child; // Set a convenience property in case the parent's prototype is needed\n    // later.\n\n    child.__super__ = parent.prototype;\n    return child;\n  }; // Set up inheritance for the model, collection, router, view and history.\n\n\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend; // Throw an error when a URL is needed, and none is supplied.\n\n  var urlError = function () {\n    throw new Error('A \"url\" property or function must be specified');\n  }; // Wrap an optional error callback with a fallback error event.\n\n\n  var wrapError = function (model, options) {\n    var error = options.error;\n\n    options.error = function (resp) {\n      if (error) error.call(options.context, model, resp, options);\n      model.trigger('error', model, resp, options);\n    };\n  };\n\n  return Backbone;\n});\n}(backbone, backbone.exports));\n\nvar Backbone = backbone.exports;\n\nexport { Backbone as default };\n"],"names":["module","exports","jQuery","jquery1_12_4","factory","root","self","commonjsGlobal","global","_","underscoreMin","$","e","Backbone","previousBackbone","slice","Array","prototype","VERSION","noConflict","emulateHTTP","emulateJSON","Events","eventSplitter","_listening","eventsApi","iteratee","events","name","callback","opts","i","names","context","keys","length","test","split","on","_events","onApi","ctx","listening","listeners","_listeners","id","interop","listenTo","obj","_listenId","uniqueId","listeningTo","_listeningTo","Listening","error","tryCatchOn","options","handlers","count","push","off","offApi","stopListening","ids","isEmpty","cleanup","remaining","j","handler","_callback","once","onceMap","bind","listenToOnce","map","offer","apply","arguments","trigger","Math","max","args","triggerApi","objEvents","allEvents","all","triggerEvents","concat","ev","l","a1","a2","a3","call","listener","unbind","extend","Model","attributes","attrs","preinitialize","cid","cidPrefix","collection","parse","defaults","result","set","changed","initialize","validationError","idAttribute","toJSON","clone","sync","get","attr","escape","has","matches","key","val","_validate","unset","silent","changes","changing","_changing","_previousAttributes","current","prev","isEqual","_pending","clear","hasChanged","changedAttributes","diff","old","previous","previousAttributes","fetch","model","success","resp","serverAttrs","wrapError","save","validate","wait","method","isNew","patch","xhr","destroy","defer","url","base","urlError","replace","encodeURIComponent","constructor","isValid","Collection","models","comparator","_reset","reset","setOptions","add","remove","merge","addOptions","splice","array","insert","at","min","tail","singular","isArray","removed","_removeModels","added","merged","_isModel","toAdd","toMerge","toRemove","modelMap","sort","sortable","sortAttr","isString","existing","_prepareModel","_addReference","orderChanged","some","m","index","_removeReference","previousModels","pop","unshift","shift","_byId","modelId","where","first","findWhere","Error","isFunction","sortBy","pluck","create","callbackOpts","values","CollectionIterator","ITERATOR_VALUES","ITERATOR_KEYS","entries","ITERATOR_KEYSVALUES","indexOf","_onModelEvent","event","prevId","$$iterator","Symbol","iterator","kind","_collection","_kind","_index","next","value","done","View","pick","viewOptions","_ensureElement","delegateEventSplitter","tagName","selector","$el","find","render","_removeElement","setElement","element","undelegateEvents","_setElement","delegateEvents","el","match","delegate","eventName","undelegate","_createElement","document","createElement","className","_setAttributes","addMethod","attribute","cb","defaultVal","addUnderscoreMethods","Class","methods","each","instance","isObject","modelMatcher","matcher","collectionMethods","forEach","collect","reduce","foldl","inject","reduceRight","foldr","detect","filter","select","reject","every","any","include","includes","contains","invoke","toArray","size","head","take","initial","rest","drop","last","without","difference","shuffle","lastIndexOf","chain","sample","partition","groupBy","countBy","indexBy","findIndex","findLastIndex","modelMethods","pairs","invert","omit","config","Base","mixin","mappings","functions","memo","type","methodMap","params","dataType","data","contentType","JSON","stringify","_method","beforeSend","setRequestHeader","processData","textStatus","errorThrown","ajax","update","delete","read","Router","routes","_bindRoutes","optionalParam","namedParam","splatParam","escapeRegExp","route","isRegExp","_routeToRegExp","router","history","fragment","_extractParameters","execute","navigate","optional","RegExp","exec","param","decodeURIComponent","History","checkUrl","window","location","routeStripper","rootStripper","pathStripper","started","interval","atRoot","path","pathname","getSearch","matchRoot","decodeFragment","rootPath","decodeURI","href","getHash","getPath","charAt","getFragment","_usePushState","_wantsHashChange","start","hashChange","_hasHashChange","documentMode","_useHashChange","_wantsPushState","pushState","_hasPushState","iframe","src","style","display","tabIndex","body","iWindow","insertBefore","firstChild","contentWindow","open","close","hash","addEventListener","attachEvent","_checkUrlInterval","setInterval","loadUrl","stop","removeEventListener","detachEvent","removeChild","clearInterval","decodedFragment","title","_updateHash","assign","protoProps","staticProps","parent","child","__super__","backbone"],"mappings":"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"}
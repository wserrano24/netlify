{"version":3,"file":"View.js","sources":["../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js"],"sourcesContent":["import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Backbone from '../vendor/lib/backbone.js';\n\nvar CHILDREN = '__children__';\nvar RENDERED = '__rendered__';\nvar PARENT = '__parent__';\nvar CHILD_DEFINITIONS = '__children_definitions__';\nvar ADD_TO_CONTAINER = '__add_to_container__';\n\nfunction getIndex(container, view) {\n  for (var i = 0; i < container[CHILDREN].length; i++) {\n    if (view.cid === container[CHILDREN][i].cid) {\n      return i;\n    }\n  }\n}\n\nfunction noop() {}\n\nfunction doRender(view) {\n  view[RENDERED] = true;\n  var html = view.renderTemplate(view.template);\n\n  if (html) {\n    view.$el.html(html);\n  } else if (view.length) {\n    view.$el.empty();\n  }\n\n  view.each(function (view) {\n    view[ADD_TO_CONTAINER]();\n  });\n}\n\nfunction subscribeEvents(view) {\n  var isEventPropertyRe = /^(?!(?:delegate|undelegate|_))([a-zA-Z0-9]+)(?:Events)$/;\n\n  oktaUnderscore.each(oktaUnderscore.allKeys(view), function (key) {\n    var matchKeys = key.match(isEventPropertyRe);\n\n    if (!matchKeys) {\n      return;\n    }\n\n    var bindings = oktaUnderscore.result(view, key);\n\n    var entity = view.options[matchKeys[1]] || view[matchKeys[1]];\n\n    if (!entity || !oktaUnderscore.isObject(bindings) || !oktaUnderscore.isFunction(entity.trigger)) {\n      return;\n    }\n\n    oktaUnderscore.each(bindings, function (callback, event) {\n      var callbacks = oktaUnderscore.isFunction(callback) ? [callback] : oktaUnderscore.reduce(callback.split(/\\s+/), (arr, name) => {\n        if (oktaUnderscore.isFunction(view[name])) {\n          arr.push(view[name]);\n        }\n\n        return arr;\n      }, []);\n\n      oktaUnderscore.each(callbacks, function (cb) {\n        view.listenTo(entity, event, cb);\n      });\n    });\n  });\n}\n/**\n   * A View operates on a string template, an token based template, or a model based template, with a few added hooks.\n   * It provides a collection of child views, when a child view could be a View or another View.\n   * Conceptually, if we were in a file system, the View is a folder, when the concrete child views are files,\n   * and the child Views are sub folders.\n   *\n   * *Technically, when using a View as a container, it could have its own concrete logic,\n   * but conceptually we like to keep it separated so a view is either a concrete view or a collection of child views.*\n   *\n   * In addition to the standard backbone options, we added `settings` and `state` as first class options.\n   * it will automatically assign `options` to `this.options` as an instance member.\n   *\n   * See [Backbone.View](http://backbonejs.org/#View).\n   *\n   * @class src/framework/View\n   * @extends external:Backbone.View\n   * @param {Object} [options] options hash\n   * @example\n   * var DocumentView = Archer.View.extend({\n   *   template: [\n   *     '<header></header>',\n   *     '<article></article>',\n   *     '<footer></footer>'\n   *   ].join(''),\n   *   children: [[HeaderView, 'header'], [ContentView, 'article'], [FooterView, 'footer']]\n   * });\n   */\n\n\nlet View;\nconst proto = {\n  /**\n     * An object listing events and callback bind to this.{entity}\n     * @name *Events\n     * @memberof src/framework/View\n     * @type {(Object|Function)}\n     * @instance\n     * @example\n     * var FooView = View.extend({\n     *   modelEvents: {\n     *     'change:name': 'render'\n     *   }\n     * })\n     * //equivalent to ==>\n     * var FooView = View.extend({\n     *   initialize: function() {\n     *     this.listenTo(this.model, 'change:name', this.render);\n     *   }\n     * });\n     *\n     *\n     * //Multiple callbacks:\n     * var FooView = View.extend({\n     *   modelEvents: {\n     *     'change:name': 'render foo'\n     *   },\n     *   foo: function() {}\n     * });\n     *\n     * //Callbacks As Function:\n     * var FooView = View.extend({\n     *   stateEvents: {\n     *     'change': function() {\n     *   }\n     * });\n     *\n     * //Event Configuration As Function\n     * var FooView = View.extend({\n     *   collectionEvents: function() {\n     *     var events = { 'change:name deleteItem': 'render' };\n     *     events['changeItem'] = 'spin';\n     *     events['addItem'] = function() {};\n     *     return events;\n     *   }\n     * });\n     */\n  preinitialize: function (options) {\n    /* eslint max-statements: [2, 17] */\n    this.options = options || {};\n\n    oktaUnderscore.extend(this, oktaUnderscore.pick(this.options, 'state', 'settings')); // init per-instance children collection\n\n\n    this[CHILDREN] = [];\n    this[RENDERED] = false;\n    this[PARENT] = null;\n    this[CHILD_DEFINITIONS] = this.children; // we want to make sure initialize is triggered *after* we append the views from the `this.views` array\n    // FIXME:\n    // It's actually can be done by override initialize method\n    //  initialize() { run extra login; super.initialize(); }\n    // BUT the problem is child classes would override initialize without invoke super.\n    // hence we have to also looking into (refactoring) ALL child classes.\n\n    this.__original_initialize__ = this.initialize;\n    this.initialize = noop;\n  },\n  constructor: function (options, ...rest) {\n    Backbone.View.call(this, options);\n\n    oktaUnderscore.each(oktaUnderscore.result(this, CHILD_DEFINITIONS), function (childDefinition) {\n      this.add.apply(this, oktaUnderscore.isArray(childDefinition) ? childDefinition : [childDefinition]);\n    }, this);\n\n    delete this[CHILD_DEFINITIONS];\n\n    const autoRender = oktaUnderscore.result(this, 'autoRender');\n\n    if (autoRender && this.model) {\n      var event = oktaUnderscore.isArray(autoRender) ? oktaUnderscore.map(autoRender, function (field) {\n        return 'change:' + field;\n      }).join(' ') : 'change';\n      this.listenTo(this.model, event, function () {\n        this.render();\n      });\n    }\n\n    this.initialize = this.__original_initialize__;\n    this.initialize.call(this, options, ...rest); // initialize in child class may have any number of parameters\n\n    subscribeEvents(this);\n  },\n\n  /**\n     * Unregister view from container\n     * Note: this will not remove the view from the dom\n     * and will not call the `remove` method on the view\n     *\n     * @param {src/framework/View} view the view to unregister\n     * @private\n     */\n  unregister: function (view) {\n    this.stopListening(view);\n    var viewIndex = getIndex(this, view); // viewIndex is undefined when the view is not found (may have been removed)\n    // check if it is undefined to prevent unexpected thing to happen\n    // array.splice(undefined, x) removes the first x element(s) from the array\n    // this protects us against issues when calling `remove` on a child view multiple times\n\n    if (oktaUnderscore.isNumber(viewIndex)) {\n      this[CHILDREN].splice(viewIndex, 1);\n    }\n  },\n\n  /**\n     * Should we auto render the view upon model change. Boolean or array of field names to listen to.\n     * @type {Boolean|Array}\n     * @deprecated Instead, please use modelEvents\n     * @example\n     * modelEvents: {\n     *   change:name: 'render'\n     * }\n     */\n  autoRender: false,\n\n  /**\n     *\n     * When the template is an underscore template, the render method will pass the options has to the template\n     * And the associated model, if exists, when it will prefer the model over the options in case of a conflict.\n     * {@link #render View.render}\n     * @type {(String|Function)}\n     * @example\n     * var View = View.extend({\n     *   template: '<p class=\"name\">{{name}}</p>'\n     * };\n     */\n  template: null,\n\n  /**\n     * A list of child view definitions to be passed to {@link #add this.add()}.\n     * Note: these definitions will be added **before** the {@link #constructor initiliaze} method invokes.\n     * @type {(Array|Function)}\n     * @example\n     * var Container = View.extend({\n     *    template: '<p class=\"content\"></p>',\n     *    children: [\n     *      [ContentView, '.content'],\n     *      [OtherContentView, '.content'],\n     *      OtherView\n     *    ]\n     *  })\n     *\n     * var Container = View.extend({\n     *    template: '<dov class=\"form-wrap\"></div>',\n     *    children: function () {\n     *      return [\n     *        [FormView, '.form-wrap', {options: {model: this.optiosn.otherModel}}]\n     *      ]\n     *    }\n     *  })\n     */\n  children: [],\n\n  /**\n     * Add a child view to the container.\n     * If the container is already rendered, will also render the view  and append it to the DOM.\n     * Otherwise will render and append once the container is rendered.\n     *\n     * *We believe that for the sake of encapsulation, a view should control its own chilren, so we treat this method as\n     * protected and even though technically you can call `view.add` externally we strongly discourage it.*\n     *\n     * @param {(src/framework/View|String)} view A class (or an instance which is discouraged) of a View - or an HTML\n     * string/template\n     * @param {String} [selector] selector in the view's template on which the view will be added to\n     * @param {Object} [options]\n     * @param {Boolean} [options.bubble=false] Bubble (proxy) events from this view up the chain\n     * @param {Boolean} [options.prepend=false] Prepend the view instend of appending\n     * @param {String} [options.selector] Selector in the view's template on which the view will be added to\n     * @param {Object} [options.options] Extra options to pass to the child constructor\n     * @protected\n     * @returns {src/framework/View} - The instance of itself for the sake of chaining\n     * @example\n     * var Container = View.extend({\n     *\n     *   template: [\n     *     '<h1></h1>',\n     *     '<section></section>',\n     *   ].join(''),\n     *\n     *   initalize: function () {\n     *\n     *     this.add(TitleView, 'h1'); // will be added to <h1>\n     *\n     *     this.add(ContentView1, 'section'); // will be added to <section>\n     *\n     *     this.add(ContentView2, 'section', {prepend: true}); // will be add into <section> **before** ContentView1\n     *\n     *     this.add(OtherView, {\n     *       options: {\n     *         model: new Model()\n     *       }\n     *     }); // will be added **after** the <section> element\n     *\n     *     this.add('<p class=\"name\">some html</p>'); //=> \"<p class=\"name\">some html</p>\"\n     *     this.add('<p class=\"name\">{{name}}</p>'); //=> \"<p class=\"name\">John Doe</p>\"\n     *     this.add('{{name}}') //=> \"<div>John Doe</div>\"\n     *     this.add('<span>{{name}}</span> w00t') //=> \"<div><span>John Doe</span> w00t</div>\"\n     *   }\n     *\n     * });\n     *\n     * var container - new View({name: 'John Doe'});\n     */\n  add: function (view, selector, bubble, prepend, extraOptions) {\n    /* eslint max-statements: [2, 30], complexity: [2, 12] */\n    var options = {};\n\n    var args = oktaUnderscore.toArray(arguments); // This will throw if a compiled template function is passed accidentally\n\n\n    if (oktaUnderscore.isFunction(view) && (!view.prototype || !view.prototype.render)) {\n      throw new Error('Type passed to add() is not a View');\n    }\n\n    if (oktaUnderscore.isObject(selector)) {\n      options = selector;\n      selector = options.selector;\n      bubble = options.bubble;\n      prepend = options.prepend;\n      extraOptions = options.options;\n    } else if (oktaUnderscore.isObject(bubble)) {\n      options = bubble;\n      bubble = options.bubble;\n      prepend = options.prepend;\n      extraOptions = options.options;\n    } // TODO: This will be deprecated at some point. Views should use precompiled templates\n\n\n    if (oktaUnderscore.isString(view)) {\n      view = function (template) {\n        return View.extend({\n          constructor: function () {\n            try {\n              var $el = Backbone.$(template);\n\n              if ($el.length !== 1) {\n                throw new Error('invalid Element');\n              }\n\n              var unescapingRexExp = /&(\\w+|#x\\d+);/g;\n              var elementUnescapedOuterHTMLLength = $el.prop('outerHTML').replace(unescapingRexExp, ' ').length;\n              var templateUnescapedLength = template.replace(unescapingRexExp, ' ').length;\n\n              if (elementUnescapedOuterHTMLLength !== templateUnescapedLength) {\n                throw new Error('invalid Element');\n              }\n\n              this.template = $el.html(); // Template string will be compiled by handlebars\n\n              this.el = $el.empty()[0];\n            } catch (e) {\n              // not a valid html tag.\n              this.template = template;\n            }\n\n            View.apply(this, arguments);\n          }\n        });\n      }(view);\n    }\n\n    if (view.prototype && view.prototype instanceof View) {\n      /* eslint new-cap: 0 */\n      var viewOptions = oktaUnderscore.omit(oktaUnderscore.extend({}, this.options, extraOptions), 'el');\n\n      args[0] = new view(viewOptions);\n      return this.add.apply(this, args);\n    } // prevent dups\n\n\n    if (oktaUnderscore.isNumber(getIndex(this, view))) {\n      throw new Error('Duplicate child');\n    }\n\n    view[PARENT] = this; // make the view responsible for adding itself to the parent:\n    // * register the selector in the closure\n    // * register a reference the parent in the closure\n\n    view[ADD_TO_CONTAINER] = function (selector) {\n      return function () {\n        if (selector && view[PARENT].$(selector).length !== 1) {\n          throw new Error('Invalid selector: ' + selector);\n        }\n\n        var $el = selector ? this[PARENT].$(selector) : this[PARENT].$el;\n        this.render(); // we need to delegate events in case\n        // the view was added and removed before\n\n        this.delegateEvents(); // this[PARENT].at(index).$el.before(this.el);\n\n        prepend ? $el.prepend(this.el) : $el.append(this.el);\n      };\n    }.call(view, selector); // if flag to bubble events is set\n    // proxy all child view events\n\n\n    if (bubble) {\n      this.listenTo(view, 'all', function () {\n        this.trigger.apply(this, arguments);\n      });\n    } // add to the dom if `render` has been called\n\n\n    if (this.rendered()) {\n      view[ADD_TO_CONTAINER]();\n    } // add view to child views collection\n\n\n    this[CHILDREN].push(view);\n    return this;\n  },\n\n  /**\n     * Remove all children from container\n     */\n  removeChildren: function () {\n    this.each(function (view) {\n      view.remove();\n    });\n    return this;\n  },\n\n  /**\n     *  Removes a view from the DOM, and calls stopListening to remove any bound events that the view has listenTo'd.\n     *  Also removes all childern of the view if any, and removes itself from its parent view(s)\n     */\n  remove: function () {\n    this.removeChildren();\n\n    if (this[PARENT]) {\n      this[PARENT].unregister(this);\n    }\n\n    return Backbone.View.prototype.remove.apply(this, arguments);\n  },\n\n  /**\n     * Compile the template to function you can apply tokens on on render time.\n     * Uses the underscore tempalting engine by default\n     * @protected\n     * @param  {String} template\n     * @return {Function} a compiled template\n     */\n  // TODO: This will be deprecated at some point. Views should use precompiled templates\n  compileTemplate: function (template) {\n    /* eslint  @okta/okta-ui/no-specific-methods: 0*/\n    return oktaUnderscore.template(template, undefined);\n  },\n\n  /**\n     * Render a template with `this.model` and `this.options` as parameters\n     * preferring the model over the options.\n     *\n     * @param  {(String|Function)} template The template to build\n     * @return {String} An HTML string\n     * @protected\n     */\n  renderTemplate: function (template) {\n    if (oktaUnderscore.isString(template)) {\n      // TODO: This will be deprecated at some point. Views should use precompiled templates\n      template = this.compileTemplate(template);\n    }\n\n    if (oktaUnderscore.isFunction(template)) {\n      return template(this.getTemplateData());\n    }\n  },\n\n  /**\n     * The data hash passed to the compiled template\n     * @return {Object}\n     * @protected\n     */\n  getTemplateData: function () {\n    var modelData = this.model && this.model.toJSON({\n      verbose: true\n    }) || {};\n\n    var options = oktaUnderscore.omit(this.options, ['state', 'settings', 'model', 'collection']);\n\n    return oktaUnderscore.defaults({}, modelData, options);\n  },\n\n  /**\n     * Renders the template to `$el` and append all children in order\n     * {@link #template View.template}\n     */\n  render: function () {\n    this.preRender();\n    doRender(this);\n    this.postRender();\n    return this;\n  },\n\n  /**\n     * Pre render routine. Will be called right *before* the logic in {@link #render} is executed\n     * @method\n     */\n  preRender: noop,\n\n  /**\n     * Post render routine. Will be called right *after* the logic in {@link #render} is executed\n     * @method\n     */\n  postRender: noop,\n\n  /**\n     * Was this instance rendered\n     */\n  rendered: function () {\n    return this[RENDERED];\n  },\n\n  /**\n     * Get all direct child views.\n     * @returns {src/framework/View[]}\n     * @example\n     * var container = View.extend({\n     *   children: [View1, View2]\n     * }).render();\n     * container.getChildren() //=> [view1, view2];\n     */\n  getChildren: function () {\n    return this.toArray();\n  },\n\n  /**\n     * Get a child by index\n     * @param {number} index\n     * @returns {src/framework/View} The child view\n     */\n  at: function (index) {\n    return this.getChildren()[index];\n  },\n\n  /**\n     * Invokes a method on all children down the tree\n     *\n     * @param {String} method The method to invoke\n     */\n  invoke: function (methodName) {\n    var args = oktaUnderscore.toArray(arguments);\n\n    this.each(function (child) {\n      // if child has children, bubble down the tree\n      if (child.size()) {\n        child.invoke.apply(child, args);\n      } // run the function on the child\n\n\n      if (oktaUnderscore.isFunction(child[methodName])) {\n        child[methodName].apply(child, args.slice(1));\n      }\n    });\n    return this;\n  }\n};\nView = Backbone.View.extend(\n/** @lends src/framework/View.prototype */\nproto); // Code borrowed from Backbone.js source\n// Underscore methods that we want to implement on the Container.\n\nvar methods = ['each', 'map', 'reduce', 'reduceRight', 'find', 'filter', 'reject', 'every', 'some', 'contains', 'toArray', 'size', 'first', 'initial', 'rest', 'last', 'without', 'indexOf', 'shuffle', 'lastIndexOf', 'isEmpty', 'chain', 'where', 'findWhere'];\n\noktaUnderscore.each(methods, function (method) {\n  View.prototype[method] = function () {\n    var args = oktaUnderscore.toArray(arguments);\n\n    args.unshift(oktaUnderscore.toArray(this[CHILDREN]));\n    return oktaUnderscore[method].apply(oktaUnderscore, args);\n  };\n});\n/**\n   * See [_.each](http://underscorejs.org/#each)\n   * @name each\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.map](http://underscorejs.org/#map)\n   * @name map\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.reduce](http://underscorejs.org/#reduce)\n   * @name reduce\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Mixed} memo\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.reduceRight](http://underscorejs.org/#reduceRight)\n   * @name reduceRight\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Mixed} memo\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.find](http://underscorejs.org/#find)\n   * @name find\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} predicate\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.filter](http://underscorejs.org/#filter)\n   * @name filter\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} predicate\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.reject](http://underscorejs.org/#reject)\n   * @name reject\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} predicate\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.every](http://underscorejs.org/#every)\n   * @name every\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} [predicate]\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.some](http://underscorejs.org/#some)\n   * @name some\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} [predicate]\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.contains](http://underscorejs.org/#contains)\n   * @name contains\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Mixed} value\n   */\n\n/**\n   * See [_.toArray](http://underscorejs.org/#toArray)\n   * @name toArray\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.size](http://underscorejs.org/#size)\n   * @name size\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.first](http://underscorejs.org/#first)\n   * @name first\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [n]\n   */\n\n/**\n   * See [_.initial](http://underscorejs.org/#initial)\n   * @name initial\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [n]\n   */\n\n/**\n   * See [_.last](http://underscorejs.org/#last)\n   * @name last\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [n]\n   */\n\n/**\n   * See [_.rest](http://underscorejs.org/#rest)\n   * @name rest\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [index]\n   */\n\n/**\n   * See [_.without](http://underscorejs.org/#without)\n   * @name without\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.indexOf](http://underscorejs.org/#indexOf)\n   * @name indexOf\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Mixed} value\n   * @param {Boolean} [isSorted]\n   */\n\n/**\n   * See [_.shuffle](http://underscorejs.org/#shuffle)\n   * @name shuffle\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.shuffle](http://underscorejs.org/#lastIndexOf)\n   * @name lastIndexOf\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Mixed} value\n   * @param {Number} [fromIndex]\n   */\n\n/**\n   * See [_.isEmpty](http://underscorejs.org/#isEmpty)\n   * @name isEmpty\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.chain](http://underscorejs.org/#chain)\n   * @name chain\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.where](http://underscorejs.org/#where)\n   * @name where\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Object} properties\n   */\n\n/**\n   * See [_.findWhere](http://underscorejs.org/#findWhere)\n   * @name findWhere\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Object} properties\n   */\n\n/**\n * It's used for distinguishing the ambiguity from _.isFunction()\n * which returns True for both a JavaScript Class constructor function\n * and normal function. With this flag, we can tell a function is actually\n * a View Class.\n * This flag is added in order to support the type of a parameter can be\n * either a Class or pure function that returns a Class.\n */\n\n\nView.isCourageView = true;\nvar FrameworkView = View;\n\nexport { FrameworkView as default };\n"],"names":["CHILDREN","RENDERED","PARENT","CHILD_DEFINITIONS","ADD_TO_CONTAINER","getIndex","container","view","i","length","cid","noop","doRender","html","renderTemplate","template","$el","empty","each","subscribeEvents","isEventPropertyRe","oktaUnderscore","allKeys","key","matchKeys","match","bindings","result","entity","options","isObject","isFunction","trigger","callback","event","callbacks","reduce","split","arr","name","push","cb","listenTo","View","proto","preinitialize","extend","pick","children","__original_initialize__","initialize","constructor","rest","Backbone","call","childDefinition","add","apply","isArray","autoRender","model","map","field","join","render","unregister","stopListening","viewIndex","isNumber","splice","selector","bubble","prepend","extraOptions","args","toArray","arguments","prototype","Error","isString","$","unescapingRexExp","elementUnescapedOuterHTMLLength","prop","replace","templateUnescapedLength","el","e","viewOptions","omit","delegateEvents","append","rendered","removeChildren","remove","compileTemplate","undefined","getTemplateData","modelData","toJSON","verbose","defaults","preRender","postRender","getChildren","at","index","invoke","methodName","child","size","slice","methods","method","unshift","isCourageView","FrameworkView"],"mappings":";;;AAGA,IAAIA,QAAQ,GAAG,cAAf,CAAA;AACA,IAAIC,QAAQ,GAAG,cAAf,CAAA;AACA,IAAIC,MAAM,GAAG,YAAb,CAAA;AACA,IAAIC,iBAAiB,GAAG,0BAAxB,CAAA;AACA,IAAIC,gBAAgB,GAAG,sBAAvB,CAAA;;AAEA,SAASC,QAAT,CAAkBC,SAAlB,EAA6BC,IAA7B,EAAmC;AACjC,EAAA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,SAAS,CAACN,QAAD,CAAT,CAAoBS,MAAxC,EAAgDD,CAAC,EAAjD,EAAqD;AACnD,IAAA,IAAID,IAAI,CAACG,GAAL,KAAaJ,SAAS,CAACN,QAAD,CAAT,CAAoBQ,CAApB,CAAuBE,CAAAA,GAAxC,EAA6C;AAC3C,MAAA,OAAOF,CAAP,CAAA;AACD,KAAA;AACF,GAAA;AACF,CAAA;;AAED,SAASG,IAAT,GAAgB,EAAE;;AAElB,SAASC,QAAT,CAAkBL,IAAlB,EAAwB;AACtBA,EAAAA,IAAI,CAACN,QAAD,CAAJ,GAAiB,IAAjB,CAAA;AACA,EAAIY,IAAAA,IAAI,GAAGN,IAAI,CAACO,cAAL,CAAoBP,IAAI,CAACQ,QAAzB,CAAX,CAAA;;AAEA,EAAA,IAAIF,IAAJ,EAAU;AACRN,IAAAA,IAAI,CAACS,GAAL,CAASH,IAAT,CAAcA,IAAd,CAAA,CAAA;AACD,GAFD,MAEO,IAAIN,IAAI,CAACE,MAAT,EAAiB;AACtBF,IAAAA,IAAI,CAACS,GAAL,CAASC,KAAT,EAAA,CAAA;AACD,GAAA;;AAEDV,EAAAA,IAAI,CAACW,IAAL,CAAU,UAAUX,IAAV,EAAgB;AACxBA,IAAAA,IAAI,CAACH,gBAAD,CAAJ,EAAA,CAAA;AACD,GAFD,CAAA,CAAA;AAGD,CAAA;;AAED,SAASe,eAAT,CAAyBZ,IAAzB,EAA+B;AAC7B,EAAIa,IAAAA,iBAAiB,GAAG,yDAAxB,CAAA;AAEAC,EAAAA,cAAc,CAACH,IAAf,CAAoBG,cAAc,CAACC,OAAf,CAAuBf,IAAvB,CAApB,EAAkD,UAAUgB,GAAV,EAAe;AAC/D,IAAA,IAAIC,SAAS,GAAGD,GAAG,CAACE,KAAJ,CAAUL,iBAAV,CAAhB,CAAA;;AAEA,IAAI,IAAA,CAACI,SAAL,EAAgB;AACd,MAAA,OAAA;AACD,KAAA;;AAED,IAAIE,IAAAA,QAAQ,GAAGL,cAAc,CAACM,MAAf,CAAsBpB,IAAtB,EAA4BgB,GAA5B,CAAf,CAAA;AAEA,IAAA,IAAIK,MAAM,GAAGrB,IAAI,CAACsB,OAAL,CAAaL,SAAS,CAAC,CAAD,CAAtB,KAA8BjB,IAAI,CAACiB,SAAS,CAAC,CAAD,CAAV,CAA/C,CAAA;;AAEA,IAAI,IAAA,CAACI,MAAD,IAAW,CAACP,cAAc,CAACS,QAAf,CAAwBJ,QAAxB,CAAZ,IAAiD,CAACL,cAAc,CAACU,UAAf,CAA0BH,MAAM,CAACI,OAAjC,CAAtD,EAAiG;AAC/F,MAAA,OAAA;AACD,KAAA;;AAEDX,IAAAA,cAAc,CAACH,IAAf,CAAoBQ,QAApB,EAA8B,UAAUO,QAAV,EAAoBC,KAApB,EAA2B;AACvD,MAAIC,IAAAA,SAAS,GAAGd,cAAc,CAACU,UAAf,CAA0BE,QAA1B,CAAsC,GAAA,CAACA,QAAD,CAAtC,GAAmDZ,cAAc,CAACe,MAAf,CAAsBH,QAAQ,CAACI,KAAT,CAAe,KAAf,CAAtB,EAA6C,CAACC,GAAD,EAAMC,IAAN,KAAe;AAC7H,QAAIlB,IAAAA,cAAc,CAACU,UAAf,CAA0BxB,IAAI,CAACgC,IAAD,CAA9B,CAAJ,EAA2C;AACzCD,UAAAA,GAAG,CAACE,IAAJ,CAASjC,IAAI,CAACgC,IAAD,CAAb,CAAA,CAAA;AACD,SAAA;;AAED,QAAA,OAAOD,GAAP,CAAA;AACD,OANkE,EAMhE,EANgE,CAAnE,CAAA;AAQAjB,MAAAA,cAAc,CAACH,IAAf,CAAoBiB,SAApB,EAA+B,UAAUM,EAAV,EAAc;AAC3ClC,QAAAA,IAAI,CAACmC,QAAL,CAAcd,MAAd,EAAsBM,KAAtB,EAA6BO,EAA7B,CAAA,CAAA;AACD,OAFD,CAAA,CAAA;AAGD,KAZD,CAAA,CAAA;AAaD,GA5BD,CAAA,CAAA;AA6BD,CAAA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAIE,IAAJ,CAAA;AACA,MAAMC,KAAK,GAAG;AACZ;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,EAAAA,aAAa,EAAE,UAAUhB,OAAV,EAAmB;AAChC;AACA,IAAA,IAAA,CAAKA,OAAL,GAAeA,OAAO,IAAI,EAA1B,CAAA;AAEAR,IAAAA,cAAc,CAACyB,MAAf,CAAsB,IAAtB,EAA4BzB,cAAc,CAAC0B,IAAf,CAAoB,IAAA,CAAKlB,OAAzB,EAAkC,OAAlC,EAA2C,UAA3C,CAA5B,EAJgC;;AAOhC,IAAK7B,IAAAA,CAAAA,QAAL,IAAiB,EAAjB,CAAA;AACA,IAAKC,IAAAA,CAAAA,QAAL,IAAiB,KAAjB,CAAA;AACA,IAAKC,IAAAA,CAAAA,MAAL,IAAe,IAAf,CAAA;AACA,IAAA,IAAA,CAAKC,iBAAL,CAAA,GAA0B,IAAK6C,CAAAA,QAA/B,CAVgC;AAWhC;AACA;AACA;AACA;AACA;;AAEA,IAAKC,IAAAA,CAAAA,uBAAL,GAA+B,IAAA,CAAKC,UAApC,CAAA;AACA,IAAKA,IAAAA,CAAAA,UAAL,GAAkBvC,IAAlB,CAAA;AACD,GAjEW;AAkEZwC,EAAAA,WAAW,EAAE,UAAUtB,OAAV,EAAmB,GAAGuB,IAAtB,EAA4B;AACvCC,IAAAA,QAAQ,CAACV,IAAT,CAAcW,IAAd,CAAmB,IAAnB,EAAyBzB,OAAzB,CAAA,CAAA;AAEAR,IAAAA,cAAc,CAACH,IAAf,CAAoBG,cAAc,CAACM,MAAf,CAAsB,IAAtB,EAA4BxB,iBAA5B,CAApB,EAAoE,UAAUoD,eAAV,EAA2B;AAC7F,MAAA,IAAA,CAAKC,GAAL,CAASC,KAAT,CAAe,IAAf,EAAqBpC,cAAc,CAACqC,OAAf,CAAuBH,eAAvB,CAA0CA,GAAAA,eAA1C,GAA4D,CAACA,eAAD,CAAjF,CAAA,CAAA;AACD,KAFD,EAEG,IAFH,CAAA,CAAA;AAIA,IAAO,OAAA,IAAA,CAAKpD,iBAAL,CAAP,CAAA;AAEA,IAAMwD,MAAAA,UAAU,GAAGtC,cAAc,CAACM,MAAf,CAAsB,IAAtB,EAA4B,YAA5B,CAAnB,CAAA;;AAEA,IAAA,IAAIgC,UAAU,IAAI,IAAKC,CAAAA,KAAvB,EAA8B;AAC5B,MAAA,IAAI1B,KAAK,GAAGb,cAAc,CAACqC,OAAf,CAAuBC,UAAvB,CAAA,GAAqCtC,cAAc,CAACwC,GAAf,CAAmBF,UAAnB,EAA+B,UAAUG,KAAV,EAAiB;AAC/F,QAAA,OAAO,YAAYA,KAAnB,CAAA;AACD,OAFgD,EAE9CC,IAF8C,CAEzC,GAFyC,CAArC,GAEG,QAFf,CAAA;AAGA,MAAA,IAAA,CAAKrB,QAAL,CAAc,IAAA,CAAKkB,KAAnB,EAA0B1B,KAA1B,EAAiC,YAAY;AAC3C,QAAA,IAAA,CAAK8B,MAAL,EAAA,CAAA;AACD,OAFD,CAAA,CAAA;AAGD,KAAA;;AAED,IAAKd,IAAAA,CAAAA,UAAL,GAAkB,IAAA,CAAKD,uBAAvB,CAAA;AACA,IAAKC,IAAAA,CAAAA,UAAL,CAAgBI,IAAhB,CAAqB,IAArB,EAA2BzB,OAA3B,EAAoC,GAAGuB,IAAvC,CAAA,CArBuC;;AAuBvCjC,IAAAA,eAAe,CAAC,IAAD,CAAf,CAAA;AACD,GA1FW;;AA4FZ;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACE8C,EAAAA,UAAU,EAAE,UAAU1D,IAAV,EAAgB;AAC1B,IAAK2D,IAAAA,CAAAA,aAAL,CAAmB3D,IAAnB,CAAA,CAAA;AACA,IAAI4D,IAAAA,SAAS,GAAG9D,QAAQ,CAAC,IAAD,EAAOE,IAAP,CAAxB,CAF0B;AAG1B;AACA;AACA;;AAEA,IAAA,IAAIc,cAAc,CAAC+C,QAAf,CAAwBD,SAAxB,CAAJ,EAAwC;AACtC,MAAA,IAAA,CAAKnE,QAAL,CAAeqE,CAAAA,MAAf,CAAsBF,SAAtB,EAAiC,CAAjC,CAAA,CAAA;AACD,KAAA;AACF,GA9GW;;AAgHZ;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACER,EAAAA,UAAU,EAAE,KAzHA;;AA2HZ;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE5C,EAAAA,QAAQ,EAAE,IAtIE;;AAwIZ;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEiC,EAAAA,QAAQ,EAAE,EA/JE;;AAiKZ;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEQ,EAAAA,GAAG,EAAE,UAAUjD,IAAV,EAAgB+D,QAAhB,EAA0BC,MAA1B,EAAkCC,OAAlC,EAA2CC,YAA3C,EAAyD;AAC5D;AACA,IAAI5C,IAAAA,OAAO,GAAG,EAAd,CAAA;AAEA,IAAI6C,IAAAA,IAAI,GAAGrD,cAAc,CAACsD,OAAf,CAAuBC,SAAvB,CAAX,CAJ4D;;AAO5D,IAAA,IAAIvD,cAAc,CAACU,UAAf,CAA0BxB,IAA1B,CAAA,KAAoC,CAACA,IAAI,CAACsE,SAAN,IAAmB,CAACtE,IAAI,CAACsE,SAAL,CAAeb,MAAvE,CAAJ,EAAoF;AAClF,MAAA,MAAM,IAAIc,KAAJ,CAAU,oCAAV,CAAN,CAAA;AACD,KAAA;;AAED,IAAA,IAAIzD,cAAc,CAACS,QAAf,CAAwBwC,QAAxB,CAAJ,EAAuC;AACrCzC,MAAAA,OAAO,GAAGyC,QAAV,CAAA;AACAA,MAAAA,QAAQ,GAAGzC,OAAO,CAACyC,QAAnB,CAAA;AACAC,MAAAA,MAAM,GAAG1C,OAAO,CAAC0C,MAAjB,CAAA;AACAC,MAAAA,OAAO,GAAG3C,OAAO,CAAC2C,OAAlB,CAAA;AACAC,MAAAA,YAAY,GAAG5C,OAAO,CAACA,OAAvB,CAAA;AACD,KAND,MAMO,IAAIR,cAAc,CAACS,QAAf,CAAwByC,MAAxB,CAAJ,EAAqC;AAC1C1C,MAAAA,OAAO,GAAG0C,MAAV,CAAA;AACAA,MAAAA,MAAM,GAAG1C,OAAO,CAAC0C,MAAjB,CAAA;AACAC,MAAAA,OAAO,GAAG3C,OAAO,CAAC2C,OAAlB,CAAA;AACAC,MAAAA,YAAY,GAAG5C,OAAO,CAACA,OAAvB,CAAA;AACD,KAtB2D;;;AAyB5D,IAAA,IAAIR,cAAc,CAAC0D,QAAf,CAAwBxE,IAAxB,CAAJ,EAAmC;AACjCA,MAAAA,IAAI,GAAG,UAAUQ,QAAV,EAAoB;AACzB,QAAO4B,OAAAA,IAAI,CAACG,MAAL,CAAY;AACjBK,UAAAA,WAAW,EAAE,YAAY;AACvB,YAAI,IAAA;AACF,cAAA,IAAInC,GAAG,GAAGqC,QAAQ,CAAC2B,CAAT,CAAWjE,QAAX,CAAV,CAAA;;AAEA,cAAA,IAAIC,GAAG,CAACP,MAAJ,KAAe,CAAnB,EAAsB;AACpB,gBAAA,MAAM,IAAIqE,KAAJ,CAAU,iBAAV,CAAN,CAAA;AACD,eAAA;;AAED,cAAIG,IAAAA,gBAAgB,GAAG,gBAAvB,CAAA;AACA,cAAA,IAAIC,+BAA+B,GAAGlE,GAAG,CAACmE,IAAJ,CAAS,WAAT,CAAsBC,CAAAA,OAAtB,CAA8BH,gBAA9B,EAAgD,GAAhD,EAAqDxE,MAA3F,CAAA;AACA,cAAI4E,IAAAA,uBAAuB,GAAGtE,QAAQ,CAACqE,OAAT,CAAiBH,gBAAjB,EAAmC,GAAnC,CAAA,CAAwCxE,MAAtE,CAAA;;AAEA,cAAIyE,IAAAA,+BAA+B,KAAKG,uBAAxC,EAAiE;AAC/D,gBAAA,MAAM,IAAIP,KAAJ,CAAU,iBAAV,CAAN,CAAA;AACD,eAAA;;AAED,cAAA,IAAA,CAAK/D,QAAL,GAAgBC,GAAG,CAACH,IAAJ,EAAhB,CAfE;;AAiBF,cAAA,IAAA,CAAKyE,EAAL,GAAUtE,GAAG,CAACC,KAAJ,EAAA,CAAY,CAAZ,CAAV,CAAA;AACD,aAlBD,CAkBE,OAAOsE,CAAP,EAAU;AACV;AACA,cAAKxE,IAAAA,CAAAA,QAAL,GAAgBA,QAAhB,CAAA;AACD,aAAA;;AAED4B,YAAAA,IAAI,CAACc,KAAL,CAAW,IAAX,EAAiBmB,SAAjB,CAAA,CAAA;AACD,WAAA;AA1BgB,SAAZ,CAAP,CAAA;AA4BD,OA7BM,CA6BLrE,IA7BK,CAAP,CAAA;AA8BD,KAAA;;AAED,IAAIA,IAAAA,IAAI,CAACsE,SAAL,IAAkBtE,IAAI,CAACsE,SAAL,YAA0BlC,IAAhD,EAAsD;AACpD;AACA,MAAA,IAAI6C,WAAW,GAAGnE,cAAc,CAACoE,IAAf,CAAoBpE,cAAc,CAACyB,MAAf,CAAsB,EAAtB,EAA0B,KAAKjB,OAA/B,EAAwC4C,YAAxC,CAApB,EAA2E,IAA3E,CAAlB,CAAA;AAEAC,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,IAAInE,IAAJ,CAASiF,WAAT,CAAV,CAAA;AACA,MAAO,OAAA,IAAA,CAAKhC,GAAL,CAASC,KAAT,CAAe,IAAf,EAAqBiB,IAArB,CAAP,CAAA;AACD,KAhE2D;;;AAmE5D,IAAIrD,IAAAA,cAAc,CAAC+C,QAAf,CAAwB/D,QAAQ,CAAC,IAAD,EAAOE,IAAP,CAAhC,CAAJ,EAAmD;AACjD,MAAA,MAAM,IAAIuE,KAAJ,CAAU,iBAAV,CAAN,CAAA;AACD,KAAA;;AAEDvE,IAAAA,IAAI,CAACL,MAAD,CAAJ,GAAe,IAAf,CAvE4D;AAwE5D;AACA;;AAEAK,IAAAA,IAAI,CAACH,gBAAD,CAAJ,GAAyB,UAAUkE,QAAV,EAAoB;AAC3C,MAAA,OAAO,YAAY;AACjB,QAAA,IAAIA,QAAQ,IAAI/D,IAAI,CAACL,MAAD,CAAJ,CAAa8E,CAAb,CAAeV,QAAf,CAAA,CAAyB7D,MAAzB,KAAoC,CAApD,EAAuD;AACrD,UAAA,MAAM,IAAIqE,KAAJ,CAAU,oBAAA,GAAuBR,QAAjC,CAAN,CAAA;AACD,SAAA;;AAED,QAAA,IAAItD,GAAG,GAAGsD,QAAQ,GAAG,KAAKpE,MAAL,CAAA,CAAa8E,CAAb,CAAeV,QAAf,CAAH,GAA8B,IAAKpE,CAAAA,MAAL,EAAac,GAA7D,CAAA;AACA,QAAKgD,IAAAA,CAAAA,MAAL,GANiB;AAOjB;;AAEA,QAAK0B,IAAAA,CAAAA,cAAL,GATiB;;AAWjBlB,QAAAA,OAAO,GAAGxD,GAAG,CAACwD,OAAJ,CAAY,IAAKc,CAAAA,EAAjB,CAAH,GAA0BtE,GAAG,CAAC2E,MAAJ,CAAW,IAAA,CAAKL,EAAhB,CAAjC,CAAA;AACD,OAZD,CAAA;AAaD,KAdwB,CAcvBhC,IAduB,CAclB/C,IAdkB,EAcZ+D,QAdY,CAAzB,CA3E4D;AA0F5D;;;AAGA,IAAA,IAAIC,MAAJ,EAAY;AACV,MAAA,IAAA,CAAK7B,QAAL,CAAcnC,IAAd,EAAoB,KAApB,EAA2B,YAAY;AACrC,QAAA,IAAA,CAAKyB,OAAL,CAAayB,KAAb,CAAmB,IAAnB,EAAyBmB,SAAzB,CAAA,CAAA;AACD,OAFD,CAAA,CAAA;AAGD,KAjG2D;;;AAoG5D,IAAI,IAAA,IAAA,CAAKgB,QAAL,EAAJ,EAAqB;AACnBrF,MAAAA,IAAI,CAACH,gBAAD,CAAJ,EAAA,CAAA;AACD,KAtG2D;;;AAyG5D,IAAA,IAAA,CAAKJ,QAAL,CAAA,CAAewC,IAAf,CAAoBjC,IAApB,CAAA,CAAA;AACA,IAAA,OAAO,IAAP,CAAA;AACD,GA9TW;;AAgUZ;AACF;AACA;AACEsF,EAAAA,cAAc,EAAE,YAAY;AAC1B,IAAA,IAAA,CAAK3E,IAAL,CAAU,UAAUX,IAAV,EAAgB;AACxBA,MAAAA,IAAI,CAACuF,MAAL,EAAA,CAAA;AACD,KAFD,CAAA,CAAA;AAGA,IAAA,OAAO,IAAP,CAAA;AACD,GAxUW;;AA0UZ;AACF;AACA;AACA;AACEA,EAAAA,MAAM,EAAE,YAAY;AAClB,IAAA,IAAA,CAAKD,cAAL,EAAA,CAAA;;AAEA,IAAI,IAAA,IAAA,CAAK3F,MAAL,CAAJ,EAAkB;AAChB,MAAA,IAAA,CAAKA,MAAL,CAAA,CAAa+D,UAAb,CAAwB,IAAxB,CAAA,CAAA;AACD,KAAA;;AAED,IAAA,OAAOZ,QAAQ,CAACV,IAAT,CAAckC,SAAd,CAAwBiB,MAAxB,CAA+BrC,KAA/B,CAAqC,IAArC,EAA2CmB,SAA3C,CAAP,CAAA;AACD,GAtVW;;AAwVZ;AACF;AACA;AACA;AACA;AACA;AACA;AACE;AACAmB,EAAAA,eAAe,EAAE,UAAUhF,QAAV,EAAoB;AACnC;AACA,IAAA,OAAOM,cAAc,CAACN,QAAf,CAAwBA,QAAxB,EAAkCiF,SAAlC,CAAP,CAAA;AACD,GAnWW;;AAqWZ;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACElF,EAAAA,cAAc,EAAE,UAAUC,QAAV,EAAoB;AAClC,IAAA,IAAIM,cAAc,CAAC0D,QAAf,CAAwBhE,QAAxB,CAAJ,EAAuC;AACrC;AACAA,MAAAA,QAAQ,GAAG,IAAA,CAAKgF,eAAL,CAAqBhF,QAArB,CAAX,CAAA;AACD,KAAA;;AAED,IAAA,IAAIM,cAAc,CAACU,UAAf,CAA0BhB,QAA1B,CAAJ,EAAyC;AACvC,MAAA,OAAOA,QAAQ,CAAC,IAAKkF,CAAAA,eAAL,EAAD,CAAf,CAAA;AACD,KAAA;AACF,GAtXW;;AAwXZ;AACF;AACA;AACA;AACA;AACEA,EAAAA,eAAe,EAAE,YAAY;AAC3B,IAAIC,IAAAA,SAAS,GAAG,IAAKtC,CAAAA,KAAL,IAAc,IAAKA,CAAAA,KAAL,CAAWuC,MAAX,CAAkB;AAC9CC,MAAAA,OAAO,EAAE,IAAA;AADqC,KAAlB,CAAd,IAEV,EAFN,CAAA;AAIA,IAAA,IAAIvE,OAAO,GAAGR,cAAc,CAACoE,IAAf,CAAoB,KAAK5D,OAAzB,EAAkC,CAAC,OAAD,EAAU,UAAV,EAAsB,OAAtB,EAA+B,YAA/B,CAAlC,CAAd,CAAA;AAEA,IAAOR,OAAAA,cAAc,CAACgF,QAAf,CAAwB,EAAxB,EAA4BH,SAA5B,EAAuCrE,OAAvC,CAAP,CAAA;AACD,GArYW;;AAuYZ;AACF;AACA;AACA;AACEmC,EAAAA,MAAM,EAAE,YAAY;AAClB,IAAA,IAAA,CAAKsC,SAAL,EAAA,CAAA;AACA1F,IAAAA,QAAQ,CAAC,IAAD,CAAR,CAAA;AACA,IAAA,IAAA,CAAK2F,UAAL,EAAA,CAAA;AACA,IAAA,OAAO,IAAP,CAAA;AACD,GAhZW;;AAkZZ;AACF;AACA;AACA;AACED,EAAAA,SAAS,EAAE3F,IAtZC;;AAwZZ;AACF;AACA;AACA;AACE4F,EAAAA,UAAU,EAAE5F,IA5ZA;;AA8ZZ;AACF;AACA;AACEiF,EAAAA,QAAQ,EAAE,YAAY;AACpB,IAAO,OAAA,IAAA,CAAK3F,QAAL,CAAP,CAAA;AACD,GAnaW;;AAqaZ;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEuG,EAAAA,WAAW,EAAE,YAAY;AACvB,IAAO,OAAA,IAAA,CAAK7B,OAAL,EAAP,CAAA;AACD,GAhbW;;AAkbZ;AACF;AACA;AACA;AACA;AACE8B,EAAAA,EAAE,EAAE,UAAUC,KAAV,EAAiB;AACnB,IAAA,OAAO,IAAKF,CAAAA,WAAL,EAAmBE,CAAAA,KAAnB,CAAP,CAAA;AACD,GAzbW;;AA2bZ;AACF;AACA;AACA;AACA;AACEC,EAAAA,MAAM,EAAE,UAAUC,UAAV,EAAsB;AAC5B,IAAA,IAAIlC,IAAI,GAAGrD,cAAc,CAACsD,OAAf,CAAuBC,SAAvB,CAAX,CAAA;AAEA,IAAA,IAAA,CAAK1D,IAAL,CAAU,UAAU2F,KAAV,EAAiB;AACzB;AACA,MAAA,IAAIA,KAAK,CAACC,IAAN,EAAJ,EAAkB;AAChBD,QAAAA,KAAK,CAACF,MAAN,CAAalD,KAAb,CAAmBoD,KAAnB,EAA0BnC,IAA1B,CAAA,CAAA;AACD,OAJwB;;;AAOzB,MAAIrD,IAAAA,cAAc,CAACU,UAAf,CAA0B8E,KAAK,CAACD,UAAD,CAA/B,CAAJ,EAAkD;AAChDC,QAAAA,KAAK,CAACD,UAAD,CAAL,CAAkBnD,KAAlB,CAAwBoD,KAAxB,EAA+BnC,IAAI,CAACqC,KAAL,CAAW,CAAX,CAA/B,CAAA,CAAA;AACD,OAAA;AACF,KAVD,CAAA,CAAA;AAWA,IAAA,OAAO,IAAP,CAAA;AACD,GAAA;AA/cW,CAAd,CAAA;AAidApE,IAAI,GAAGU,QAAQ,CAACV,IAAT,CAAcG,MAAd;AACP;AACAF,KAFO,CAAP;AAGA;;AAEA,IAAIoE,OAAO,GAAG,CAAC,MAAD,EAAS,KAAT,EAAgB,QAAhB,EAA0B,aAA1B,EAAyC,MAAzC,EAAiD,QAAjD,EAA2D,QAA3D,EAAqE,OAArE,EAA8E,MAA9E,EAAsF,UAAtF,EAAkG,SAAlG,EAA6G,MAA7G,EAAqH,OAArH,EAA8H,SAA9H,EAAyI,MAAzI,EAAiJ,MAAjJ,EAAyJ,SAAzJ,EAAoK,SAApK,EAA+K,SAA/K,EAA0L,aAA1L,EAAyM,SAAzM,EAAoN,OAApN,EAA6N,OAA7N,EAAsO,WAAtO,CAAd,CAAA;AAEA3F,cAAc,CAACH,IAAf,CAAoB8F,OAApB,EAA6B,UAAUC,MAAV,EAAkB;AAC7CtE,EAAAA,IAAI,CAACkC,SAAL,CAAeoC,MAAf,IAAyB,YAAY;AACnC,IAAA,IAAIvC,IAAI,GAAGrD,cAAc,CAACsD,OAAf,CAAuBC,SAAvB,CAAX,CAAA;AAEAF,IAAAA,IAAI,CAACwC,OAAL,CAAa7F,cAAc,CAACsD,OAAf,CAAuB,IAAA,CAAK3E,QAAL,CAAvB,CAAb,CAAA,CAAA;AACA,IAAOqB,OAAAA,cAAc,CAAC4F,MAAD,CAAd,CAAuBxD,KAAvB,CAA6BpC,cAA7B,EAA6CqD,IAA7C,CAAP,CAAA;AACD,GALD,CAAA;AAMD,CAPD,CAAA,CAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA/B,IAAI,CAACwE,aAAL,GAAqB,IAArB,CAAA;AACIC,IAAAA,aAAa,GAAGzE;;;;"}
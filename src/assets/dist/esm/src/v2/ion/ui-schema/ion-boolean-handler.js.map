{"version":3,"file":"ion-boolean-handler.js","sources":["../../../../../../src/v2/ion/ui-schema/ion-boolean-handler.js"],"sourcesContent":["/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { FORMS } from '../RemediationConstants';\nimport { loc } from 'okta';\n\nconst getCheckboxUiSchema = ({ label, type, required }) => ({\n  // For Remember Me checkbox, we need the label only on the right side of it.\n  placeholder: label,\n  label: false,\n  // Separating prop type for Backbone.Model\n  // from html input type\n  modelType: type,\n  // uiSchema type is the html input type desired.\n  type: 'checkbox',\n  required: required || false,\n});\n\nconst getRadioUiSchema = ({ label, required, options }) => ({\n  displayName: label,\n  type: 'radio',\n  required: required,\n  options: options[0].value.value.options,\n  sublabel: required? null : loc('oie.form.field.optional', 'login'),\n});\n\nconst getCheckboxUiSchemaWithDefaultValue = ({ label, type }) => ({\n  placeholder: label,\n  label: false,\n  modelType: type,\n  type: 'checkbox',\n  // set required true so default value can be passed to optional attributes as well\n  required: true,\n  value: false,\n});\n\nconst createUiSchemaForBoolean = (ionFormField, remediationForm) => {\n  if ([FORMS.CONSENT_ENDUSER, FORMS.CONSENT_ADMIN].includes(remediationForm.name)) {\n    const scopes = remediationForm.scopes.map(({name, label, desc}) => {\n      return {name, displayName: label, description: desc};\n    });\n\n    // setting 'type' here to add a specific View in FormInputFactory.create\n    const type = remediationForm.name;\n\n    return {type, scopes, options: ionFormField.options};\n  } else if (Array.isArray(ionFormField.options) && ionFormField.options[0]?.value?.value?.inputType === 'radio') {\n    return getRadioUiSchema(ionFormField);\n  } else if (Array.isArray(ionFormField.options) && ionFormField.options[0]?.value?.value?.inputType === 'checkbox') {\n    return getCheckboxUiSchemaWithDefaultValue(ionFormField);\n  } else {\n    return getCheckboxUiSchema(ionFormField);\n  }\n};\n\nexport default createUiSchemaForBoolean;\n"],"names":["getCheckboxUiSchema","label","type","required","placeholder","modelType","getRadioUiSchema","options","displayName","value","sublabel","loc","getCheckboxUiSchemaWithDefaultValue","createUiSchemaForBoolean","ionFormField","remediationForm","FORMS","CONSENT_ENDUSER","CONSENT_ADMIN","includes","name","scopes","map","desc","description","Array","isArray","inputType"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA,MAAMA,mBAAmB,GAAG,CAAC;AAAEC,EAAAA,KAAK,EAALA,KAAF;AAASC,EAAAA,IAAI,EAAJA,IAAT;AAAeC,EAAAA,QAAQ,EAARA,QAAAA;AAAf,CAAD,MAAgC;AAC1D;AACAC,EAAAA,WAAW,EAAEH,KAF6C;AAG1DA,EAAAA,KAAK,EAAE,KAHmD;AAI1D;AACA;AACAI,EAAAA,SAAS,EAAEH,IAN+C;AAO1D;AACAA,EAAAA,IAAI,EAAE,UARoD;AAS1DC,EAAAA,QAAQ,EAAEA,QAAQ,IAAI,KAAA;AAToC,CAAhC,CAA5B,CAAA;;AAYA,MAAMG,gBAAgB,GAAG,CAAC;AAAEL,EAAAA,KAAK,EAALA,KAAF;AAASE,EAAAA,QAAQ,EAARA,QAAT;AAAmBI,EAAAA,OAAO,EAAPA,OAAAA;AAAnB,CAAD,MAAmC;AAC1DC,EAAAA,WAAW,EAAEP,KAD6C;AAE1DC,EAAAA,IAAI,EAAE,OAFoD;AAG1DC,EAAAA,QAAQ,EAAEA,QAHgD;AAI1DI,EAAAA,OAAO,EAAEA,OAAO,CAAC,CAAD,CAAP,CAAWE,KAAX,CAAiBA,KAAjB,CAAuBF,OAJ0B;AAK1DG,EAAAA,QAAQ,EAAEP,QAAQ,GAAE,IAAF,GAASQ,GAAG,CAAC,yBAAD,EAA4B,OAA5B,CAAA;AAL4B,CAAnC,CAAzB,CAAA;;AAQA,MAAMC,mCAAmC,GAAG,CAAC;AAAEX,EAAAA,KAAK,EAALA,KAAF;AAASC,EAAAA,IAAI,EAAJA,IAAAA;AAAT,CAAD,MAAsB;AAChEE,EAAAA,WAAW,EAAEH,KADmD;AAEhEA,EAAAA,KAAK,EAAE,KAFyD;AAGhEI,EAAAA,SAAS,EAAEH,IAHqD;AAIhEA,EAAAA,IAAI,EAAE,UAJ0D;AAKhE;AACAC,EAAAA,QAAQ,EAAE,IANsD;AAOhEM,EAAAA,KAAK,EAAE,KAAA;AAPyD,CAAtB,CAA5C,CAAA;;AAUA,MAAMI,wBAAwB,GAAG,CAACC,YAAD,EAAeC,eAAf,KAAmC;AAAA,EAAA,IAAA,qBAAA,EAAA,sBAAA,EAAA,sBAAA,EAAA,sBAAA,EAAA,sBAAA,EAAA,sBAAA,CAAA;;AAClE,EAAA,IAAI,CAACC,KAAK,CAACC,eAAP,EAAwBD,KAAK,CAACE,aAA9B,CAAA,CAA6CC,QAA7C,CAAsDJ,eAAe,CAACK,IAAtE,CAAJ,EAAiF;AAC/E,IAAMC,MAAAA,MAAM,GAAGN,eAAe,CAACM,MAAhB,CAAuBC,GAAvB,CAA2B,CAAC;AAACF,MAAAA,IAAI,EAAJA,IAAD;AAAOnB,MAAAA,KAAK,EAALA,KAAP;AAAcsB,MAAAA,IAAI,EAAJA,IAAAA;AAAd,KAAD,KAAyB;AACjE,MAAO,OAAA;AAACH,QAAAA,IAAI,EAAJA,IAAD;AAAOZ,QAAAA,WAAW,EAAEP,KAApB;AAA2BuB,QAAAA,WAAW,EAAED,IAAAA;AAAxC,OAAP,CAAA;AACD,KAFc,CAAf,CAD+E;;AAM/E,IAAA,MAAMrB,IAAI,GAAGa,eAAe,CAACK,IAA7B,CAAA;AAEA,IAAO,OAAA;AAAClB,MAAAA,IAAI,EAAJA,IAAD;AAAOmB,MAAAA,MAAM,EAANA,MAAP;AAAed,MAAAA,OAAO,EAAEO,YAAY,CAACP,OAAAA;AAArC,KAAP,CAAA;AACD,GATD,MASO,IAAIkB,KAAK,CAACC,OAAN,CAAcZ,YAAY,CAACP,OAA3B,CAAA,IAAuC,CAAAO,CAAAA,qBAAAA,GAAAA,YAAY,CAACP,OAAb,CAAqB,CAArB,CAAA,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAA,qBAAA,CAAyBE,KAAzB,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAA,sBAAA,CAAgCA,KAAhC,MAAuCkB,IAAAA,IAAAA,sBAAAA,KAAAA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,sBAAAA,CAAAA,SAAvC,MAAqD,OAAhG,EAAyG;AAC9G,IAAOrB,OAAAA,gBAAgB,CAACQ,YAAD,CAAvB,CAAA;AACD,GAFM,MAEA,IAAIW,KAAK,CAACC,OAAN,CAAcZ,YAAY,CAACP,OAA3B,CAAA,IAAuC,CAAAO,CAAAA,sBAAAA,GAAAA,YAAY,CAACP,OAAb,CAAqB,CAArB,CAAA,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAA,sBAAA,CAAyBE,KAAzB,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAA,sBAAA,CAAgCA,KAAhC,MAAuCkB,IAAAA,IAAAA,sBAAAA,KAAAA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,sBAAAA,CAAAA,SAAvC,MAAqD,UAAhG,EAA4G;AACjH,IAAOf,OAAAA,mCAAmC,CAACE,YAAD,CAA1C,CAAA;AACD,GAFM,MAEA;AACL,IAAOd,OAAAA,mBAAmB,CAACc,YAAD,CAA1B,CAAA;AACD,GAAA;AACF;;;;"}
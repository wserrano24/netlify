{"version":3,"file":"BaseForm.js","sources":["../../../../../../src/v2/view-builder/internals/BaseForm.ts"],"sourcesContent":["import hbs from 'handlebars-inline-precompile';\n\nimport { _, Form, loc, internal, createCallout, View } from 'okta';\nimport * as FormInputFactory from './FormInputFactory';\n\nconst { FormUtil } = internal.views.forms.helpers;\nconst INFO_MESSAGE_CLASS = 'INFO';\n\nexport default Form.extend({\n\n  layout: 'o-form-theme',\n  className: 'ion-form',\n  hasSavingState: true,\n  autoSave: false,\n  noCancelButton: true,\n\n  title() {\n    return loc('oform.title.authenticate', 'login');\n  },\n\n  save() {\n    return loc('oform.next', 'login');\n  },\n\n  modelEvents: {\n    'clearFormError': 'handleClearFormError',\n    'error': 'triggerAfterError',\n  },\n\n  initialize() {\n    const uiSchemas = this.getUISchema();\n    const inputOptions = uiSchemas.map(FormInputFactory.create);\n\n    //should be used before adding any other input components\n    this.showMessages();\n\n    // Render CAPTCHA if one of the form fields requires us to.\n    this.listenTo(this.options.appState, 'onCaptchaLoaded', (captchaObject) => {\n      this.captchaObject = captchaObject;\n    });\n\n    inputOptions.forEach(input => {\n      this.addInputOrView(input);\n    });\n\n    this.listenTo(this, 'save', this.saveForm);\n    this.listenTo(this, 'cancel', this.cancelForm);\n  },\n\n  focus(...args) {\n    if (this.settings.get('features.autoFocus')) {\n      Form.prototype.focus.apply(this, args);\n    }\n  },\n\n  handleClearFormError() {\n    const formErrorContainer = this.$('.o-form-error-container');\n    formErrorContainer.empty();\n    if (formErrorContainer.hasClass('o-form-has-errors')) {\n      this.clearErrors();\n    }\n  },\n\n  triggerAfterError(model, error) {\n    this.options.appState.trigger('afterError', error);\n  },\n\n  saveForm(model) {\n    //remove any existing warnings or messages before saving form\n    this.$el.find('.o-form-error-container').empty();\n\n    // Execute Captcha if enabled for this form.\n    if (this.captchaObject) {\n      this.captchaObject.execute();\n    } else {\n      this.options.appState.trigger('saveForm', model);\n    }\n  },\n\n  postRender() {\n    /**\n     * Widget would use infoContainer to display interactive messages that should be persisted during\n     * invalid form submissions. For eg resend-warning callout should not be cleared upon invalid form submit.\n     * Rerender would clear infoContainer or views classes can clear it explicitly.\n     */\n    const infoContainer= '<div class=\\'o-form-info-container\\'></div>';\n    this.$el.find('.o-form-error-container').before(infoContainer);\n\n    this.addIdentifier();\n  },\n\n  /**\n   * Render user identifier below title, or if no title, render below message.\n   */\n  addIdentifier() {\n    const { identifier } = this.options.appState.get('user') || {};\n    if (!identifier) {\n      return;\n    } else if (!this.settings.get('features.showIdentifier')) {\n      return;\n    }\n\n    const header = this.$el.find('[data-se=\"o-form-head\"]');\n    const identifierHTMLString = hbs('<div class=\"identifier-container\">\\\n        <span class=\"identifier no-translate\" data-se=\"identifier\" title={{identifier}}>{{identifier}}</span>\\\n      </div>')({identifier});\n\n    if (header.length) {\n      header.after(identifierHTMLString);\n    } else {\n      this.$el.find('.o-form-error-container').after(identifierHTMLString);\n    }\n  },\n\n  cancelForm() {\n    this.options.appState.trigger('invokeAction', 'cancel');\n  },\n\n  getUISchema() {\n    if (Array.isArray(this.options.currentViewState.uiSchema)) {\n      return this.options.currentViewState.uiSchema;\n    } else {\n      return [];\n    }\n  },\n\n  addInputOrView(input) {\n    if (input.visible === false || (input.mutable === false && input.visible !== true)) {\n      return;\n    }\n    if (input.View) {\n      this.add(input.View, _.omit(input, 'View', 'showWhen'));\n      if (input.showWhen) {\n        FormUtil.applyShowWhen(this.last(), input.showWhen);\n      }\n    } else {\n      this.addInput(input);\n    }\n\n    if (Array.isArray(input.optionsUiSchemas)) {\n      if (this.options.optionUiSchemaConfig[input.name]) {\n        const optionUiSchemaIndex = Number(this.options.optionUiSchemaConfig[input.name]);\n        const optionUiSchemas = input.optionsUiSchemas[optionUiSchemaIndex] || [];\n        optionUiSchemas.forEach(this.addInputOrView.bind(this));\n      }\n    }\n  },\n\n  /*\n  * Views should override this function to render custom error callouts for invalid form actions.\n  * Should return true when callout is customized\n  */\n  showCustomFormErrorCallout: null,\n\n  /*\n   * Renders the contents of messages object (if any, on error) during initialize\n   * This function is called during Form.initialize, and will display\n   * messages when the form reloads.\n   * Note: Any user action related form errors handled by FormController.showFormErrors\n   */\n  showMessages(options) {\n    const messages = this.options.appState.get('messages') || {};\n    const errContainer = '.o-form-error-container';\n    if (Array.isArray(messages.value) && !(options instanceof View)) {\n      this.add('<div class=\"ion-messages-container\"></div>', errContainer);\n      messages.value.forEach(obj => {\n        if(!obj?.class || obj.class === INFO_MESSAGE_CLASS) {\n          // add message as plain text\n          this.add(`<p>${obj.message}</p>`, '.ion-messages-container');\n        } else {\n          const errorObj = {\n            class: obj?.class ?? '',\n            message: obj?.message,\n            title: '',\n            ...options\n          };\n          this.add(createCallout({\n            content: errorObj.message,\n            type: errorObj.class.toLowerCase(),\n            title: errorObj.title\n          }), errContainer);\n          options = null; // prevent repeating first error message\n        }\n      });\n    } else if (options instanceof View) {\n      // if callee is showCustomFormErrorCallout. show custom error views\n      this.add(options, errContainer);\n    }\n  },\n});"],"names":["FormUtil","internal","views","forms","helpers","INFO_MESSAGE_CLASS","Form","extend","layout","className","hasSavingState","autoSave","noCancelButton","title","loc","save","modelEvents","initialize","uiSchemas","getUISchema","inputOptions","map","FormInputFactory","showMessages","listenTo","options","appState","captchaObject","forEach","input","addInputOrView","saveForm","cancelForm","focus","args","settings","get","prototype","apply","handleClearFormError","formErrorContainer","$","empty","hasClass","clearErrors","triggerAfterError","model","error","trigger","$el","find","execute","postRender","infoContainer","before","addIdentifier","identifier","header","identifierHTMLString","length","after","Array","isArray","currentViewState","uiSchema","visible","mutable","View","add","_","omit","showWhen","applyShowWhen","last","addInput","optionsUiSchemas","optionUiSchemaConfig","name","optionUiSchemaIndex","Number","optionUiSchemas","bind","showCustomFormErrorCallout","messages","errContainer","value","obj","class","message","errorObj","createCallout","content","type","toLowerCase"],"mappings":"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"}
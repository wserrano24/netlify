{"version":3,"file":"ScopeCheckBox.js","sources":["../../../../../../src/v2/view-builder/components/ScopeCheckBox.js"],"sourcesContent":["import { _, internal, loc } from 'okta';\nimport { doesI18NKeyExist } from 'v2/ion/i18nTransformer';\nimport hbs from 'handlebars-inline-precompile';\n\nconst CheckBox = internal.views.forms.inputs.CheckBox;\n\nexport default CheckBox.extend({\n  template: hbs`\n    <input type=\"checkbox\" name=\"{{name}}\" id=\"{{inputId}}\"/>\n    <label for=\"{{inputId}}\" data-se-for-name=\"{{name}}\"><b>{{placeholder}}</b><p>{{desc}}</p></label>\n  `,\n\n  getLocalizedLabel: function() {\n    const key = `consent.scopes.${this.options.options.scopeName}.label`;\n    return doesI18NKeyExist(key) ? loc(key, 'login') : (this.options.placeholder || this.options.options.scopeName);\n  },\n\n  getLocalizedDesc: function() {\n    const key = `consent.scopes.${this.options.options.scopeName}.desc`;\n    return doesI18NKeyExist(key) ? loc(key, 'login') : this.options.options.desc;\n  },\n\n  isCustomizedScope: function() {\n    return !doesI18NKeyExist(`consent.scopes.${this.options.options.scopeName}.label`);\n  },\n\n  /**\n   * @Override\n   */\n  enable: function() {\n    if (this.options.options.mutable) {\n      this.$(':input').prop('disabled', false);\n    }\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function() {\n\n    this.$el.html(this.template(_.extend(_.omit(this.options, 'placeholder'), {\n      placeholder: this.getLocalizedLabel(),\n      desc: this.getLocalizedDesc()\n    })));\n\n    this.$(':checkbox').prop('checked', this.getModelValue() || false);\n\n    this.$('input').customInput();\n    this.model.trigger('form:resize');\n\n\n    if (!this.options.options.mutable) {\n      const input = this.$('input').get(0);\n      this.$(input.parentElement).addClass('o-form-read-mode');\n      this.$(':checkbox').prop('disabled', true);\n    }\n\n    if (this.options.options.scopeName === 'openid' || this.isCustomizedScope()) {\n      this.$('label > b').addClass('no-translate');\n      if (this.isCustomizedScope()) {\n        this.$('label > p').addClass('no-translate');\n      }\n    }\n\n    return this;\n  },\n\n});"],"names":["CheckBox","internal","views","forms","inputs","extend","template","getLocalizedLabel","key","options","scopeName","doesI18NKeyExist","loc","placeholder","getLocalizedDesc","desc","isCustomizedScope","enable","mutable","$","prop","editMode","$el","html","_","omit","getModelValue","customInput","model","trigger","input","get","parentElement","addClass"],"mappings":"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"}
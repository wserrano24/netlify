{"version":3,"file":"IdentifierFooter.js","sources":["../../../../../../src/v2/view-builder/components/IdentifierFooter.js"],"sourcesContent":["import { loc, View } from 'okta';\nimport { BaseFooter } from '../internals';\nimport { FORMS as RemediationForms } from '../../ion/RemediationConstants';\nimport { getForgotPasswordLink, getSignUpLink } from '../utils/LinksUtil';\nimport Link from './Link';\nimport hbs from 'handlebars-inline-precompile';\n\nexport default BaseFooter.extend({\n\n  showForgotPasswordLink() { \n    return !this.options.appState.isIdentifierOnlyView();\n  },\n\n  footerInfo() {\n    const signUpLinkData = getSignUpLink(this.options.appState, this.options.settings);\n    let SignUpLinkWithText;\n    //Build sign up link view appended with a text. Link class can only build anchor tags\n    if(signUpLinkData.length) {\n      SignUpLinkWithText = View.extend({\n        className: 'signup-info',\n        template: hbs`\n          <span>{{i18n code=\"registration.signup.label\" bundle=\"login\"}}</span><span class=\"signup-link\"></span>\n          `,\n        initialize() {\n          this.add(Link, '.signup-link', {\n            options: signUpLinkData[0]\n          });\n        }\n      });\n    }\n    return SignUpLinkWithText;\n  },\n\n  links() {\n    const { appState, settings } = this.options;\n\n    let helpLinkHref;\n    if (settings.get('helpLinks.help')) {\n      helpLinkHref = settings.get('helpLinks.help');\n    } else {\n      const baseUrl = settings.get('baseUrl');\n      helpLinkHref = baseUrl + '/help/login';\n    }\n\n    const helpLink = [\n      {\n        'name': 'help',\n        'label': loc('help', 'login'),\n        'href': helpLinkHref,\n      },\n    ];\n\n    let forgotPasswordLink = []; \n    if (this.showForgotPasswordLink()) {\n      forgotPasswordLink = getForgotPasswordLink(appState, settings);\n    }\n\n    const customHelpLinks = [];\n    if (settings.get('helpLinks.custom')) {\n      //add custom helpLinks\n      settings.get('helpLinks.custom').forEach(customHelpLink => {\n        customHelpLink.name = 'custom';\n        customHelpLink.label = customHelpLink.text;\n        customHelpLinks.push(customHelpLink);\n      });\n    }\n\n    const unlockAccountLink = [];\n    if (settings.get('helpLinks.unlock')) {\n      unlockAccountLink.push({\n        'type': 'link',\n        'label': loc('unlockaccount', 'login'),\n        'name' : 'unlock',\n        'href': settings.get('helpLinks.unlock'),\n      });\n    } else if (appState.hasRemediationObject(RemediationForms.UNLOCK_ACCOUNT)) {\n      unlockAccountLink.push({\n        'type': 'link',\n        'label': loc('unlockaccount', 'login'),\n        'name' : 'unlock',\n        'actionPath': RemediationForms.UNLOCK_ACCOUNT,\n      });\n    }\n\n    return forgotPasswordLink\n      .concat(unlockAccountLink)\n      .concat(helpLink)\n      .concat(customHelpLinks);\n  }\n});\n"],"names":["BaseFooter","extend","showForgotPasswordLink","options","appState","isIdentifierOnlyView","footerInfo","signUpLinkData","getSignUpLink","settings","SignUpLinkWithText","length","View","className","template","initialize","add","Link","links","helpLinkHref","get","baseUrl","helpLink","loc","forgotPasswordLink","getForgotPasswordLink","customHelpLinks","forEach","customHelpLink","name","label","text","push","unlockAccountLink","hasRemediationObject","RemediationForms","UNLOCK_ACCOUNT","concat"],"mappings":"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"}
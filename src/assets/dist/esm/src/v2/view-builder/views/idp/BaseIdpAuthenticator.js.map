{"version":3,"file":"BaseIdpAuthenticator.js","sources":["../../../../../../../src/v2/view-builder/views/idp/BaseIdpAuthenticator.js"],"sourcesContent":["import { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from 'v2/view-builder/components/BaseAuthenticatorView';\n\nexport const BaseIdPAuthenticatorBody =  BaseForm.extend({\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.model.set('useRedirect', true);\n    this.add('<div class=\"okta-waiting-spinner\"></div>');\n  }\n});\n\nexport const BaseIdpAuthenticatorView = BaseAuthenticatorView.extend({\n  postRender() {\n    BaseAuthenticatorView.prototype.postRender.apply(this, arguments);\n    // get the error messages\n    const messages = this.options.appState.get('messages') || {};\n    // In case of failure, don't auto-redirect which will result in infinite redirects.\n    // so catch the error and render to the user.\n    if (this.settings.get('features.skipIdpFactorVerificationBtn') && !Array.isArray(messages.value)) {\n      this.$('.o-form-button-bar').hide();\n      this.$('.okta-waiting-spinner').show();\n      this.form.trigger('save', this.model);\n    } else {\n      this.$('.okta-waiting-spinner').hide();\n      this.$('.o-form-button-bar').show();\n    }\n  }\n});\n"],"names":["BaseIdPAuthenticatorBody","BaseForm","extend","initialize","prototype","apply","arguments","model","set","add","BaseIdpAuthenticatorView","BaseAuthenticatorView","postRender","messages","options","appState","get","settings","Array","isArray","value","$","hide","show","form","trigger"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAGaA,wBAAwB,GAAIC,QAAQ,CAACC,MAAT,CAAgB;AACvDC,EAAAA,UADuD,EAC1C,YAAA;AACXF,IAAAA,QAAQ,CAACG,SAAT,CAAmBD,UAAnB,CAA8BE,KAA9B,CAAoC,IAApC,EAA0CC,SAA1C,CAAA,CAAA;AACA,IAAA,IAAA,CAAKC,KAAL,CAAWC,GAAX,CAAe,aAAf,EAA8B,IAA9B,CAAA,CAAA;AACA,IAAKC,IAAAA,CAAAA,GAAL,CAAS,0CAAT,CAAA,CAAA;AACD,GAAA;AALsD,CAAhB,EAAlC;MAQMC,wBAAwB,GAAGC,qBAAqB,CAACT,MAAtB,CAA6B;AACnEU,EAAAA,UADmE,EACtD,YAAA;AACXD,IAAAA,qBAAqB,CAACP,SAAtB,CAAgCQ,UAAhC,CAA2CP,KAA3C,CAAiD,IAAjD,EAAuDC,SAAvD,CAAA,CADW;;AAGX,IAAA,MAAMO,QAAQ,GAAG,IAAKC,CAAAA,OAAL,CAAaC,QAAb,CAAsBC,GAAtB,CAA0B,UAA1B,CAAyC,IAAA,EAA1D,CAHW;AAKX;;AACA,IAAA,IAAI,KAAKC,QAAL,CAAcD,GAAd,CAAkB,uCAAlB,CAA8D,IAAA,CAACE,KAAK,CAACC,OAAN,CAAcN,QAAQ,CAACO,KAAvB,CAAnE,EAAkG;AAChG,MAAA,IAAA,CAAKC,CAAL,CAAO,oBAAP,CAAA,CAA6BC,IAA7B,EAAA,CAAA;AACA,MAAA,IAAA,CAAKD,CAAL,CAAO,uBAAP,CAAA,CAAgCE,IAAhC,EAAA,CAAA;AACA,MAAA,IAAA,CAAKC,IAAL,CAAUC,OAAV,CAAkB,MAAlB,EAA0B,KAAKlB,KAA/B,CAAA,CAAA;AACD,KAJD,MAIO;AACL,MAAA,IAAA,CAAKc,CAAL,CAAO,uBAAP,CAAA,CAAgCC,IAAhC,EAAA,CAAA;AACA,MAAA,IAAA,CAAKD,CAAL,CAAO,oBAAP,CAAA,CAA6BE,IAA7B,EAAA,CAAA;AACD,KAAA;AACF,GAAA;AAfkE,CAA7B;;;;"}
{"version":3,"file":"SelectEnrollmentChannelOktaVerifyView.js","sources":["../../../../../../../src/v2/view-builder/views/ov/SelectEnrollmentChannelOktaVerifyView.js"],"sourcesContent":["import { loc, _ } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport BrowserFeatures from '../../../../util/BrowserFeatures';\n\nconst Body = BaseForm.extend({\n  title() {\n    return (BrowserFeatures.isAndroid() || BrowserFeatures.isIOS())\n      ? loc('oie.enroll.okta_verify.setup.title', 'login')\n      : loc('oie.enroll.okta_verify.select.channel.title', 'login');\n  },\n  getUISchema() {\n    const schemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    // filter selected channel\n    const channelField = _.find(schemas, (schema) => schema.name === 'authenticator.channel');\n    channelField.options = _.filter(channelField?.options, (option) =>\n      option.value !== this.options.appState.get('currentAuthenticator')?.contextualData?.selectedChannel);\n    channelField.value = channelField.options[0]?.value;\n    channelField.sublabel = null;\n    this.model.set('authenticator.channel', channelField.value);\n    const description = {\n      View: loc('oie.enroll.okta_verify.select.channel.description', 'login'),\n      selector: '.o-form-fieldset-container',\n    };\n    return [description, ...schemas];\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n"],"names":["Body","BaseForm","extend","title","BrowserFeatures","isAndroid","isIOS","loc","getUISchema","schemas","prototype","apply","arguments","channelField","_","find","schema","name","options","filter","option","value","appState","get","contextualData","selectedChannel","sublabel","model","set","description","View","selector","BaseAuthenticatorView"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,MAAMA,IAAI,GAAGC,QAAQ,CAACC,MAAT,CAAgB;AAC3BC,EAAAA,KAD2B,EACnB,YAAA;AACN,IAAQC,OAAAA,EAAe,CAACC,SAAhB,EAAA,IAA+BD,EAAe,CAACE,KAAhB,EAAhC,GACHC,GAAG,CAAC,oCAAD,EAAuC,OAAvC,CADA,GAEHA,GAAG,CAAC,6CAAD,EAAgD,OAAhD,CAFP,CAAA;AAGD,GAL0B;AAM3BC,EAAAA,WAN2B,EAMb,YAAA;AAAA,IAAA,IAAA,qBAAA,CAAA;;AACZ,IAAA,MAAMC,OAAO,GAAGR,QAAQ,CAACS,SAAT,CAAmBF,WAAnB,CAA+BG,KAA/B,CAAqC,IAArC,EAA2CC,SAA3C,CAAhB,CADY;;AAGZ,IAAA,MAAMC,YAAY,GAAGC,cAAC,CAACC,IAAF,CAAON,OAAP,EAAiBO,MAAD,IAAYA,MAAM,CAACC,IAAP,KAAgB,uBAA5C,CAArB,CAAA;;AACAJ,IAAAA,YAAY,CAACK,OAAb,GAAuBJ,cAAC,CAACK,MAAF,CAASN,YAAT,KAAA,IAAA,IAASA,YAAT,KAASA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,YAAY,CAAEK,OAAvB,EAAiCE,MAAD,IAAA;AAAA,MAAA,IAAA,qBAAA,EAAA,sBAAA,CAAA;;AAAA,MAAA,OACrDA,MAAM,CAACC,KAAP,+BAAiB,IAAKH,CAAAA,OAAL,CAAaI,QAAb,CAAsBC,GAAtB,CAA0B,sBAA1B,CAAjB,MAAiB,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAA,qBAAA,CAAmDC,cAApE,MAAiB,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,sBAAA,CAAmEC,eAApF,CADqD,CAAA;AAAA,KAAhC,CAAvB,CAAA;AAEAZ,IAAAA,YAAY,CAACQ,KAAb,GAAA,CAAA,qBAAA,GAAqBR,YAAY,CAACK,OAAb,CAAqB,CAArB,CAArB,MAAqB,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,qBAAA,CAAyBG,KAA9C,CAAA;AACAR,IAAAA,YAAY,CAACa,QAAb,GAAwB,IAAxB,CAAA;AACA,IAAKC,IAAAA,CAAAA,KAAL,CAAWC,GAAX,CAAe,uBAAf,EAAwCf,YAAY,CAACQ,KAArD,CAAA,CAAA;AACA,IAAA,MAAMQ,WAAW,GAAG;AAClBC,MAAAA,IAAI,EAAEvB,GAAG,CAAC,mDAAD,EAAsD,OAAtD,CADS;AAElBwB,MAAAA,QAAQ,EAAE,4BAAA;AAFQ,KAApB,CAAA;AAIA,IAAA,OAAO,CAACF,WAAD,EAAc,GAAGpB,OAAjB,CAAP,CAAA;AACD,GAAA;AApB0B,CAAhB,CAAb,CAAA;AAuBA,4CAAeuB,qBAAqB,CAAC9B,MAAtB,CAA6B;AAC1CF,EAAAA,IAAI,EAAJA,IAAAA;AAD0C,CAA7B,CAAf;;;;"}
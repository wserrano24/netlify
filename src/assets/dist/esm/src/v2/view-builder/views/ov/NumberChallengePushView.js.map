{"version":3,"file":"NumberChallengePushView.js","sources":["../../../../../../../src/v2/view-builder/views/ov/NumberChallengePushView.js"],"sourcesContent":["import { loc } from 'okta';\nimport { BaseFormWithPolling } from '../../internals';\nimport polling from '../shared/polling';\nimport ResendNumberChallengeView from './ResendNumberChallengeView';\nimport NumberChallengePhoneView from './NumberChallengePhoneView';\n\nconst Body = BaseFormWithPolling.extend(Object.assign(\n  {\n    noButtonBar: true,\n\n    className: 'okta-verify-number-challenge',\n\n    events: {\n      'click a.resend-number-challenge': 'handleResendNumberChallenge'\n    },\n\n    handleResendNumberChallenge() {\n      this.options.appState.trigger('invokeAction', 'currentAuthenticator-resend');\n      // hide the warning\n      this.options.appState.trigger('hideNumberChallengeWarning');\n    },\n\n    title() {\n      return loc('oie.okta_verify.push.sent', 'login');\n    },\n\n    initialize() {\n      BaseFormWithPolling.prototype.initialize.apply(this, arguments);\n      this.add(NumberChallengePhoneView);\n    },\n\n    triggerAfterError() {\n      BaseFormWithPolling.prototype.triggerAfterError.apply(this, arguments);\n      this.stopPolling();\n      this.$el.find('.o-form-fieldset-container').empty();\n    },\n\n    postRender() {\n      BaseFormWithPolling.prototype.postRender.apply(this, arguments);\n      this.startPoll();\n    },\n\n    startPoll() {\n      this.startPolling();\n      this.addWarning();\n    },\n\n    stopPoll() {\n      this.stopPolling();\n    },\n\n    addWarning() {\n      this.add(ResendNumberChallengeView, '.o-form-error-container');\n      this.options.appState.trigger('showNumberChallengeWarning');\n    },\n\n    remove() {\n      BaseFormWithPolling.prototype.remove.apply(this, arguments);\n      this.stopPolling();\n    },\n  },\n\n  polling,\n));\n\nexport default Body;\n"],"names":["Body","BaseFormWithPolling","extend","Object","assign","noButtonBar","className","events","handleResendNumberChallenge","options","appState","trigger","title","loc","initialize","prototype","apply","arguments","add","NumberChallengePhoneView","triggerAfterError","stopPolling","$el","find","empty","postRender","startPoll","startPolling","addWarning","stopPoll","ResendNumberChallengeView","remove","polling"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMMA,MAAAA,IAAI,GAAGC,mBAAmB,CAACC,MAApB,CAA2BC,MAAM,CAACC,MAAP,CACtC;AACEC,EAAAA,WAAW,EAAE,IADf;AAGEC,EAAAA,SAAS,EAAE,8BAHb;AAKEC,EAAAA,MAAM,EAAE;AACN,IAAmC,iCAAA,EAAA,6BAAA;AAD7B,GALV;AASEC,EAAAA,2BATF,EASgC,YAAA;AAC5B,IAAKC,IAAAA,CAAAA,OAAL,CAAaC,QAAb,CAAsBC,OAAtB,CAA8B,cAA9B,EAA8C,6BAA9C,CAAA,CAD4B;;AAG5B,IAAA,IAAA,CAAKF,OAAL,CAAaC,QAAb,CAAsBC,OAAtB,CAA8B,4BAA9B,CAAA,CAAA;AACD,GAbH;AAeEC,EAAAA,KAfF,EAeU,YAAA;AACN,IAAA,OAAOC,GAAG,CAAC,2BAAD,EAA8B,OAA9B,CAAV,CAAA;AACD,GAjBH;AAmBEC,EAAAA,UAnBF,EAmBe,YAAA;AACXb,IAAAA,mBAAmB,CAACc,SAApB,CAA8BD,UAA9B,CAAyCE,KAAzC,CAA+C,IAA/C,EAAqDC,SAArD,CAAA,CAAA;AACA,IAAKC,IAAAA,CAAAA,GAAL,CAASC,wBAAT,CAAA,CAAA;AACD,GAtBH;AAwBEC,EAAAA,iBAxBF,EAwBsB,YAAA;AAClBnB,IAAAA,mBAAmB,CAACc,SAApB,CAA8BK,iBAA9B,CAAgDJ,KAAhD,CAAsD,IAAtD,EAA4DC,SAA5D,CAAA,CAAA;AACA,IAAA,IAAA,CAAKI,WAAL,EAAA,CAAA;AACA,IAAA,IAAA,CAAKC,GAAL,CAASC,IAAT,CAAc,4BAAd,EAA4CC,KAA5C,EAAA,CAAA;AACD,GA5BH;AA8BEC,EAAAA,UA9BF,EA8Be,YAAA;AACXxB,IAAAA,mBAAmB,CAACc,SAApB,CAA8BU,UAA9B,CAAyCT,KAAzC,CAA+C,IAA/C,EAAqDC,SAArD,CAAA,CAAA;AACA,IAAA,IAAA,CAAKS,SAAL,EAAA,CAAA;AACD,GAjCH;AAmCEA,EAAAA,SAnCF,EAmCc,YAAA;AACV,IAAA,IAAA,CAAKC,YAAL,EAAA,CAAA;AACA,IAAA,IAAA,CAAKC,UAAL,EAAA,CAAA;AACD,GAtCH;AAwCEC,EAAAA,QAxCF,EAwCa,YAAA;AACT,IAAA,IAAA,CAAKR,WAAL,EAAA,CAAA;AACD,GA1CH;AA4CEO,EAAAA,UA5CF,EA4Ce,YAAA;AACX,IAAA,IAAA,CAAKV,GAAL,CAASY,yBAAT,EAAoC,yBAApC,CAAA,CAAA;AACA,IAAA,IAAA,CAAKrB,OAAL,CAAaC,QAAb,CAAsBC,OAAtB,CAA8B,4BAA9B,CAAA,CAAA;AACD,GA/CH;AAiDEoB,EAAAA,MAjDF,EAiDW,YAAA;AACP9B,IAAAA,mBAAmB,CAACc,SAApB,CAA8BgB,MAA9B,CAAqCf,KAArC,CAA2C,IAA3C,EAAiDC,SAAjD,CAAA,CAAA;AACA,IAAA,IAAA,CAAKI,WAAL,EAAA,CAAA;AACD,GAAA;AApDH,CADsC,EAwDtCW,OAxDsC,CAA3B;;;;"}
{"version":3,"file":"SelectAuthenticatorVerifyView.js","sources":["../../../../../../src/v2/view-builder/views/SelectAuthenticatorVerifyView.js"],"sourcesContent":["import { BaseForm, BaseView } from '../internals';\nimport { createCallout, loc } from 'okta';\nimport BaseFooter from '../internals/BaseFooter';\nimport {getFactorPageCustomLink} from '../utils/LinksUtil';\n\nconst UNLOCK_USER_SUCCESS_MESSAGE = 'oie.selfservice.unlock_user.landing.to.app.success.message';\n\nexport const Body = BaseForm.extend({\n  title: function() {\n    if (this.isPasswordRecoveryFlow())  {\n      return loc('password.reset.title.generic', 'login');\n    }\n    return loc('oie.select.authenticators.verify.title', 'login');\n  },\n  subtitle: function() {\n    if (this.isPasswordRecoveryFlow())  {\n      return loc('oie.password.reset.verification', 'login');\n    }\n    if (this.isUnlockSuccess()) {\n      const container = '.o-form-error-container';\n      const text = loc('oie.select.authenticators.verify.subtitle', 'login');\n      this.add(`<div class=\"ion-messages-container\"><p>${text}</p></div>`, container);\n      return;\n    }\n    return loc('oie.select.authenticators.verify.subtitle', 'login');\n  },\n  isPasswordRecoveryFlow() {\n    return this.options.appState.get('isPasswordRecovery');\n  },\n  noButtonBar: true,\n  showMessages() {\n    if (this.isUnlockSuccess()) {\n      let options = {};\n      options.subtitle = loc('oie.selfservice.unlock_user.landing.to.app.success.message', 'login');\n      options.type = 'success';\n      options = createCallout(options);\n      BaseForm.prototype.showMessages.call(this, options);\n      return;\n    }\n    BaseForm.prototype.showMessages.call(this);\n  },\n  isUnlockSuccess() {\n    return this.options.appState.containsMessageWithI18nKey(UNLOCK_USER_SUCCESS_MESSAGE);\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n  Footer: BaseFooter.extend({\n    links() {\n      return getFactorPageCustomLink(this.options.appState, this.options.settings);\n    },\n  }),\n});\n"],"names":["UNLOCK_USER_SUCCESS_MESSAGE","Body","BaseForm","extend","title","isPasswordRecoveryFlow","loc","subtitle","isUnlockSuccess","container","text","add","options","appState","get","noButtonBar","showMessages","type","createCallout","prototype","call","containsMessageWithI18nKey","BaseView","Footer","BaseFooter","links","getFactorPageCustomLink","settings"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,MAAMA,2BAA2B,GAAG,4DAApC,CAAA;MAEaC,IAAI,GAAGC,QAAQ,CAACC,MAAT,CAAgB;AAClCC,EAAAA,KAAK,EAAE,YAAW;AAChB,IAAI,IAAA,IAAA,CAAKC,sBAAL,EAAJ,EAAoC;AAClC,MAAA,OAAOC,GAAG,CAAC,8BAAD,EAAiC,OAAjC,CAAV,CAAA;AACD,KAAA;;AACD,IAAA,OAAOA,GAAG,CAAC,wCAAD,EAA2C,OAA3C,CAAV,CAAA;AACD,GANiC;AAOlCC,EAAAA,QAAQ,EAAE,YAAW;AACnB,IAAI,IAAA,IAAA,CAAKF,sBAAL,EAAJ,EAAoC;AAClC,MAAA,OAAOC,GAAG,CAAC,iCAAD,EAAoC,OAApC,CAAV,CAAA;AACD,KAAA;;AACD,IAAI,IAAA,IAAA,CAAKE,eAAL,EAAJ,EAA4B;AAC1B,MAAMC,MAAAA,SAAS,GAAG,yBAAlB,CAAA;AACA,MAAA,MAAMC,IAAI,GAAGJ,GAAG,CAAC,2CAAD,EAA8C,OAA9C,CAAhB,CAAA;AACA,MAAA,IAAA,CAAKK,GAAL,CAAU,CAAA,uCAAA,EAAyCD,IAAK,CAAA,UAAA,CAAxD,EAAqED,SAArE,CAAA,CAAA;AACA,MAAA,OAAA;AACD,KAAA;;AACD,IAAA,OAAOH,GAAG,CAAC,2CAAD,EAA8C,OAA9C,CAAV,CAAA;AACD,GAlBiC;AAmBlCD,EAAAA,sBAnBkC,EAmBT,YAAA;AACvB,IAAO,OAAA,IAAA,CAAKO,OAAL,CAAaC,QAAb,CAAsBC,GAAtB,CAA0B,oBAA1B,CAAP,CAAA;AACD,GArBiC;AAsBlCC,EAAAA,WAAW,EAAE,IAtBqB;AAuBlCC,EAAAA,YAvBkC,EAuBnB,YAAA;AACb,IAAI,IAAA,IAAA,CAAKR,eAAL,EAAJ,EAA4B;AAC1B,MAAII,IAAAA,OAAO,GAAG,EAAd,CAAA;AACAA,MAAAA,OAAO,CAACL,QAAR,GAAmBD,GAAG,CAAC,4DAAD,EAA+D,OAA/D,CAAtB,CAAA;AACAM,MAAAA,OAAO,CAACK,IAAR,GAAe,SAAf,CAAA;AACAL,MAAAA,OAAO,GAAGM,aAAa,CAACN,OAAD,CAAvB,CAAA;AACAV,MAAAA,QAAQ,CAACiB,SAAT,CAAmBH,YAAnB,CAAgCI,IAAhC,CAAqC,IAArC,EAA2CR,OAA3C,CAAA,CAAA;AACA,MAAA,OAAA;AACD,KAAA;;AACDV,IAAAA,QAAQ,CAACiB,SAAT,CAAmBH,YAAnB,CAAgCI,IAAhC,CAAqC,IAArC,CAAA,CAAA;AACD,GAjCiC;AAkClCZ,EAAAA,eAlCkC,EAkChB,YAAA;AAChB,IAAO,OAAA,IAAA,CAAKI,OAAL,CAAaC,QAAb,CAAsBQ,0BAAtB,CAAiDrB,2BAAjD,CAAP,CAAA;AACD,GAAA;AApCiC,CAAhB,EAAb;AAuCP,oCAAesB,QAAQ,CAACnB,MAAT,CAAgB;AAC7BF,EAAAA,IAAI,EAAJA,IAD6B;AAE7BsB,EAAAA,MAAM,EAAEC,UAAU,CAACrB,MAAX,CAAkB;AACxBsB,IAAAA,KADwB,EAChB,YAAA;AACN,MAAOC,OAAAA,uBAAuB,CAAC,IAAA,CAAKd,OAAL,CAAaC,QAAd,EAAwB,IAAKD,CAAAA,OAAL,CAAae,QAArC,CAA9B,CAAA;AACD,KAAA;AAHuB,GAAlB,CAAA;AAFqB,CAAhB,CAAf;;;;"}
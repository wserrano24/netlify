{"version":3,"file":"ResendEmailView.js","sources":["../../../../../src/v1/views/ResendEmailView.js"],"sourcesContent":["/*!\n * Copyright (c) 2020-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _, View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport Enums from 'util/Enums';\nexport default View.extend({\n  className: 'hide resend-email-infobox',\n  template: hbs`\n      <div class=\"infobox infobox-warning\" aria-live=\"polite\">\n        <span class=\"icon warning-16\"></span>\n        <p>\n          <span>{{i18n code=\"email.code.not.received\" bundle=\"login\"}}</span>\n          <a href=\"#\" class=\"resend-email-btn\">\n          {{i18n code=\"email.button.resend\" bundle=\"login\"}}\n          </a>\n        </p>\n      </div>\n    `,\n\n  events: {\n    'click .resend-email-btn': 'resendEmail',\n  },\n\n  postRender: function() {\n    this.showResendCallout();\n  },\n\n  showResendCallout: function() {\n    _.delay(() => {\n      this.$el.removeClass('hide');\n    }, Enums.API_RATE_LIMIT);\n  },\n\n  hideResendCallout: function() {\n    this.$el.addClass('hide');\n  },\n\n  resendEmail: function(e) {\n    e.preventDefault();\n    this.hideResendCallout();\n    this.model.resend().finally(this.showResendCallout.bind(this));\n  },\n});\n"],"names":["View","extend","className","template","events","postRender","showResendCallout","_","delay","$el","removeClass","Enums","API_RATE_LIMIT","hideResendCallout","addClass","resendEmail","e","preventDefault","model","resend","finally","bind"],"mappings":"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"}
{"version":3,"file":"Footer.js","sources":["../../../../../../src/v1/views/expired-password/Footer.js"],"sourcesContent":["/*!\n * Copyright (c) 2017, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View, internal } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport Enums from 'util/Enums';\nconst { Util } = internal.util;\nexport default View.extend({\n  template: hbs(\n    '\\\n      {{#if passwordWarn}}\\\n        <a href=\"#\" class=\"link help js-skip\" data-se=\"skip-link\">\\\n          {{i18n code=\"password.expiring.later\" bundle=\"login\"}}\\\n        </a>\\\n      {{/if}}\\\n      <a href=\"#\" class=\"link help goto js-signout\" data-se=\"signout-link\">\\\n        {{i18n code=\"signout\" bundle=\"login\"}}\\\n      </a>\\\n    '\n  ),\n  className: 'auth-footer clearfix',\n  events: {\n    'click .js-signout': function(e) {\n      e.preventDefault();\n      const self = this;\n      const authClient = self.settings.authClient;\n\n      this.model\n        .doTransaction(function(transaction) {\n          return transaction.cancel();\n        })\n        .then(function() {\n          return authClient.session.exists();\n        })\n        .then(function(sessionExists) {\n          if (sessionExists) {\n            return authClient.closeSession().catch(() => {});\n          }\n        })\n        .then(function() {\n          if (self.settings.get('backToSignInUri')) {\n            Util.redirect(self.settings.get('backToSignInUri'));\n          } else {\n            self.state.set('navigateDir', Enums.DIRECTION_BACK);\n            self.options.appState.trigger('navigate', '');\n          }\n        });\n    },\n    'click .js-skip': function(e) {\n      e.preventDefault();\n      this.model.doTransaction(function(transaction) {\n        return transaction.skip();\n      });\n    },\n  },\n  getTemplateData: function() {\n    return { passwordWarn: this.options.appState.get('isPwdExpiringSoon') };\n  },\n});\n"],"names":["Util","internal","util","View","extend","template","className","events","e","preventDefault","self","authClient","settings","model","doTransaction","transaction","cancel","then","session","exists","sessionExists","closeSession","catch","get","redirect","state","set","Enums","DIRECTION_BACK","options","appState","trigger","skip","getTemplateData","passwordWarn"],"mappings":"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"}
{"version":3,"file":"AppState.js","sources":["../../../../../src/v1/models/AppState.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _, $, loc, Model } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport Factor from 'v1/models/Factor';\nimport Q from 'q';\nimport BrowserFeatures from 'util/BrowserFeatures';\nimport { UnsupportedBrowserError } from 'util/Errors';\nconst DEFAULT_APP_LOGO = '/img/logos/default.png';\n\n// Keep track of stateMachine with this special model. Some reasons to not\n// keep it generic:\n// 1. We know exactly what we're using appState for by requiring props\n// 2. Can have some derived functions to help us translate the lastAuthRes\n\nconst USER_NOT_SEEN_ON_DEVICE = '/img/security/unknown.png';\nconst UNDEFINED_USER = '/img/security/default.png';\nconst NEW_USER = '/img/security/unknown-device.png';\nconst NEW_USER_IMAGE_DESCRIPTION = '';\nconst UNDEFINED_USER_IMAGE_DESCRIPTION = '';\nconst UNKNOWN_IMAGE_DESCRIPTION = '';\nconst securityImageUrlTpl = hbs('{{baseUrl}}/login/getimage?username={{username}}');\n\nfunction getSecurityImage(baseUrl, username, deviceFingerprint) {\n  // When the username is empty, we want to show the default image.\n  if (_.isEmpty(username) || _.isUndefined(username)) {\n    return Q({\n      securityImage: UNDEFINED_USER,\n      securityImageDescription: UNDEFINED_USER_IMAGE_DESCRIPTION,\n    });\n  }\n\n  // Reserved characters in the username must be escaped before the query can be safely executed\n  username = encodeURIComponent(username);\n  const url = securityImageUrlTpl({ baseUrl: baseUrl, username: username });\n  const data = {\n    url: url,\n    dataType: 'json',\n  };\n\n  if (deviceFingerprint) {\n    data['headers'] = { 'X-Device-Fingerprint': deviceFingerprint };\n  }\n  return Q($.ajax(data)).then(function(res) {\n    if (res.pwdImg === USER_NOT_SEEN_ON_DEVICE) {\n      // When we get an unknown.png security image from OKTA,\n      // we want to show the unknown-device security image.\n      // We are mapping the server's img url to a new one because\n      // we still need to support the original login page.\n      return {\n        securityImage: NEW_USER,\n        securityImageDescription: NEW_USER_IMAGE_DESCRIPTION,\n      };\n    }\n    return {\n      securityImage: res.pwdImg,\n      securityImageDescription: res.imageDescription || UNKNOWN_IMAGE_DESCRIPTION,\n    };\n  });\n}\n\nfunction getMinutesString(factorLifetimeInMinutes) {\n  if (factorLifetimeInMinutes > 60 && factorLifetimeInMinutes <= 1440) {\n    const lifetimeInHours = factorLifetimeInMinutes / 60;\n\n    return loc('hours', 'login', [lifetimeInHours]);\n  } else if (factorLifetimeInMinutes > 1440) {\n    const lifetimeInDays = factorLifetimeInMinutes / 1440;\n\n    return loc('days', 'login', [lifetimeInDays]);\n  }\n  //Use minutes as the time unit by default\n  if (factorLifetimeInMinutes === 1) {\n    return loc('minutes.oneMinute', 'login');\n  }\n  return loc('minutes', 'login', [factorLifetimeInMinutes]);\n}\n\nfunction getGracePeriodRemainingDays(gracePeriodEndDate) {\n  const endDate = new Date(gracePeriodEndDate).getTime();\n  const remainingDays = Math.floor((endDate - new Date().getTime()) / (1000 * 3600 * 24));\n\n  return remainingDays;\n}\n\nfunction combineFactorsObjects(factorTypes, factors) {\n  const addedFactorTypes = [];\n  const combinedFactors = [];\n\n  _.each(factors, function(factor) {\n    const factorType = factor.factorType;\n\n    if (!_.contains(addedFactorTypes, factorType)) {\n      const factorTypeObj = _.findWhere(factorTypes, { factorType: factorType });\n\n      if (factorTypeObj) {\n        addedFactorTypes.push(factorType);\n        combinedFactors.push(factorTypeObj);\n      } else {\n        combinedFactors.push(factor);\n      }\n    }\n  });\n  return combinedFactors;\n}\n\nexport default Model.extend({\n  initialize: function() {\n    // Handle this in initialize (as opposed to a derived property) because\n    // the operation is asynchronous\n    if (this.settings.get('features.securityImage')) {\n      const self = this;\n\n      this.listenTo(this, 'change:username', function(model, username) {\n        getSecurityImage(this.get('baseUrl'), username, this.get('deviceFingerprint'))\n          .then(function(image) {\n            model.set('securityImage', image.securityImage);\n            model.set('securityImageDescription', image.securityImageDescription);\n            model.unset('deviceFingerprint'); //Fingerprint can only be used once\n          })\n          .fail(function(jqXhr) {\n            // Only notify the consumer on a CORS error\n            if (BrowserFeatures.corsIsNotEnabled(jqXhr)) {\n              self.settings.callGlobalError(new UnsupportedBrowserError(loc('error.enabled.cors')));\n            } else {\n              throw jqXhr;\n            }\n          })\n          .done();\n      });\n    }\n  },\n\n  local: {\n    baseUrl: 'string',\n    lastAuthResponse: ['object', true, {}],\n    transaction: 'object',\n    transactionError: 'object',\n    username: 'string',\n    factors: 'object',\n    policy: 'object',\n    securityImage: ['string', true, UNDEFINED_USER],\n    securityImageDescription: ['string', true, UNDEFINED_USER_IMAGE_DESCRIPTION],\n    userCountryCode: 'string',\n    userPhoneNumber: 'string',\n    factorActivationType: 'string',\n    flashError: 'object',\n    beaconType: 'string',\n    deviceFingerprint: 'string', // valid only once\n    typingPattern: 'string',\n    // Note: languageCode is special in that it is shared between Settings\n    // and AppState. Settings is the *configured* language, and is static.\n    // AppState is the dynamic language state - it can be changed via a\n    // language picker, etc.\n    // Note: this is conceptial feasible but not yet being implemented.\n    languageCode: ['string', true],\n    disableUsername: ['boolean', false, false],\n    trapMfaRequiredResponse: ['boolean', false, false],\n    lastFailedChallengeFactorData: ['object', false],\n  },\n\n  setAuthResponse: function(res) {\n    // Because of MFA_CHALLENGE (i.e. DUO), we need to remember factors\n    // across auth responses. Not doing this, for example, results in being\n    // unable to switch away from the duo factor dropdown.\n    if (res._embedded && res._embedded.policy) {\n      this.set('policy', res._embedded.policy);\n    }\n\n    if (res._embedded && res._embedded.factors) {\n      let factors = res._embedded.factors;\n\n      if (res._embedded.factorTypes) {\n        factors = combineFactorsObjects(res._embedded.factorTypes, factors);\n      }\n\n      const factorsObject = _.map(factors, factor => {\n        factor.settings = this.settings;\n        factor.appState = this;\n        return factor;\n      });\n\n      this.set('factors', new Factor.Collection(factorsObject, { parse: true }));\n    }\n\n    this.set('lastAuthResponse', res);\n  },\n\n  clearLastAuthResponse: function() {\n    this.set('lastAuthResponse', {});\n  },\n\n  setLastFailedChallengeFactorData: function() {\n    this.set('lastFailedChallengeFactorData', {\n      factor: this.get('factor'),\n      errorMessage: this.get('factorResultErrorMessage'),\n    });\n  },\n\n  clearLastFailedChallengeFactorData: function() {\n    this.unset('lastFailedChallengeFactorData');\n  },\n\n  getUser: function() {\n    return this.get('user');\n  },\n\n  derived: {\n    isSuccessResponse: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'SUCCESS';\n      },\n    },\n    isMfaRequired: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'MFA_REQUIRED' || res.status === 'FACTOR_REQUIRED';\n      },\n    },\n    isProfileRequired: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'PROFILE_REQUIRED';\n      },\n    },\n    isMfaEnroll: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'MFA_ENROLL' || res.status === 'FACTOR_ENROLL';\n      },\n    },\n    isMfaChallenge: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'MFA_CHALLENGE' || res.status === 'FACTOR_CHALLENGE';\n      },\n    },\n    isSMSPasswordRecovery: {\n      deps: ['lastAuthResponse'],\n      fn: function({ status, factorType, recoveryType }) {\n        return status === 'RECOVERY_CHALLENGE' &&\n          factorType?.toLowerCase() === 'sms' &&\n          recoveryType?.toLowerCase() === 'password';\n      }\n    },\n    isUnauthenticated: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'UNAUTHENTICATED';\n      },\n    },\n    isMfaRejected: {\n      // MFA failures are usually error responses\n      // except in the case of Okta Push, when a\n      // user clicks 'deny' on his phone or OV app\n      // version is below a required version no.\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.factorResult === 'REJECTED';\n      },\n    },\n    isMfaTimeout: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.factorResult === 'TIMEOUT';\n      },\n    },\n    isMfaEnrollActivate: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'MFA_ENROLL_ACTIVATE' || res.status === 'FACTOR_ENROLL_ACTIVATE';\n      },\n    },\n    isWaitingForActivation: {\n      deps: ['isMfaEnrollActivate', 'lastAuthResponse'],\n      fn: function(isMfaEnrollActivate, res) {\n        return isMfaEnrollActivate && res.factorResult === 'WAITING';\n      },\n    },\n    isWaitingForNumberChallenge: {\n      deps: ['lastAuthResponse', 'isMfaChallenge'],\n      fn: function(res, isMfaChallenge) {\n        if (\n          isMfaChallenge &&\n          res &&\n          res.factorResult === 'WAITING' &&\n          res._embedded &&\n          res._embedded.factor &&\n          res._embedded.factor._embedded &&\n          res._embedded.factor._embedded.challenge\n        ) {\n          return true;\n        }\n        return false;\n      },\n    },\n    hasMultipleFactorsAvailable: {\n      deps: ['factors', 'isMfaRequired', 'isMfaChallenge', 'isUnauthenticated'],\n      fn: function(factors, isMfaRequired, isMfaChallenge, isUnauthenticated) {\n        if (!isMfaRequired && !isMfaChallenge && !isUnauthenticated) {\n          return false;\n        }\n        return factors && factors.length > 1;\n      },\n    },\n    promptForFactorInUnauthenticated: {\n      deps: ['lastAuthResponse', 'factors'],\n      fn: function(res, factors) {\n        if (res.status !== 'UNAUTHENTICATED') {\n          return false;\n        }\n        return factors && factors.length > 0;\n      },\n    },\n    userId: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded || !res._embedded.user) {\n          return null;\n        }\n        return res._embedded.user.id;\n      },\n    },\n    isIdxStateToken: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res && _.isString(res.stateToken) && res.stateToken.startsWith('01');\n      },\n    },\n    isPwdExpiringSoon: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'PASSWORD_WARN';\n      },\n    },\n    passwordExpireDays: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded || !res._embedded.policy || !res._embedded.policy.expiration) {\n          return null;\n        }\n        return res._embedded.policy.expiration.passwordExpireDays;\n      },\n    },\n    isPwdManagedByOkta: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._links || !res._links.next || !res._links.next.title) {\n          return true;\n        }\n        return false;\n      },\n    },\n    passwordExpiredWebsiteName: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._links || !res._links.next || !res._links.next.title) {\n          return null;\n        }\n        return res._links.next.title;\n      },\n    },\n    passwordExpiredLinkUrl: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._links || !res._links.next || !res._links.next.title || !res._links.next.href) {\n          return null;\n        }\n        return res._links.next.href;\n      },\n    },\n    recoveryType: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.recoveryType;\n      },\n    },\n    factorType: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.factorType;\n      },\n    },\n    factor: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded || !res._embedded.factor) {\n          return null;\n        }\n        return res._embedded.factor;\n      },\n    },\n    activatedFactorId: {\n      deps: ['factor'],\n      fn: function(factor) {\n        return factor ? factor.id : null;\n      },\n    },\n    activatedFactorType: {\n      deps: ['factor'],\n      fn: function(factor) {\n        return factor ? factor.factorType : null;\n      },\n    },\n    activatedFactorProvider: {\n      deps: ['factor'],\n      fn: function(factor) {\n        return factor ? factor.provider : null;\n      },\n    },\n    qrcode: {\n      deps: ['factor'],\n      fn: function(factor) {\n        try {\n          return factor._embedded.activation._links.qrcode.href;\n        } catch (err) {\n          return null;\n        }\n      },\n    },\n    activationSendLinks: {\n      deps: ['factor'],\n      fn: function(factor) {\n        let sendLinks;\n\n        try {\n          sendLinks = factor._embedded.activation._links.send;\n        } catch (err) {\n          sendLinks = [];\n        }\n        return sendLinks;\n      },\n    },\n    textActivationLinkUrl: {\n      deps: ['activationSendLinks'],\n      fn: function(activationSendLinks) {\n        const item = _.findWhere(activationSendLinks, { name: 'sms' });\n\n        return item ? item.href : null;\n      },\n    },\n    emailActivationLinkUrl: {\n      deps: ['activationSendLinks'],\n      fn: function(activationSendLinks) {\n        const item = _.findWhere(activationSendLinks, { name: 'email' });\n\n        return item ? item.href : null;\n      },\n    },\n    sharedSecret: {\n      deps: ['factor'],\n      fn: function(factor) {\n        try {\n          return factor._embedded.activation.sharedSecret;\n        } catch (err) {\n          return null;\n        }\n      },\n    },\n    duoEnrollActivation: {\n      deps: ['factor'],\n      fn: function(factor) {\n        if (!factor || !factor._embedded || !factor._embedded.activation) {\n          return null;\n        }\n        return factor._embedded.activation;\n      },\n    },\n    prevLink: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (res._links && res._links.prev) {\n          return res._links.prev.href;\n        }\n        return null;\n      },\n    },\n    skipLink: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (res._links && res._links.skip) {\n          return res._links.skip.href;\n        }\n        return null;\n      },\n    },\n    gracePeriodRemainingDays: {\n      deps: ['policy'],\n      fn: function(policy) {\n        if (policy && policy.gracePeriod && policy.gracePeriod.endDate) {\n          return getGracePeriodRemainingDays(policy.gracePeriod.endDate);\n        }\n        return null;\n      },\n    },\n    user: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded || !res._embedded.user) {\n          return null;\n        }\n        return res._embedded.user;\n      },\n    },\n    recoveryQuestion: {\n      deps: ['user'],\n      fn: function(user) {\n        if (!user || !user.recovery_question) {\n          return null;\n        }\n        return user.recovery_question.question;\n      },\n    },\n    userProfile: {\n      deps: ['user'],\n      fn: function(user) {\n        if (!user || !user.profile) {\n          return null;\n        }\n        return user.profile;\n      },\n    },\n    userConsentName: {\n      deps: ['userProfile', 'username'],\n      fn: function(userProfile, username) {\n        if (!userProfile || _.isEmpty(userProfile.firstName)) {\n          return username;\n        }\n        if (_.isEmpty(userProfile.lastName)) {\n          return userProfile.firstName;\n        }\n        return userProfile.firstName + ' ' + userProfile.lastName.charAt(0) + '.';\n      },\n    },\n    userEmail: {\n      deps: ['userProfile'],\n      fn: function(userProfile) {\n        if (!userProfile || !userProfile.login) {\n          return null;\n        }\n        return userProfile.login;\n      },\n    },\n    userFullName: {\n      deps: ['userProfile'],\n      fn: function(userProfile) {\n        if (!userProfile || (!userProfile.firstName && !userProfile.lastName)) {\n          return '';\n        }\n        return userProfile.firstName + ' ' + userProfile.lastName;\n      },\n    },\n    defaultAppLogo: {\n      deps: ['baseUrl'],\n      fn: function(baseUrl) {\n        return baseUrl + DEFAULT_APP_LOGO;\n      },\n    },\n    expiresAt: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.expiresAt;\n      },\n    },\n    target: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded) {\n          return null;\n        }\n        return res._embedded.target;\n      },\n    },\n    targetLabel: {\n      deps: ['target'],\n      fn: function(target) {\n        if (!target) {\n          return null;\n        }\n        return target.label;\n      },\n    },\n    targetLogo: {\n      deps: ['target'],\n      fn: function(target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links.logo;\n      },\n    },\n    targetTermsOfService: {\n      deps: ['target'],\n      fn: function(target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links['terms-of-service'];\n      },\n    },\n    targetPrivacyPolicy: {\n      deps: ['target'],\n      fn: function(target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links['privacy-policy'];\n      },\n    },\n    targetClientURI: {\n      deps: ['target'],\n      fn: function(target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links['client-uri'];\n      },\n    },\n    scopes: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded) {\n          return null;\n        }\n        return res._embedded.scopes;\n      },\n    },\n    issuer: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res?._embedded?.authentication?.issuer?.uri;\n      }\n    },\n    hasExistingPhones: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded || !res._embedded.factors) {\n          return false;\n        }\n        const factors = res._embedded.factors;\n\n        const factor = _.findWhere(factors, { factorType: 'sms', provider: 'OKTA' });\n\n        if (!factor || !factor._embedded) {\n          return false;\n        }\n\n        return !!factor._embedded.phones.length;\n      },\n    },\n    hasExistingPhonesForCall: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded || !res._embedded.factors) {\n          return false;\n        }\n        const factors = res._embedded.factors;\n\n        const factor = _.findWhere(factors, { factorType: 'call', provider: 'OKTA' });\n\n        if (!factor || !factor._embedded) {\n          return false;\n        }\n\n        return !!factor._embedded.phones.length;\n      },\n    },\n    isUndefinedUser: {\n      deps: ['securityImage'],\n      fn: function(securityImage) {\n        return securityImage === UNDEFINED_USER;\n      },\n    },\n    isNewUser: {\n      deps: ['securityImage'],\n      fn: function(securityImage) {\n        return securityImage === NEW_USER;\n      },\n    },\n    allowRememberDevice: {\n      deps: ['policy'],\n      fn: function(policy) {\n        return policy && policy.allowRememberDevice;\n      },\n    },\n    rememberDeviceLabel: {\n      deps: ['policy'],\n      fn: function(policy) {\n        if (policy && policy.rememberDeviceLifetimeInMinutes > 0) {\n          const timeString = getMinutesString(policy.rememberDeviceLifetimeInMinutes);\n\n          return loc('rememberDevice.timebased', 'login', [timeString]);\n        } else if (policy && policy.rememberDeviceLifetimeInMinutes === 0) {\n          return loc('rememberDevice.devicebased', 'login');\n        }\n        return loc('rememberDevice', 'login');\n      },\n    },\n    rememberDeviceByDefault: {\n      deps: ['policy'],\n      fn: function(policy) {\n        return policy && policy.rememberDeviceByDefault;\n      },\n    },\n    factorsPolicyInfo: {\n      deps: ['policy'],\n      fn: function(policy) {\n        return policy && policy.factorsPolicyInfo ? policy.factorsPolicyInfo : null;\n      },\n    },\n    verifyCustomFactorRedirectUrl: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._links || !res._links.next || res._links.next.name !== 'redirect' || !res._links.next.href) {\n          return null;\n        }\n        return res._links.next.href;\n      },\n    },\n    enrollCustomFactorRedirectUrl: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._links || !res._links.next || res._links.next.name !== 'activate' || !res._links.next.href) {\n          return null;\n        }\n        return res._links.next.href;\n      },\n    },\n    isFactorResultFailed: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.factorResult === 'FAILED';\n      },\n    },\n    factorResultErrorMessage: {\n      deps: ['lastAuthResponse', 'isFactorResultFailed'],\n      fn: function(res, isFactorResultFailed) {\n        if (isFactorResultFailed) {\n          return res.factorResultMessage || loc('oform.error.unexpected', 'login');\n        }\n        return null;\n      },\n    },\n    deviceActivationStatus: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded) {\n          return null;\n        }\n        return res._embedded.deviceActivationStatus;\n      },\n    },\n    usingDeviceFlow: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return !!(res._embedded && res._embedded.usingDeviceFlow);\n      },\n    },\n    userCode: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res?._embedded?.userCode;\n      },\n    },\n  },\n\n  parse: function(options) {\n    this.settings = options.settings;\n    return _.extend(_.omit(options, 'settings'), {\n      languageCode: this.settings.get('languageCode'),\n      userCountryCode: this.settings.get('countryCode'),\n    });\n  },\n});\n"],"names":["DEFAULT_APP_LOGO","USER_NOT_SEEN_ON_DEVICE","UNDEFINED_USER","NEW_USER","NEW_USER_IMAGE_DESCRIPTION","UNDEFINED_USER_IMAGE_DESCRIPTION","UNKNOWN_IMAGE_DESCRIPTION","securityImageUrlTpl","getSecurityImage","baseUrl","username","deviceFingerprint","_","isEmpty","isUndefined","Q","securityImage","securityImageDescription","encodeURIComponent","url","data","dataType","$","ajax","then","res","pwdImg","imageDescription","getMinutesString","factorLifetimeInMinutes","lifetimeInHours","loc","lifetimeInDays","getGracePeriodRemainingDays","gracePeriodEndDate","endDate","Date","getTime","remainingDays","Math","floor","combineFactorsObjects","factorTypes","factors","addedFactorTypes","combinedFactors","each","factor","factorType","contains","factorTypeObj","findWhere","push","Model","extend","initialize","settings","get","self","listenTo","model","image","set","unset","fail","jqXhr","BrowserFeatures","corsIsNotEnabled","callGlobalError","UnsupportedBrowserError","done","local","lastAuthResponse","transaction","transactionError","policy","userCountryCode","userPhoneNumber","factorActivationType","flashError","beaconType","typingPattern","languageCode","disableUsername","trapMfaRequiredResponse","lastFailedChallengeFactorData","setAuthResponse","_embedded","factorsObject","map","appState","Factor","Collection","parse","clearLastAuthResponse","setLastFailedChallengeFactorData","errorMessage","clearLastFailedChallengeFactorData","getUser","derived","isSuccessResponse","deps","fn","status","isMfaRequired","isProfileRequired","isMfaEnroll","isMfaChallenge","isSMSPasswordRecovery","recoveryType","toLowerCase","isUnauthenticated","isMfaRejected","factorResult","isMfaTimeout","isMfaEnrollActivate","isWaitingForActivation","isWaitingForNumberChallenge","challenge","hasMultipleFactorsAvailable","length","promptForFactorInUnauthenticated","userId","user","id","isIdxStateToken","isString","stateToken","startsWith","isPwdExpiringSoon","passwordExpireDays","expiration","isPwdManagedByOkta","_links","next","title","passwordExpiredWebsiteName","passwordExpiredLinkUrl","href","activatedFactorId","activatedFactorType","activatedFactorProvider","provider","qrcode","activation","err","activationSendLinks","sendLinks","send","textActivationLinkUrl","item","name","emailActivationLinkUrl","sharedSecret","duoEnrollActivation","prevLink","prev","skipLink","skip","gracePeriodRemainingDays","gracePeriod","recoveryQuestion","recovery_question","question","userProfile","profile","userConsentName","firstName","lastName","charAt","userEmail","login","userFullName","defaultAppLogo","expiresAt","target","targetLabel","label","targetLogo","logo","targetTermsOfService","targetPrivacyPolicy","targetClientURI","scopes","issuer","authentication","uri","hasExistingPhones","phones","hasExistingPhonesForCall","isUndefinedUser","isNewUser","allowRememberDevice","rememberDeviceLabel","rememberDeviceLifetimeInMinutes","timeString","rememberDeviceByDefault","factorsPolicyInfo","verifyCustomFactorRedirectUrl","enrollCustomFactorRedirectUrl","isFactorResultFailed","factorResultErrorMessage","factorResultMessage","deviceActivationStatus","usingDeviceFlow","userCode","options","omit"],"mappings":"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"}
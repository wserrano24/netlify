{"version":3,"file":"RecoveryLoadingController.js","sources":["../../../../../src/v1/controllers/RecoveryLoadingController.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport FormController from 'v1/util/FormController';\nexport default FormController.extend({\n  className: 'recovery-loading',\n\n  Model: {},\n  Form: {\n    noButtonBar: true,\n  },\n\n  initialize: function(options) {\n    const self = this;\n\n    return this.model\n      .startTransaction(function(authClient) {\n        return authClient.verifyRecoveryToken({\n          recoveryToken: options.token,\n        });\n      })\n      .catch(function() {\n        self.options.appState.trigger('loading', false);\n        self.options.appState.trigger('removeLoading');\n      });\n  },\n\n  preRender: function() {\n    this.options.appState.trigger('loading', true);\n  },\n\n  trapAuthResponse: function() {\n    this.options.appState.trigger('loading', false);\n    return false;\n  },\n});\n"],"names":["FormController","extend","className","Model","Form","noButtonBar","initialize","options","self","model","startTransaction","authClient","verifyRecoveryToken","recoveryToken","token","catch","appState","trigger","preRender","trapAuthResponse"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,gCAAeA,cAAc,CAACC,MAAf,CAAsB;AACnCC,EAAAA,SAAS,EAAE,kBADwB;AAGnCC,EAAAA,KAAK,EAAE,EAH4B;AAInCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,WAAW,EAAE,IAAA;AADT,GAJ6B;AAQnCC,EAAAA,UAAU,EAAE,UAASC,OAAT,EAAkB;AAC5B,IAAMC,MAAAA,IAAI,GAAG,IAAb,CAAA;AAEA,IAAA,OAAO,KAAKC,KAAL,CACJC,gBADI,CACa,UAASC,UAAT,EAAqB;AACrC,MAAOA,OAAAA,UAAU,CAACC,mBAAX,CAA+B;AACpCC,QAAAA,aAAa,EAAEN,OAAO,CAACO,KAAAA;AADa,OAA/B,CAAP,CAAA;AAGD,KALI,CAAA,CAMJC,KANI,CAME,YAAW;AAChBP,MAAAA,IAAI,CAACD,OAAL,CAAaS,QAAb,CAAsBC,OAAtB,CAA8B,SAA9B,EAAyC,KAAzC,CAAA,CAAA;AACAT,MAAAA,IAAI,CAACD,OAAL,CAAaS,QAAb,CAAsBC,OAAtB,CAA8B,eAA9B,CAAA,CAAA;AACD,KATI,CAAP,CAAA;AAUD,GArBkC;AAuBnCC,EAAAA,SAAS,EAAE,YAAW;AACpB,IAAKX,IAAAA,CAAAA,OAAL,CAAaS,QAAb,CAAsBC,OAAtB,CAA8B,SAA9B,EAAyC,IAAzC,CAAA,CAAA;AACD,GAzBkC;AA2BnCE,EAAAA,gBAAgB,EAAE,YAAW;AAC3B,IAAKZ,IAAAA,CAAAA,OAAL,CAAaS,QAAb,CAAsBC,OAAtB,CAA8B,SAA9B,EAAyC,KAAzC,CAAA,CAAA;AACA,IAAA,OAAO,KAAP,CAAA;AACD,GAAA;AA9BkC,CAAtB,CAAf;;;;"}
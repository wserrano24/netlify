{"version":3,"file":"PwdResetEmailSentController.js","sources":["../../../../../src/v1/controllers/PwdResetEmailSentController.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _, loc, View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport Enums from 'util/Enums';\nimport FormController from 'v1/util/FormController';\nimport FormType from 'v1/util/FormType';\nexport default FormController.extend({\n  className: 'password-reset-email-sent',\n  Model: function() {\n    return {\n      local: {\n        userFullName: ['string', false, this.options.appState.get('userFullName')],\n      },\n    };\n  },\n\n  Form: {\n    title: _.partial(loc, 'password.forgot.emailSent.title', 'login'),\n    subtitle: function() {\n      const username = this.options.appState.get('username');\n\n      return loc('password.forgot.emailSent.desc', 'login', [username]);\n    },\n    noButtonBar: true,\n    attributes: { 'data-se': 'pwd-reset-email-sent' },\n    formChildren: function() {\n      let children = [\n        FormType.View({\n          View: View.extend({\n            template: hbs(\n              '\\\n              <span class=\"accessibility-text\" role=\"status\">{{alert}}</span>\\\n              '\n            ),\n            getTemplateData: function() {\n              return { alert: loc('password.forgot.emailSent.title', 'login') };\n            },\n          }),\n        }),\n      ];\n\n      if (!this.settings.get('features.hideBackToSignInForReset')) {\n        children.push(\n          FormType.Button({\n            title: loc('goback', 'login'),\n            className: 'button button-primary button-wide',\n            attributes: { 'data-se': 'back-button' },\n            click: function() {\n              const self = this;\n\n              return this.model\n                .doTransaction(function(transaction) {\n                  return transaction.cancel();\n                })\n                .then(function() {\n                  self.state.set('navigateDir', Enums.DIRECTION_BACK);\n                  self.options.appState.trigger('navigate', '');\n                });\n            },\n          })\n        );\n      }\n\n      return children;\n    },\n  },\n\n  initialize: function(options) {\n    this.settings.callGlobalSuccess(Enums.FORGOT_PASSWORD_EMAIL_SENT, {\n      username: options.appState.get('username'),\n    });\n  },\n});\n"],"names":["FormController","extend","className","Model","local","userFullName","options","appState","get","Form","title","_","partial","loc","subtitle","username","noButtonBar","attributes","formChildren","children","FormType","View","template","getTemplateData","alert","settings","push","Button","click","self","model","doTransaction","transaction","cancel","then","state","set","Enums","DIRECTION_BACK","trigger","initialize","callGlobalSuccess","FORGOT_PASSWORD_EMAIL_SENT"],"mappings":"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"}
{"version":3,"file":"CustomPasswordExpiredController.js","sources":["../../../../../src/v1/controllers/CustomPasswordExpiredController.js"],"sourcesContent":["/*!\n * Copyright (c) 2017, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _, loc, internal } from 'okta';\nimport FormController from 'v1/util/FormController';\nimport FormType from 'v1/util/FormType';\nimport Footer from 'v1/views/expired-password/Footer';\nconst { Util } = internal.util;\nexport default FormController.extend({\n  className: 'custom-password-expired',\n  Model: {},\n  Form: {\n    noButtonBar: true,\n    title: function() {\n      const expiringSoon = this.options.appState.get('isPwdExpiringSoon');\n      const numDays = this.options.appState.get('passwordExpireDays');\n\n      if (expiringSoon && numDays > 0) {\n        return loc('password.expiring.title', 'login', [numDays]);\n      } else if (expiringSoon && numDays === 0) {\n        return loc('password.expiring.today', 'login');\n      } else if (expiringSoon) {\n        return loc('password.expiring.soon', 'login');\n      } else {\n        return this.settings.get('brandName')\n          ? loc('password.expired.title.specific', 'login', [this.settings.get('brandName')])\n          : loc('password.expired.title.generic', 'login');\n      }\n    },\n    subtitle: function() {\n      if (this.options.appState.get('isPwdExpiringSoon')) {\n        const subtitle = this.settings.get('brandName')\n          ? loc('password.expiring.subtitle.specific', 'login', [this.settings.get('brandName')])\n          : loc('password.expiring.subtitle.generic', 'login');\n\n        return subtitle + ' ' + loc('password.expired.custom.subtitle', 'login');\n      }\n\n      return loc('password.expired.custom.subtitle', 'login');\n    },\n    formChildren: function() {\n      return [\n        FormType.Button({\n          title: _.partial(loc, 'password.expired.custom.submit', 'login', [\n            this.options.appState.get('passwordExpiredWebsiteName'),\n          ]),\n          className: 'button button-primary button-wide',\n          attributes: { 'data-se': 'custom-button' },\n          click: function() {\n            Util.redirect(this.options.appState.get('passwordExpiredLinkUrl'));\n          },\n        }),\n      ];\n    },\n  },\n  Footer: Footer,\n});\n"],"names":["Util","internal","util","FormController","extend","className","Model","Form","noButtonBar","title","expiringSoon","options","appState","get","numDays","loc","settings","subtitle","formChildren","FormType","Button","_","partial","attributes","click","redirect","Footer"],"mappings":"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"}
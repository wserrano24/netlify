{"version":3,"file":"createRouter.js","sources":["../../../../src/widget/createRouter.js"],"sourcesContent":["import { $ } from 'okta';\nimport Enums from 'util/Enums';\n\nexport default function createRouter(Router, widgetOptions, renderOptions, authClient, successFn, errorFn, hooks) {\n  let resolve;\n  let reject;\n  const promise = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  const routerOptions = $.extend(true, {}, widgetOptions, renderOptions, {\n    authClient,\n    hooks,\n    globalSuccessFn: (res) => {\n      successFn && successFn(res); // call success function if provided\n      if (res && res.status === Enums.SUCCESS) {\n        resolve(res);\n      }\n    },\n    globalErrorFn: (error) => {\n      errorFn && errorFn(error); // call error function if provided\n      reject(error);\n    }\n  });\n  const router = new Router(routerOptions);\n  router.start();\n  return {\n    router,\n    routerOptions,\n    promise\n  };\n}\n\n"],"names":["createRouter","Router","widgetOptions","renderOptions","authClient","successFn","errorFn","hooks","resolve","reject","promise","Promise","_resolve","_reject","routerOptions","$","extend","globalSuccessFn","res","status","Enums","SUCCESS","globalErrorFn","error","router","start"],"mappings":";;;;;;;;;;;;;;;;;;AAGe,SAASA,YAAT,CAAsBC,MAAtB,EAA8BC,aAA9B,EAA6CC,aAA7C,EAA4DC,UAA5D,EAAwEC,SAAxE,EAAmFC,OAAnF,EAA4FC,KAA5F,EAAmG;AAChH,EAAA,IAAIC,OAAJ,CAAA;AACA,EAAA,IAAIC,MAAJ,CAAA;AACA,EAAMC,MAAAA,OAAO,GAAG,IAAIC,OAAJ,CAAY,CAACC,QAAD,EAAWC,OAAX,KAAuB;AACjDL,IAAAA,OAAO,GAAGI,QAAV,CAAA;AACAH,IAAAA,MAAM,GAAGI,OAAT,CAAA;AACD,GAHe,CAAhB,CAAA;AAIA,EAAA,MAAMC,aAAa,GAAGC,gBAAC,CAACC,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBd,aAAnB,EAAkCC,aAAlC,EAAiD;AACrEC,IAAAA,UAAU,EAAVA,UADqE;AAErEG,IAAAA,KAAK,EAALA,KAFqE;AAGrEU,IAAAA,eAAe,EAAGC,GAAD,IAAS;AACxBb,MAAAA,SAAS,IAAIA,SAAS,CAACa,GAAD,CAAtB,CADwB;;AAExB,MAAIA,IAAAA,GAAG,IAAIA,GAAG,CAACC,MAAJ,KAAeC,KAAK,CAACC,OAAhC,EAAyC;AACvCb,QAAAA,OAAO,CAACU,GAAD,CAAP,CAAA;AACD,OAAA;AACF,KARoE;AASrEI,IAAAA,aAAa,EAAGC,KAAD,IAAW;AACxBjB,MAAAA,OAAO,IAAIA,OAAO,CAACiB,KAAD,CAAlB,CADwB;;AAExBd,MAAAA,MAAM,CAACc,KAAD,CAAN,CAAA;AACD,KAAA;AAZoE,GAAjD,CAAtB,CAAA;AAcA,EAAA,MAAMC,MAAM,GAAG,IAAIvB,MAAJ,CAAWa,aAAX,CAAf,CAAA;AACAU,EAAAA,MAAM,CAACC,KAAP,EAAA,CAAA;AACA,EAAO,OAAA;AACLD,IAAAA,MAAM,EAANA,MADK;AAELV,IAAAA,aAAa,EAAbA,aAFK;AAGLJ,IAAAA,OAAO,EAAPA,OAAAA;AAHK,GAAP,CAAA;AAKD;;;;"}
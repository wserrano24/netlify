{"version":3,"file":"FactorUtil.js","sources":["../../../../src/util/FactorUtil.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint complexity: [2, 38], max-statements: [2, 38] */\nimport { _, loc } from 'okta';\nimport TimeUtil from 'util/TimeUtil';\nconst fn = {};\nconst factorData = {\n  OKTA_VERIFY: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpSoft.oktaVerify',\n    description: 'factor.totpSoft.description',\n    iconClassName: 'mfa-okta-verify',\n    sortOrder: 1,\n  },\n  OKTA_VERIFY_PUSH: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.oktaVerifyPush',\n    description: 'factor.push.description',\n    iconClassName: 'mfa-okta-verify',\n    sortOrder: 1,\n  },\n  U2F: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.u2f',\n    description: brandName => {\n      return brandName ? 'factor.u2f.description.specific' : 'factor.u2f.description.generic';\n    },\n    iconClassName: 'mfa-u2f',\n    sortOrder: 2,\n  },\n  WEBAUTHN: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.webauthn.biometric',\n    description: 'factor.webauthn.biometric.description',\n    iconClassName: 'mfa-webauthn',\n    sortOrder: 2,\n  },\n  WINDOWS_HELLO: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.windowsHello',\n    description: brandName => {\n      return brandName\n        ? 'factor.windowsHello.signin.description.specific'\n        : 'factor.windowsHello.signin.description.generic';\n    },\n    iconClassName: 'mfa-windows-hello',\n    sortOrder: 3,\n  },\n  YUBIKEY: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.yubikey',\n    description: 'factor.totpHard.yubikey.description',\n    iconClassName: 'mfa-yubikey',\n    sortOrder: 4,\n  },\n  GOOGLE_AUTH: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpSoft.googleAuthenticator',\n    description: 'factor.totpSoft.description',\n    iconClassName: 'mfa-google-auth',\n    sortOrder: 5,\n  },\n  CUSTOM_HOTP: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.hotp.description',\n    iconClassName: 'mfa-hotp',\n    sortOrder: 6,\n  },\n  SMS: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.sms',\n    description: 'factor.sms.description',\n    iconClassName: 'mfa-okta-sms',\n    sortOrder: 7,\n  },\n  CALL: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.call',\n    description: 'factor.call.description',\n    iconClassName: 'mfa-okta-call',\n    sortOrder: 8,\n  },\n  EMAIL: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.email',\n    description: 'factor.email.description',\n    iconClassName: 'mfa-okta-email',\n    sortOrder: 9,\n  },\n  QUESTION: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.securityQuestion',\n    description: 'factor.securityQuestion.description',\n    iconClassName: 'mfa-okta-security-question',\n    sortOrder: 10,\n  },\n  DUO: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.duo',\n    description: 'factor.duo.description',\n    iconClassName: 'mfa-duo',\n    sortOrder: 11,\n  },\n  SYMANTEC_VIP: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.symantecVip',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-symantec',\n    sortOrder: 12,\n  },\n  RSA_SECURID: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.rsaSecurId',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-rsa',\n    sortOrder: 13,\n  },\n  ON_PREM: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-onprem',\n    sortOrder: 14,\n  },\n  PASSWORD: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.password',\n    description: '',\n    iconClassName: 'mfa-okta-password',\n    sortOrder: 15,\n  },\n  CUSTOM_CLAIMS: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.customFactor.description',\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 16,\n  },\n  GENERIC_SAML: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: brandName => {\n      return brandName ? 'factor.customFactor.description.specific' : 'factor.customFactor.description.generic';\n    },\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 17,\n  },\n  GENERIC_OIDC: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: brandName => {\n      return brandName ? 'factor.customFactor.description.specific' : 'factor.customFactor.description.generic';\n    },\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 18,\n  },\n};\n\nconst getPasswordComplexityRequirementsAsArray = function(policy, i18nKeys) {\n  const setExcludeAttributes = function(policyComplexity) {\n    const excludeAttributes = policyComplexity.excludeAttributes;\n\n    policyComplexity.excludeFirstName = _.contains(excludeAttributes, 'firstName');\n    policyComplexity.excludeLastName = _.contains(excludeAttributes, 'lastName');\n    return _.omit(policyComplexity, 'excludeAttributes');\n  };\n\n  if (policy.complexity) {\n    const complexityFields = i18nKeys.complexity;\n    const policyComplexity = setExcludeAttributes(policy.complexity);\n\n    const requirements = _.map(policyComplexity, function(complexityValue, complexityType) {\n      if (complexityValue <= 0) {\n        // to skip 0 and -1\n        return;\n      }\n\n      const params = complexityFields[complexityType];\n\n      return params.args ? loc(params.i18n, 'login', [complexityValue]) : loc(params.i18n, 'login');\n    });\n\n    return _.compact(requirements);\n  }\n  return [];\n};\n\nconst getPasswordHistoryRequirementDescription = function(policy, i18nKeys) {\n  if (policy.age && policy.age.historyCount > 0) {\n    return loc(i18nKeys.history.i18n, 'login', [policy.age.historyCount]);\n  }\n  return null;\n};\n\nconst getPasswordAgeRequirementDescription = function(policy, i18nKeys) {\n  const getPasswordAgeRequirement = function(displayableTime) {\n    let propertiesString;\n\n    switch (displayableTime.unit) {\n    case 'DAY':\n      propertiesString = i18nKeys.age.days.i18n;\n      break;\n    case 'HOUR':\n      propertiesString = i18nKeys.age.hours.i18n;\n      break;\n    case 'MINUTE':\n      propertiesString = i18nKeys.age.minutes.i18n;\n    }\n    return loc(propertiesString, 'login', [displayableTime.time]);\n  };\n\n  if (policy.age && policy.age.minAgeMinutes > 0) {\n    const displayableTime = TimeUtil.getTimeInHighestRelevantUnit(policy.age.minAgeMinutes, 'MINUTE');\n\n    return getPasswordAgeRequirement(displayableTime);\n  }\n  return null;\n};\n\nconst getPasswordRequirements = function(policy, i18nKeys) {\n  const passwordRequirements = {\n    complexity: [],\n    history: [],\n    age: [],\n  };\n\n  passwordRequirements.complexity = getPasswordComplexityRequirementsAsArray(policy, i18nKeys);\n\n  const historyRequirement = getPasswordHistoryRequirementDescription(policy, i18nKeys);\n\n  if (historyRequirement) {\n    passwordRequirements.history.push(historyRequirement);\n  }\n\n  const ageRequirement = getPasswordAgeRequirementDescription(policy, i18nKeys);\n\n  if (ageRequirement) {\n    passwordRequirements.age.push(ageRequirement);\n  }\n\n  return passwordRequirements;\n};\n\nfn.getFactorName = function(provider, factorType) {\n  if (provider === 'OKTA' && factorType === 'token:software:totp') {\n    return 'OKTA_VERIFY';\n  }\n  if (provider === 'OKTA' && factorType === 'push') {\n    return 'OKTA_VERIFY_PUSH';\n  }\n  if (provider === 'GOOGLE') {\n    return 'GOOGLE_AUTH';\n  }\n  if (provider === 'SYMANTEC' && factorType === 'token') {\n    return 'SYMANTEC_VIP';\n  }\n  if (provider === 'RSA' && factorType === 'token') {\n    return 'RSA_SECURID';\n  }\n  if (provider === 'DEL_OATH' && factorType === 'token') {\n    return 'ON_PREM';\n  }\n  if (provider === 'DUO' && factorType === 'web') {\n    return 'DUO';\n  }\n  if (provider === 'YUBICO' && factorType === 'token:hardware') {\n    return 'YUBIKEY';\n  }\n  if (provider === 'OKTA' && factorType === 'sms') {\n    return 'SMS';\n  }\n  if (provider === 'OKTA' && factorType === 'call') {\n    return 'CALL';\n  }\n  if (provider === 'OKTA' && factorType === 'question') {\n    return 'QUESTION';\n  }\n  if (provider === 'OKTA' && factorType === 'email') {\n    return 'EMAIL';\n  }\n  if (provider === 'OKTA' && factorType === 'password') {\n    return 'PASSWORD';\n  }\n  if (provider === 'GENERIC_SAML' && factorType === 'assertion:saml2') {\n    return 'GENERIC_SAML';\n  }\n  if (provider === 'GENERIC_OIDC' && factorType === 'assertion:oidc') {\n    return 'GENERIC_OIDC';\n  }\n  return fn.getFactorNameForFactorType.call(this, factorType);\n};\n\nfn.getFactorNameForFactorType = function(factorType) {\n  if (factorType === 'u2f') {\n    return 'U2F';\n  }\n  if (factorType === 'token:software:totp') {\n    return 'OKTA_VERIFY';\n  }\n  if (factorType === 'webauthn') {\n    if (this.settings.get('features.webauthn')) {\n      return 'WEBAUTHN';\n    } else {\n      return 'WINDOWS_HELLO';\n    }\n  }\n  if (factorType === 'token:hotp') {\n    return 'CUSTOM_HOTP';\n  }\n  if (factorType === 'claims_provider') {\n    return 'CUSTOM_CLAIMS';\n  }\n};\n\nfn.isOktaVerify = function(provider, factorType) {\n  return provider === 'OKTA' && (factorType === 'token:software:totp' || factorType === 'push');\n};\n\nfn.getFactorLabel = function(provider, factorType) {\n  const key = factorData[fn.getFactorName.apply(this, [provider, factorType])].label;\n\n  return loc(key, 'login');\n};\n\nfn.getFactorDescription = function(provider, factorType) {\n  const descriptionKey = factorData[fn.getFactorName.apply(this, [provider, factorType])].description;\n\n  if (_.isFunction(descriptionKey)) {\n    const brandName = this.settings.get('brandName');\n    const key = descriptionKey(brandName);\n\n    return brandName ? loc(key, 'login', [brandName]) : loc(key, 'login');\n  } else {\n    return loc(descriptionKey, 'login');\n  }\n};\n\nfn.getFactorIconClassName = function(provider, factorType) {\n  return factorData[fn.getFactorName.apply(this, [provider, factorType])].iconClassName;\n};\n\nfn.getFactorSortOrder = function(provider, factorType) {\n  return factorData[fn.getFactorName.apply(this, [provider, factorType])].sortOrder;\n};\n\nfn.getRememberDeviceValue = function(appState) {\n  return appState && appState.get('rememberDeviceByDefault');\n};\n\nfn.getSecurityQuestionLabel = function(questionObj) {\n  const localizedQuestion = loc('security.' + questionObj.question);\n\n  return localizedQuestion.indexOf('L10N_ERROR') < 0 ? localizedQuestion : questionObj.questionText;\n};\n\nfn.removeRequirementsFromError = function(responseJSON, policy) {\n  const passwordRequirementsAsString = this.getPasswordComplexityDescription(policy);\n\n  if (\n    responseJSON.errorCauses &&\n    responseJSON.errorCauses.length > 0 &&\n    _.isString(responseJSON.errorCauses[0].errorSummary)\n  ) {\n    responseJSON.errorCauses[0].errorSummary = responseJSON.errorCauses[0].errorSummary\n      .replace(passwordRequirementsAsString, '')\n      .trim();\n  }\n  return responseJSON;\n};\n\nfn.getPasswordComplexityDescriptionForHtmlList = function(policy) {\n  const passwordRequirementHtmlI18nKeys = {\n    complexity: {\n      minLength: { i18n: 'password.complexity.length.description', args: true },\n      minLowerCase: { i18n: 'password.complexity.lowercase.description' },\n      minUpperCase: { i18n: 'password.complexity.uppercase.description' },\n      minNumber: { i18n: 'password.complexity.number.description' },\n      minSymbol: { i18n: 'password.complexity.symbol.description' },\n      excludeUsername: { i18n: 'password.complexity.no_username.description' },\n      excludeFirstName: { i18n: 'password.complexity.no_first_name.description' },\n      excludeLastName: { i18n: 'password.complexity.no_last_name.description' },\n    },\n    history: { i18n: 'password.complexity.history.description' },\n    age: {\n      minutes: { i18n: 'password.complexity.minAgeMinutes.description' },\n      hours: { i18n: 'password.complexity.minAgeHours.description' },\n      days: { i18n: 'password.complexity.minAgeDays.description' },\n    },\n  };\n  const passwordRequirements = getPasswordRequirements(policy, passwordRequirementHtmlI18nKeys);\n\n  return _.union(passwordRequirements.complexity, passwordRequirements.history, passwordRequirements.age);\n};\n\nfn.getPasswordComplexityDescription = function(policy) {\n  const passwordRequirementI18nKeys = {\n    complexity: {\n      minLength: { i18n: 'password.complexity.length', args: true },\n      minLowerCase: { i18n: 'password.complexity.lowercase' },\n      minUpperCase: { i18n: 'password.complexity.uppercase' },\n      minNumber: { i18n: 'password.complexity.number' },\n      minSymbol: { i18n: 'password.complexity.symbol' },\n      excludeUsername: { i18n: 'password.complexity.no_username' },\n      excludeFirstName: { i18n: 'password.complexity.no_first_name' },\n      excludeLastName: { i18n: 'password.complexity.no_last_name' },\n    },\n    history: { i18n: 'password.complexity.history' },\n    age: {\n      minutes: { i18n: 'password.complexity.minAgeMinutes' },\n      hours: { i18n: 'password.complexity.minAgeHours' },\n      days: { i18n: 'password.complexity.minAgeDays' },\n    },\n  };\n  const result = [];\n  const passwordRequirements = getPasswordRequirements(policy, passwordRequirementI18nKeys);\n  let requirements = passwordRequirements.complexity;\n\n  // Generate and add complexity string to result\n  if (requirements.length > 0) {\n    requirements = _.reduce(requirements, function(result, requirement) {\n      return result ? result + loc('password.complexity.list.element', 'login', [requirement]) : requirement;\n    });\n\n    result.push(loc('password.complexity.requirements', 'login', [requirements]));\n  }\n\n  // Only 1 value expected in history and age for now\n  result.push(passwordRequirements.history[0]);\n  result.push(passwordRequirements.age[0]);\n\n  return _.compact(result).join(' ');\n};\n\nfn.getCardinalityText = function(enrolled, required, cardinality) {\n  if (cardinality) {\n    if (enrolled) {\n      return cardinality.enrolled === 1 ? '' : loc('enroll.choices.cardinality.setup', 'login', [cardinality.enrolled]);\n    } else if (required && cardinality.maximum > 1) {\n      return loc('enroll.choices.cardinality.setup.remaining', 'login', [cardinality.enrolled, cardinality.minimum]);\n    }\n  }\n  return '';\n};\n\nfn.findFactorInFactorsArray = function(factors, provider, factorType) {\n  let factor = factors.findWhere({ provider: provider, factorType: factorType });\n\n  if (factor === undefined) {\n    //for factors that support cardinality and only have factorType\n    factor = factors.findWhere({ factorType: factorType });\n  }\n  return factor;\n};\n\nexport default fn;\n"],"names":["fn","factorData","OKTA_VERIFY","label","description","iconClassName","sortOrder","OKTA_VERIFY_PUSH","U2F","brandName","WEBAUTHN","WINDOWS_HELLO","YUBIKEY","GOOGLE_AUTH","CUSTOM_HOTP","SMS","CALL","EMAIL","QUESTION","DUO","SYMANTEC_VIP","RSA_SECURID","ON_PREM","PASSWORD","CUSTOM_CLAIMS","GENERIC_SAML","GENERIC_OIDC","getPasswordComplexityRequirementsAsArray","policy","i18nKeys","setExcludeAttributes","policyComplexity","excludeAttributes","excludeFirstName","_","contains","excludeLastName","omit","complexity","complexityFields","requirements","map","complexityValue","complexityType","params","args","loc","i18n","compact","getPasswordHistoryRequirementDescription","age","historyCount","history","getPasswordAgeRequirementDescription","getPasswordAgeRequirement","displayableTime","propertiesString","unit","days","hours","minutes","time","minAgeMinutes","TimeUtil","getTimeInHighestRelevantUnit","getPasswordRequirements","passwordRequirements","historyRequirement","push","ageRequirement","getFactorName","provider","factorType","getFactorNameForFactorType","call","settings","get","isOktaVerify","getFactorLabel","key","apply","getFactorDescription","descriptionKey","isFunction","getFactorIconClassName","getFactorSortOrder","getRememberDeviceValue","appState","getSecurityQuestionLabel","questionObj","localizedQuestion","question","indexOf","questionText","removeRequirementsFromError","responseJSON","passwordRequirementsAsString","getPasswordComplexityDescription","errorCauses","length","isString","errorSummary","replace","trim","getPasswordComplexityDescriptionForHtmlList","passwordRequirementHtmlI18nKeys","minLength","minLowerCase","minUpperCase","minNumber","minSymbol","excludeUsername","union","passwordRequirementI18nKeys","result","reduce","requirement","join","getCardinalityText","enrolled","required","cardinality","maximum","minimum","findFactorInFactorsArray","factors","factor","findWhere","undefined"],"mappings":"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"}
{"version":3,"file":"CountryUtil.js","sources":["../../../../src/util/CountryUtil.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _, loc } from 'okta';\nimport bundles from './Bundles';\nimport countryCallingCodes from './countryCallingCodes';\nconst fn = {};\n\n// () => [{ countryCode: countryName }], sorted by countryName\nfn.getCountries = function() {\n  const countries = _.omit(bundles.country, 'HM', 'BV', 'TF');\n  // HM, BV, and TF do not have phone prefixes, so don't give the\n  // user the option to choose these countries. FYI it appears that these\n  // countries do not have calling codes because they are ~~uninhabited~~\n\n  let collection = _.map(countries, function(name, code) {\n    return { name: name, code: code };\n  });\n\n  // Sort it; figure out if there is a better way to do this (best would\n  // be to sort it in the properties file!!)\n\n  collection = _.sortBy(collection, 'name');\n  const sorted = {};\n\n  _.each(collection, function(country) {\n    sorted[country.code] = country.name;\n  });\n\n  return sorted;\n};\n\nfn.getCountryCode = function(){\n\n  const countries = _.omit(bundles.country, 'HM', 'BV', 'TF');\n  // HM, BV, and TF do not have phone prefixes, so don't give the\n  // user the option to choose these countries. FYI it appears that these\n  // countries do not have calling codes because they are ~~uninhabited~~\n\n  let collection = _.map(countries, function(name, code) {\n    return { name: name, code: code };\n  });\n\n  collection = _.sortBy(collection, 'name');\n  const sorted = {};\n\n  _.each(collection, function(country) {\n    sorted[country.code] = loc('country.option.label', 'login', [country.name, country.code]);\n  });\n\n  return sorted;\n};\n\nfn.getCallingCodeForCountry = function(countryCode) {\n  return countryCallingCodes[countryCode];\n};\n\nexport default fn;\n"],"names":["fn","getCountries","countries","_","omit","bundles","country","collection","map","name","code","sortBy","sorted","each","getCountryCode","loc","getCallingCodeForCountry","countryCode","countryCallingCodes"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA,MAAMA,EAAE,GAAG;;AAGXA,EAAE,CAACC,YAAH,GAAkB,YAAW;AAC3B,EAAA,MAAMC,SAAS,GAAGC,cAAC,CAACC,IAAF,CAAOC,OAAO,CAACC,OAAf,EAAwB,IAAxB,EAA8B,IAA9B,EAAoC,IAApC,CAAlB,CAD2B;AAG3B;AACA;;;AAEA,EAAA,IAAIC,UAAU,GAAGJ,cAAC,CAACK,GAAF,CAAMN,SAAN,EAAiB,UAASO,IAAT,EAAeC,IAAf,EAAqB;AACrD,IAAO,OAAA;AAAED,MAAAA,IAAI,EAAEA,IAAR;AAAcC,MAAAA,IAAI,EAAEA,IAAAA;AAApB,KAAP,CAAA;AACD,GAFgB,CAAjB,CAN2B;AAW3B;;;AAEAH,EAAAA,UAAU,GAAGJ,cAAC,CAACQ,MAAF,CAASJ,UAAT,EAAqB,MAArB,CAAb,CAAA;AACA,EAAMK,MAAAA,MAAM,GAAG,EAAf,CAAA;;AAEAT,EAAAA,cAAC,CAACU,IAAF,CAAON,UAAP,EAAmB,UAASD,OAAT,EAAkB;AACnCM,IAAAA,MAAM,CAACN,OAAO,CAACI,IAAT,CAAN,GAAuBJ,OAAO,CAACG,IAA/B,CAAA;AACD,GAFD,CAAA,CAAA;;AAIA,EAAA,OAAOG,MAAP,CAAA;AACD,CArBD,CAAA;;AAuBAZ,EAAE,CAACc,cAAH,GAAoB,YAAU;AAE5B,EAAA,MAAMZ,SAAS,GAAGC,cAAC,CAACC,IAAF,CAAOC,OAAO,CAACC,OAAf,EAAwB,IAAxB,EAA8B,IAA9B,EAAoC,IAApC,CAAlB,CAF4B;AAI5B;AACA;;;AAEA,EAAA,IAAIC,UAAU,GAAGJ,cAAC,CAACK,GAAF,CAAMN,SAAN,EAAiB,UAASO,IAAT,EAAeC,IAAf,EAAqB;AACrD,IAAO,OAAA;AAAED,MAAAA,IAAI,EAAEA,IAAR;AAAcC,MAAAA,IAAI,EAAEA,IAAAA;AAApB,KAAP,CAAA;AACD,GAFgB,CAAjB,CAAA;;AAIAH,EAAAA,UAAU,GAAGJ,cAAC,CAACQ,MAAF,CAASJ,UAAT,EAAqB,MAArB,CAAb,CAAA;AACA,EAAMK,MAAAA,MAAM,GAAG,EAAf,CAAA;;AAEAT,EAAAA,cAAC,CAACU,IAAF,CAAON,UAAP,EAAmB,UAASD,OAAT,EAAkB;AACnCM,IAAAA,MAAM,CAACN,OAAO,CAACI,IAAT,CAAN,GAAuBK,GAAG,CAAC,sBAAD,EAAyB,OAAzB,EAAkC,CAACT,OAAO,CAACG,IAAT,EAAeH,OAAO,CAACI,IAAvB,CAAlC,CAA1B,CAAA;AACD,GAFD,CAAA,CAAA;;AAIA,EAAA,OAAOE,MAAP,CAAA;AACD,CAnBD,CAAA;;AAqBAZ,EAAE,CAACgB,wBAAH,GAA8B,UAASC,WAAT,EAAsB;AAClD,EAAOC,OAAAA,mBAAmB,CAACD,WAAD,CAA1B,CAAA;AACD,CAFD;;;;"}